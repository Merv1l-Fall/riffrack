(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function Q_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ud={exports:{}},hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function I2(){if(rv)return hl;rv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var c in o)c!=="key"&&(u[c]=o[c])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return hl.Fragment=e,hl.jsx=r,hl.jsxs=r,hl}var iv;function N2(){return iv||(iv=1,ud.exports=I2()),ud.exports}var K=N2(),cd={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function M2(){if(av)return qe;av=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),d=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=d&&B[d]||B["@@iterator"],typeof B=="function"?B:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,_={};function A(B,re,me){this.props=B,this.context=re,this.refs=_,this.updater=me||b}A.prototype.isReactComponent={},A.prototype.setState=function(B,re){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,re,"setState")},A.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function w(){}w.prototype=A.prototype;function R(B,re,me){this.props=B,this.context=re,this.refs=_,this.updater=me||b}var D=R.prototype=new w;D.constructor=R,v(D,A.prototype),D.isPureReactComponent=!0;var V=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function I(B,re,me,ce,_e,ke){return me=ke.ref,{$$typeof:i,type:B,key:re,ref:me!==void 0?me:null,props:ke}}function S(B,re){return I(B.type,re,void 0,void 0,void 0,B.props)}function x(B){return typeof B=="object"&&B!==null&&B.$$typeof===i}function O(B){var re={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(me){return re[me]})}var k=/\/+/g;function $(B,re){return typeof B=="object"&&B!==null&&B.key!=null?O(""+B.key):re.toString(36)}function U(){}function he(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(U,U):(B.status="pending",B.then(function(re){B.status==="pending"&&(B.status="fulfilled",B.value=re)},function(re){B.status==="pending"&&(B.status="rejected",B.reason=re)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function pe(B,re,me,ce,_e){var ke=typeof B;(ke==="undefined"||ke==="boolean")&&(B=null);var xe=!1;if(B===null)xe=!0;else switch(ke){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(B.$$typeof){case i:case e:xe=!0;break;case E:return xe=B._init,pe(xe(B._payload),re,me,ce,_e)}}if(xe)return _e=_e(B),xe=ce===""?"."+$(B,0):ce,V(_e)?(me="",xe!=null&&(me=xe.replace(k,"$&/")+"/"),pe(_e,re,me,"",function(Gn){return Gn})):_e!=null&&(x(_e)&&(_e=S(_e,me+(_e.key==null||B&&B.key===_e.key?"":(""+_e.key).replace(k,"$&/")+"/")+xe)),re.push(_e)),1;xe=0;var wt=ce===""?".":ce+":";if(V(B))for(var pt=0;pt<B.length;pt++)ce=B[pt],ke=wt+$(ce,pt),xe+=pe(ce,re,me,ke,_e);else if(pt=y(B),typeof pt=="function")for(B=pt.call(B),pt=0;!(ce=B.next()).done;)ce=ce.value,ke=wt+$(ce,pt++),xe+=pe(ce,re,me,ke,_e);else if(ke==="object"){if(typeof B.then=="function")return pe(he(B),re,me,ce,_e);throw re=String(B),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return xe}function G(B,re,me){if(B==null)return B;var ce=[],_e=0;return pe(B,ce,"","",function(ke){return re.call(me,ke,_e++)}),ce}function se(B){if(B._status===-1){var re=B._result;re=re(),re.then(function(me){(B._status===0||B._status===-1)&&(B._status=1,B._result=me)},function(me){(B._status===0||B._status===-1)&&(B._status=2,B._result=me)}),B._status===-1&&(B._status=0,B._result=re)}if(B._status===1)return B._result.default;throw B._result}var ye=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Re(){}return qe.Children={map:G,forEach:function(B,re,me){G(B,function(){re.apply(this,arguments)},me)},count:function(B){var re=0;return G(B,function(){re++}),re},toArray:function(B){return G(B,function(re){return re})||[]},only:function(B){if(!x(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},qe.Component=A,qe.Fragment=r,qe.Profiler=o,qe.PureComponent=R,qe.StrictMode=s,qe.Suspense=p,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,qe.__COMPILER_RUNTIME={__proto__:null,c:function(B){return j.H.useMemoCache(B)}},qe.cache=function(B){return function(){return B.apply(null,arguments)}},qe.cloneElement=function(B,re,me){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ce=v({},B.props),_e=B.key,ke=void 0;if(re!=null)for(xe in re.ref!==void 0&&(ke=void 0),re.key!==void 0&&(_e=""+re.key),re)!L.call(re,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&re.ref===void 0||(ce[xe]=re[xe]);var xe=arguments.length-2;if(xe===1)ce.children=me;else if(1<xe){for(var wt=Array(xe),pt=0;pt<xe;pt++)wt[pt]=arguments[pt+2];ce.children=wt}return I(B.type,_e,void 0,void 0,ke,ce)},qe.createContext=function(B){return B={$$typeof:f,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:u,_context:B},B},qe.createElement=function(B,re,me){var ce,_e={},ke=null;if(re!=null)for(ce in re.key!==void 0&&(ke=""+re.key),re)L.call(re,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(_e[ce]=re[ce]);var xe=arguments.length-2;if(xe===1)_e.children=me;else if(1<xe){for(var wt=Array(xe),pt=0;pt<xe;pt++)wt[pt]=arguments[pt+2];_e.children=wt}if(B&&B.defaultProps)for(ce in xe=B.defaultProps,xe)_e[ce]===void 0&&(_e[ce]=xe[ce]);return I(B,ke,void 0,void 0,null,_e)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(B){return{$$typeof:c,render:B}},qe.isValidElement=x,qe.lazy=function(B){return{$$typeof:E,_payload:{_status:-1,_result:B},_init:se}},qe.memo=function(B,re){return{$$typeof:g,type:B,compare:re===void 0?null:re}},qe.startTransition=function(B){var re=j.T,me={};j.T=me;try{var ce=B(),_e=j.S;_e!==null&&_e(me,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Re,ye)}catch(ke){ye(ke)}finally{j.T=re}},qe.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},qe.use=function(B){return j.H.use(B)},qe.useActionState=function(B,re,me){return j.H.useActionState(B,re,me)},qe.useCallback=function(B,re){return j.H.useCallback(B,re)},qe.useContext=function(B){return j.H.useContext(B)},qe.useDebugValue=function(){},qe.useDeferredValue=function(B,re){return j.H.useDeferredValue(B,re)},qe.useEffect=function(B,re,me){var ce=j.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(B,re)},qe.useId=function(){return j.H.useId()},qe.useImperativeHandle=function(B,re,me){return j.H.useImperativeHandle(B,re,me)},qe.useInsertionEffect=function(B,re){return j.H.useInsertionEffect(B,re)},qe.useLayoutEffect=function(B,re){return j.H.useLayoutEffect(B,re)},qe.useMemo=function(B,re){return j.H.useMemo(B,re)},qe.useOptimistic=function(B,re){return j.H.useOptimistic(B,re)},qe.useReducer=function(B,re,me){return j.H.useReducer(B,re,me)},qe.useRef=function(B){return j.H.useRef(B)},qe.useState=function(B){return j.H.useState(B)},qe.useSyncExternalStore=function(B,re,me){return j.H.useSyncExternalStore(B,re,me)},qe.useTransition=function(){return j.H.useTransition()},qe.version="19.1.0",qe}var sv;function nm(){return sv||(sv=1,cd.exports=M2()),cd.exports}var te=nm();const ov=Q_(te);var fd={exports:{}},dl={},hd={exports:{}},dd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function V2(){return lv||(lv=1,function(i){function e(G,se){var ye=G.length;G.push(se);e:for(;0<ye;){var Re=ye-1>>>1,B=G[Re];if(0<o(B,se))G[Re]=se,G[ye]=B,ye=Re;else break e}}function r(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var se=G[0],ye=G.pop();if(ye!==se){G[0]=ye;e:for(var Re=0,B=G.length,re=B>>>1;Re<re;){var me=2*(Re+1)-1,ce=G[me],_e=me+1,ke=G[_e];if(0>o(ce,ye))_e<B&&0>o(ke,ce)?(G[Re]=ke,G[_e]=ye,Re=_e):(G[Re]=ce,G[me]=ye,Re=me);else if(_e<B&&0>o(ke,ye))G[Re]=ke,G[_e]=ye,Re=_e;else break e}}return se}function o(G,se){var ye=G.sortIndex-se.sortIndex;return ye!==0?ye:G.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,c=f.now();i.unstable_now=function(){return f.now()-c}}var p=[],g=[],E=1,d=null,y=3,b=!1,v=!1,_=!1,A=!1,w=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function V(G){for(var se=r(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=G)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=r(g)}}function j(G){if(_=!1,V(G),!v)if(r(p)!==null)v=!0,L||(L=!0,$());else{var se=r(g);se!==null&&pe(j,se.startTime-G)}}var L=!1,I=-1,S=5,x=-1;function O(){return A?!0:!(i.unstable_now()-x<S)}function k(){if(A=!1,L){var G=i.unstable_now();x=G;var se=!0;try{e:{v=!1,_&&(_=!1,R(I),I=-1),b=!0;var ye=y;try{t:{for(V(G),d=r(p);d!==null&&!(d.expirationTime>G&&O());){var Re=d.callback;if(typeof Re=="function"){d.callback=null,y=d.priorityLevel;var B=Re(d.expirationTime<=G);if(G=i.unstable_now(),typeof B=="function"){d.callback=B,V(G),se=!0;break t}d===r(p)&&s(p),V(G)}else s(p);d=r(p)}if(d!==null)se=!0;else{var re=r(g);re!==null&&pe(j,re.startTime-G),se=!1}}break e}finally{d=null,y=ye,b=!1}se=void 0}}finally{se?$():L=!1}}}var $;if(typeof D=="function")$=function(){D(k)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,he=U.port2;U.port1.onmessage=k,$=function(){he.postMessage(null)}}else $=function(){w(k,0)};function pe(G,se){I=w(function(){G(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_next=function(G){switch(y){case 1:case 2:case 3:var se=3;break;default:se=y}var ye=y;y=se;try{return G()}finally{y=ye}},i.unstable_requestPaint=function(){A=!0},i.unstable_runWithPriority=function(G,se){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ye=y;y=G;try{return se()}finally{y=ye}},i.unstable_scheduleCallback=function(G,se,ye){var Re=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Re+ye:Re):ye=Re,G){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ye+B,G={id:E++,callback:se,priorityLevel:G,startTime:ye,expirationTime:B,sortIndex:-1},ye>Re?(G.sortIndex=ye,e(g,G),r(p)===null&&G===r(g)&&(_?(R(I),I=-1):_=!0,pe(j,ye-Re))):(G.sortIndex=B,e(p,G),v||b||(v=!0,L||(L=!0,$()))),G},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(G){var se=y;return function(){var ye=y;y=se;try{return G.apply(this,arguments)}finally{y=ye}}}}(dd)),dd}var uv;function L2(){return uv||(uv=1,hd.exports=V2()),hd.exports}var md={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function j2(){if(cv)return pn;cv=1;var i=nm();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:d==null?null:""+d,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,pn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},pn.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},pn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},pn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},pn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,d=c(E,g.crossOrigin),y=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:d,integrity:y,fetchPriority:b}):E==="script"&&s.d.X(p,{crossOrigin:d,integrity:y,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=c(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},pn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,d=c(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:d,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=c(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},pn.requestFormReset=function(p){s.d.r(p)},pn.unstable_batchedUpdates=function(p,g){return p(g)},pn.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},pn.useFormStatus=function(){return f.H.useHostTransitionStatus()},pn.version="19.1.0",pn}var fv;function k2(){if(fv)return md.exports;fv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),md.exports=j2(),md.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function P2(){if(hv)return dl;hv=1;var i=L2(),e=nm(),r=k2();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function c(t){if(u(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var m=a.return;if(m===null)break;var T=m.alternate;if(T===null){if(l=m.return,l!==null){a=l;continue}break}if(m.child===T.child){for(T=m.child;T;){if(T===a)return c(m),t;if(T===l)return c(m),n;T=T.sibling}throw Error(s(188))}if(a.return!==l.return)a=m,l=T;else{for(var M=!1,P=m.child;P;){if(P===a){M=!0,a=m,l=T;break}if(P===l){M=!0,l=m,a=T;break}P=P.sibling}if(!M){for(P=T.child;P;){if(P===a){M=!0,a=T,l=m;break}if(P===l){M=!0,l=T,a=m;break}P=P.sibling}if(!M)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function g(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=g(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,d=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function $(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var U=Symbol.for("react.client.reference");function he(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===U?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case v:return"Fragment";case A:return"Profiler";case _:return"StrictMode";case j:return"Suspense";case L:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case D:return(t.displayName||"Context")+".Provider";case R:return(t._context.displayName||"Context")+".Consumer";case V:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:he(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return he(t(n))}catch{}}return null}var pe=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Re=[],B=-1;function re(t){return{current:t}}function me(t){0>B||(t.current=Re[B],Re[B]=null,B--)}function ce(t,n){B++,Re[B]=t.current,t.current=n}var _e=re(null),ke=re(null),xe=re(null),wt=re(null);function pt(t,n){switch(ce(xe,n),ce(ke,t),ce(_e,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Iy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Iy(n),t=Ny(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}me(_e),ce(_e,t)}function Gn(){me(_e),me(ke),me(xe)}function St(t){t.memoizedState!==null&&ce(wt,t);var n=_e.current,a=Ny(n,t.type);n!==a&&(ce(ke,t),ce(_e,a))}function fn(t){ke.current===t&&(me(_e),me(ke)),wt.current===t&&(me(wt),ol._currentValue=ye)}var wr=Object.prototype.hasOwnProperty,Yr=i.unstable_scheduleCallback,_n=i.unstable_cancelCallback,_a=i.unstable_shouldYield,is=i.unstable_requestPaint,bn=i.unstable_now,mo=i.unstable_getCurrentPriorityLevel,ba=i.unstable_ImmediatePriority,Si=i.unstable_UserBlockingPriority,Kr=i.unstable_NormalPriority,dr=i.unstable_LowPriority,Qn=i.unstable_IdlePriority,Ai=i.log,Ri=i.unstable_setDisableYieldValue,lt=null,He=null;function hn(t){if(typeof Ai=="function"&&Ri(t),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(lt,t)}catch{}}var Lt=Math.clz32?Math.clz32:Tr,as=Math.log,Yn=Math.LN2;function Tr(t){return t>>>=0,t===0?32:31-(as(t)/Yn|0)|0}var Sr=256,Ar=4194304;function Nn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xr(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var m=0,T=t.suspendedLanes,M=t.pingedLanes;t=t.warmLanes;var P=l&134217727;return P!==0?(l=P&~T,l!==0?m=Nn(l):(M&=P,M!==0?m=Nn(M):a||(a=P&~t,a!==0&&(m=Nn(a))))):(P=l&~T,P!==0?m=Nn(P):M!==0?m=Nn(M):a||(a=l&~t,a!==0&&(m=Nn(a)))),m===0?0:n!==0&&n!==m&&(n&T)===0&&(T=m&-m,a=n&-n,T>=a||T===32&&(a&4194048)!==0)?n:m}function Kn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function xi(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zr(){var t=Sr;return Sr<<=1,(Sr&4194048)===0&&(Sr=256),t}function Ea(){var t=Ar;return Ar<<=1,(Ar&62914560)===0&&(Ar=4194304),t}function Xn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function mr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ci(t,n,a,l,m,T){var M=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var P=t.entanglements,q=t.expirationTimes,W=t.hiddenUpdates;for(a=M&~a;0<a;){var ae=31-Lt(a),ue=1<<ae;P[ae]=0,q[ae]=-1;var ee=W[ae];if(ee!==null)for(W[ae]=null,ae=0;ae<ee.length;ae++){var ne=ee[ae];ne!==null&&(ne.lane&=-536870913)}a&=~ue}l!==0&&En(t,l,0),T!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=T&~(M&~n))}function En(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Lt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Rr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Lt(a),m=1<<l;m&n|t[l]&n&&(t[l]|=n),a&=~m}}function xr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Di(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function H(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Zy(t.type))}function Y(t,n){var a=se.p;try{return se.p=t,n()}finally{se.p=a}}var J=Math.random().toString(36).slice(2),le="__reactFiber$"+J,ge="__reactProps$"+J,Ee="__reactContainer$"+J,Ie="__reactEvents$"+J,we="__reactListeners$"+J,Se="__reactHandles$"+J,Ce="__reactResources$"+J,Me="__reactMarker$"+J;function Ae(t){delete t[le],delete t[ge],delete t[Ie],delete t[we],delete t[Se]}function Le(t){var n=t[le];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ee]||a[le]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=jy(t);t!==null;){if(a=t[le])return a;t=jy(t)}return n}t=a,a=t.parentNode}return null}function Xe(t){if(t=t[le]||t[Ee]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function ct(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function st(t){var n=t[Ce];return n||(n=t[Ce]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function et(t){t[Me]=!0}var Qe=new Set,Zn={};function $t(t,n){wn(t,n),wn(t+"Capture",n)}function wn(t,n){for(Zn[t]=n,t=0;t<n.length;t++)Qe.add(n[t])}var tn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cr={},Mn={};function Oi(t){return wr.call(Mn,t)?!0:wr.call(Cr,t)?!1:tn.test(t)?Mn[t]=!0:(Cr[t]=!0,!1)}function dn(t,n,a){if(Oi(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Tn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function ze(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var jt,Vn;function Rn(t){if(jt===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);jt=n&&n[1]||"",Vn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jt+t+Vn}var Dr=!1;function bt(t,n){if(!t||Dr)return"";Dr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var ee=ne}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(ne){ee=ne}t.call(ue.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=l.DetermineComponentFrameRoot(),M=T[0],P=T[1];if(M&&P){var q=M.split(`
`),W=P.split(`
`);for(m=l=0;l<q.length&&!q[l].includes("DetermineComponentFrameRoot");)l++;for(;m<W.length&&!W[m].includes("DetermineComponentFrameRoot");)m++;if(l===q.length||m===W.length)for(l=q.length-1,m=W.length-1;1<=l&&0<=m&&q[l]!==W[m];)m--;for(;1<=l&&0<=m;l--,m--)if(q[l]!==W[m]){if(l!==1||m!==1)do if(l--,m--,0>m||q[l]!==W[m]){var ae=`
`+q[l].replace(" at new "," at ");return t.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",t.displayName)),ae}while(1<=l&&0<=m);break}}}finally{Dr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Rn(a):""}function Jn(t){switch(t.tag){case 26:case 27:case 5:return Rn(t.type);case 16:return Rn("Lazy");case 13:return Rn("Suspense");case 19:return Rn("SuspenseList");case 0:case 15:return bt(t.type,!1);case 11:return bt(t.type.render,!1);case 1:return bt(t.type,!0);case 31:return Rn("Activity");default:return""}}function Jr(t){try{var n="";do n+=Jn(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function po(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function df(t){var n=po(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var m=a.get,T=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return m.call(this)},set:function(M){l=""+M,T.call(this,M)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(M){l=""+M},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ss(t){t._valueTracker||(t._valueTracker=df(t))}function go(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=po(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function wa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var mf=/[\n"\\]/g;function kt(t){return t.replace(mf,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ln(t,n,a,l,m,T,M,P){t.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.type=M:t.removeAttribute("type"),n!=null?M==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+nn(n)):t.value!==""+nn(n)&&(t.value=""+nn(n)):M!=="submit"&&M!=="reset"||t.removeAttribute("value"),n!=null?Ii(t,M,nn(n)):a!=null?Ii(t,M,nn(a)):l!=null&&t.removeAttribute("value"),m==null&&T!=null&&(t.defaultChecked=!!T),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?t.name=""+nn(P):t.removeAttribute("name")}function Ta(t,n,a,l,m,T,M,P){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.type=T),n!=null||a!=null){if(!(T!=="submit"&&T!=="reset"||n!=null))return;a=a!=null?""+nn(a):"",n=n!=null?""+nn(n):a,P||n===t.value||(t.value=n),t.defaultValue=n}l=l??m,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=P?t.checked:!!l,t.defaultChecked=!!l,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(t.name=M)}function Ii(t,n,a){n==="number"&&wa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Wr(t,n,a,l){if(t=t.options,n){n={};for(var m=0;m<a.length;m++)n["$"+a[m]]=!0;for(a=0;a<t.length;a++)m=n.hasOwnProperty("$"+t[a].value),t[a].selected!==m&&(t[a].selected=m),m&&l&&(t[a].defaultSelected=!0)}else{for(a=""+nn(a),n=null,m=0;m<t.length;m++){if(t[m].value===a){t[m].selected=!0,l&&(t[m].defaultSelected=!0);return}n!==null||t[m].disabled||(n=t[m])}n!==null&&(n.selected=!0)}}function gt(t,n,a){if(n!=null&&(n=""+nn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+nn(a):""}function Sa(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(pe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=nn(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Wn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Aa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Aa.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function yo(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var m in n)l=n[m],n.hasOwnProperty(m)&&a[m]!==l&&Hl(t,m,l)}else for(var T in n)n.hasOwnProperty(T)&&Hl(t,T,n[T])}function vo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function os(t){return gf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ei=null;function er(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ti=null,ni=null;function _o(t){var n=Xe(t);if(n&&(t=n.stateNode)){var a=t[ge]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ln(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+kt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var m=l[ge]||null;if(!m)throw Error(s(90));Ln(l,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&go(l)}break e;case"textarea":gt(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Wr(t,!!a.multiple,n,!1)}}}var Or=!1;function Fl(t,n,a){if(Or)return t(n,a);Or=!0;try{var l=t(n);return l}finally{if(Or=!1,(ti!==null||ni!==null)&&(Pu(),ti&&(n=ti,t=ni,ni=ti=null,_o(n),t)))for(n=0;n<t.length;n++)_o(t[n])}}function Ra(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ge]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tr=!1;if(pr)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){tr=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{tr=!1}var Ir=null,Ni=null,ri=null;function bo(){if(ri)return ri;var t,n=Ni,a=n.length,l,m="value"in Ir?Ir.value:Ir.textContent,T=m.length;for(t=0;t<a&&n[t]===m[t];t++);var M=a-t;for(l=1;l<=M&&n[a-l]===m[T-l];l++);return ri=m.slice(t,1<l?1-l:void 0)}function Nr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Mr(){return!0}function Eo(){return!1}function Kt(t){function n(a,l,m,T,M){this._reactName=a,this._targetInst=m,this.type=l,this.nativeEvent=T,this.target=M,this.currentTarget=null;for(var P in t)t.hasOwnProperty(P)&&(a=t[P],this[P]=a?a(T):T[P]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Mr:Eo,this.isPropagationStopped=Eo,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mr)},persist:function(){},isPersistent:Mr}),n}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=Kt(ft),Ca=E({},ft,{view:0,detail:0}),Gl=Kt(Ca),us,cs,Vr,Da=E({},Ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Na,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vr&&(Vr&&t.type==="mousemove"?(us=t.screenX-Vr.screenX,cs=t.screenY-Vr.screenY):cs=us=0,Vr=t),us)},movementY:function(t){return"movementY"in t?t.movementY:cs}}),nr=Kt(Da),Ql=E({},Da,{dataTransfer:0}),yf=Kt(Ql),Oa=E({},Ca,{relatedTarget:0}),fs=Kt(Oa),wo=E({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),hs=Kt(wo),Yl=E({},ft,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ds=Kt(Yl),vf=E({},ft,{data:0}),To=Kt(vf),Ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function So(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Xl[t])?!!n[t]:!1}function Na(){return So}var Zl=E({},Ca,{key:function(t){if(t.key){var n=Ia[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Nr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Na,charCode:function(t){return t.type==="keypress"?Nr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ms=Kt(Zl),Jl=E({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ao=Kt(Jl),ii=E({},Ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Na}),Wl=Kt(ii),eu=E({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),tu=Kt(eu),nu=E({},Da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ps=Kt(nu),Sn=E({},ft,{newState:0,oldState:0}),ru=Kt(Sn),iu=[9,13,27,32],Lr=pr&&"CompositionEvent"in window,h=null;pr&&"documentMode"in document&&(h=document.documentMode);var C=pr&&"TextEvent"in window&&!h,N=pr&&(!Lr||h&&8<h&&11>=h),z=" ",X=!1;function ie(t,n){switch(t){case"keyup":return iu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tt=!1;function Bt(t,n){switch(t){case"compositionend":return ve(n);case"keypress":return n.which!==32?null:(X=!0,z);case"textInput":return t=n.data,t===z&&X?null:t;default:return null}}function nt(t,n){if(tt)return t==="compositionend"||!Lr&&ie(t,n)?(t=bo(),ri=Ni=Ir=null,tt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return N&&n.locale!=="ko"?null:n.data;default:return null}}var Xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qt(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Xt[t.type]:n==="textarea"}function ai(t,n,a,l){ti?ni?ni.push(l):ni=[l]:ti=l,n=Hu(n,"onChange"),0<n.length&&(a=new ls("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var rn=null,jr=null;function Ro(t){Ry(t,0)}function au(t){var n=ct(t);if(go(n))return t}function Qm(t,n){if(t==="change")return n}var Ym=!1;if(pr){var _f;if(pr){var bf="oninput"in document;if(!bf){var Km=document.createElement("div");Km.setAttribute("oninput","return;"),bf=typeof Km.oninput=="function"}_f=bf}else _f=!1;Ym=_f&&(!document.documentMode||9<document.documentMode)}function Xm(){rn&&(rn.detachEvent("onpropertychange",Zm),jr=rn=null)}function Zm(t){if(t.propertyName==="value"&&au(jr)){var n=[];ai(n,jr,t,er(t)),Fl(Ro,n)}}function oE(t,n,a){t==="focusin"?(Xm(),rn=n,jr=a,rn.attachEvent("onpropertychange",Zm)):t==="focusout"&&Xm()}function lE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return au(jr)}function uE(t,n){if(t==="click")return au(n)}function cE(t,n){if(t==="input"||t==="change")return au(n)}function fE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var jn=typeof Object.is=="function"?Object.is:fE;function xo(t,n){if(jn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var m=a[l];if(!wr.call(n,m)||!jn(t[m],n[m]))return!1}return!0}function Jm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wm(t,n){var a=Jm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jm(a)}}function ep(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?ep(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function tp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=wa(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=wa(t.document)}return n}function Ef(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var hE=pr&&"documentMode"in document&&11>=document.documentMode,gs=null,wf=null,Co=null,Tf=!1;function np(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Tf||gs==null||gs!==wa(l)||(l=gs,"selectionStart"in l&&Ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Co&&xo(Co,l)||(Co=l,l=Hu(wf,"onSelect"),0<l.length&&(n=new ls("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=gs)))}function Ma(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ys={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},Sf={},rp={};pr&&(rp=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function Va(t){if(Sf[t])return Sf[t];if(!ys[t])return t;var n=ys[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in rp)return Sf[t]=n[a];return t}var ip=Va("animationend"),ap=Va("animationiteration"),sp=Va("animationstart"),dE=Va("transitionrun"),mE=Va("transitionstart"),pE=Va("transitioncancel"),op=Va("transitionend"),lp=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function gr(t,n){lp.set(t,n),$t(n,[t])}var up=new WeakMap;function rr(t,n){if(typeof t=="object"&&t!==null){var a=up.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Jr(n)},up.set(t,n),n)}return{value:t,source:n,stack:Jr(n)}}var ir=[],vs=0,Rf=0;function su(){for(var t=vs,n=Rf=vs=0;n<t;){var a=ir[n];ir[n++]=null;var l=ir[n];ir[n++]=null;var m=ir[n];ir[n++]=null;var T=ir[n];if(ir[n++]=null,l!==null&&m!==null){var M=l.pending;M===null?m.next=m:(m.next=M.next,M.next=m),l.pending=m}T!==0&&cp(a,m,T)}}function ou(t,n,a,l){ir[vs++]=t,ir[vs++]=n,ir[vs++]=a,ir[vs++]=l,Rf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function xf(t,n,a,l){return ou(t,n,a,l),lu(t)}function _s(t,n){return ou(t,null,null,n),lu(t)}function cp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var m=!1,T=t.return;T!==null;)T.childLanes|=a,l=T.alternate,l!==null&&(l.childLanes|=a),T.tag===22&&(t=T.stateNode,t===null||t._visibility&1||(m=!0)),t=T,T=T.return;return t.tag===3?(T=t.stateNode,m&&n!==null&&(m=31-Lt(a),t=T.hiddenUpdates,l=t[m],l===null?t[m]=[n]:l.push(n),n.lane=a|536870912),T):null}function lu(t){if(50<Wo)throw Wo=0,Mh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var bs={};function gE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,n,a,l){return new gE(t,n,a,l)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function si(t,n){var a=t.alternate;return a===null?(a=kn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function fp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function uu(t,n,a,l,m,T){var M=0;if(l=t,typeof t=="function")Cf(t)&&(M=1);else if(typeof t=="string")M=v2(t,a,_e.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=kn(31,a,n,m),t.elementType=x,t.lanes=T,t;case v:return La(a.children,m,T,n);case _:M=8,m|=24;break;case A:return t=kn(12,a,n,m|2),t.elementType=A,t.lanes=T,t;case j:return t=kn(13,a,n,m),t.elementType=j,t.lanes=T,t;case L:return t=kn(19,a,n,m),t.elementType=L,t.lanes=T,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w:case D:M=10;break e;case R:M=9;break e;case V:M=11;break e;case I:M=14;break e;case S:M=16,l=null;break e}M=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=kn(M,a,n,m),n.elementType=t,n.type=l,n.lanes=T,n}function La(t,n,a,l){return t=kn(7,t,l,n),t.lanes=a,t}function Df(t,n,a){return t=kn(6,t,null,n),t.lanes=a,t}function Of(t,n,a){return n=kn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Es=[],ws=0,cu=null,fu=0,ar=[],sr=0,ja=null,oi=1,li="";function ka(t,n){Es[ws++]=fu,Es[ws++]=cu,cu=t,fu=n}function hp(t,n,a){ar[sr++]=oi,ar[sr++]=li,ar[sr++]=ja,ja=t;var l=oi;t=li;var m=32-Lt(l)-1;l&=~(1<<m),a+=1;var T=32-Lt(n)+m;if(30<T){var M=m-m%5;T=(l&(1<<M)-1).toString(32),l>>=M,m-=M,oi=1<<32-Lt(n)+m|a<<m|l,li=T+t}else oi=1<<T|a<<m|l,li=t}function If(t){t.return!==null&&(ka(t,1),hp(t,1,0))}function Nf(t){for(;t===cu;)cu=Es[--ws],Es[ws]=null,fu=Es[--ws],Es[ws]=null;for(;t===ja;)ja=ar[--sr],ar[sr]=null,li=ar[--sr],ar[sr]=null,oi=ar[--sr],ar[sr]=null}var An=null,Dt=null,ut=!1,Pa=null,kr=!1,Mf=Error(s(519));function Ua(t){var n=Error(s(418,""));throw Io(rr(n,t)),Mf}function dp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[le]=t,n[ge]=l,a){case"dialog":Je("cancel",n),Je("close",n);break;case"iframe":case"object":case"embed":Je("load",n);break;case"video":case"audio":for(a=0;a<tl.length;a++)Je(tl[a],n);break;case"source":Je("error",n);break;case"img":case"image":case"link":Je("error",n),Je("load",n);break;case"details":Je("toggle",n);break;case"input":Je("invalid",n),Ta(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ss(n);break;case"select":Je("invalid",n);break;case"textarea":Je("invalid",n),Sa(n,l.value,l.defaultValue,l.children),ss(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Oy(n.textContent,a)?(l.popover!=null&&(Je("beforetoggle",n),Je("toggle",n)),l.onScroll!=null&&Je("scroll",n),l.onScrollEnd!=null&&Je("scrollend",n),l.onClick!=null&&(n.onclick=Fu),n=!0):n=!1,n||Ua(t)}function mp(t){for(An=t.return;An;)switch(An.tag){case 5:case 13:kr=!1;return;case 27:case 3:kr=!0;return;default:An=An.return}}function Do(t){if(t!==An)return!1;if(!ut)return mp(t),ut=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Kh(t.type,t.memoizedProps)),a=!a),a&&Dt&&Ua(t),mp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Dt=vr(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Dt=null}}else n===27?(n=Dt,Yi(t.type)?(t=Wh,Wh=null,Dt=t):Dt=n):Dt=An?vr(t.stateNode.nextSibling):null;return!0}function Oo(){Dt=An=null,ut=!1}function pp(){var t=Pa;return t!==null&&(Dn===null?Dn=t:Dn.push.apply(Dn,t),Pa=null),t}function Io(t){Pa===null?Pa=[t]:Pa.push(t)}var Vf=re(null),za=null,ui=null;function Mi(t,n,a){ce(Vf,n._currentValue),n._currentValue=a}function ci(t){t._currentValue=Vf.current,me(Vf)}function Lf(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function jf(t,n,a,l){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var T=m.dependencies;if(T!==null){var M=m.child;T=T.firstContext;e:for(;T!==null;){var P=T;T=m;for(var q=0;q<n.length;q++)if(P.context===n[q]){T.lanes|=a,P=T.alternate,P!==null&&(P.lanes|=a),Lf(T.return,a,t),l||(M=null);break e}T=P.next}}else if(m.tag===18){if(M=m.return,M===null)throw Error(s(341));M.lanes|=a,T=M.alternate,T!==null&&(T.lanes|=a),Lf(M,a,t),M=null}else M=m.child;if(M!==null)M.return=m;else for(M=m;M!==null;){if(M===t){M=null;break}if(m=M.sibling,m!==null){m.return=M.return,M=m;break}M=M.return}m=M}}function No(t,n,a,l){t=null;for(var m=n,T=!1;m!==null;){if(!T){if((m.flags&524288)!==0)T=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var M=m.alternate;if(M===null)throw Error(s(387));if(M=M.memoizedProps,M!==null){var P=m.type;jn(m.pendingProps.value,M.value)||(t!==null?t.push(P):t=[P])}}else if(m===wt.current){if(M=m.alternate,M===null)throw Error(s(387));M.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(ol):t=[ol])}m=m.return}t!==null&&jf(n,t,a,l),n.flags|=262144}function hu(t){for(t=t.firstContext;t!==null;){if(!jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $a(t){za=t,ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function mn(t){return gp(za,t)}function du(t,n){return za===null&&$a(t),gp(t,n)}function gp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ui===null){if(t===null)throw Error(s(308));ui=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ui=ui.next=n;return a}var yE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},vE=i.unstable_scheduleCallback,_E=i.unstable_NormalPriority,Ht={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new yE,data:new Map,refCount:0}}function Mo(t){t.refCount--,t.refCount===0&&vE(_E,function(){t.controller.abort()})}var Vo=null,Pf=0,Ts=0,Ss=null;function bE(t,n){if(Vo===null){var a=Vo=[];Pf=0,Ts=zh(),Ss={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Pf++,n.then(yp,yp),n}function yp(){if(--Pf===0&&Vo!==null){Ss!==null&&(Ss.status="fulfilled");var t=Vo;Vo=null,Ts=0,Ss=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function EE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var m=0;m<a.length;m++)(0,a[m])(n)},function(m){for(l.status="rejected",l.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),l}var vp=G.S;G.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&bE(t,n),vp!==null&&vp(t,n)};var Ba=re(null);function Uf(){var t=Ba.current;return t!==null?t:Tt.pooledCache}function mu(t,n){n===null?ce(Ba,Ba.current):ce(Ba,n.pool)}function _p(){var t=Uf();return t===null?null:{parent:Ht._currentValue,pool:t}}var Lo=Error(s(460)),bp=Error(s(474)),pu=Error(s(542)),zf={then:function(){}};function Ep(t){return t=t.status,t==="fulfilled"||t==="rejected"}function gu(){}function wp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(gu,gu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Sp(t),t;default:if(typeof n.status=="string")n.then(gu,gu);else{if(t=Tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=l}},function(l){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Sp(t),t}throw jo=n,Lo}}var jo=null;function Tp(){if(jo===null)throw Error(s(459));var t=jo;return jo=null,t}function Sp(t){if(t===Lo||t===pu)throw Error(s(483))}var Vi=!1;function $f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Li(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ji(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(dt&2)!==0){var m=l.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),l.pending=n,n=lu(t),cp(t,null,a),n}return ou(t,l,n,a),lu(t)}function ko(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Rr(t,a)}}function qf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var m=null,T=null;if(a=a.firstBaseUpdate,a!==null){do{var M={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};T===null?m=T=M:T=T.next=M,a=a.next}while(a!==null);T===null?m=T=n:T=T.next=n}else m=T=n;a={baseState:l.baseState,firstBaseUpdate:m,lastBaseUpdate:T,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Hf=!1;function Po(){if(Hf){var t=Ss;if(t!==null)throw t}}function Uo(t,n,a,l){Hf=!1;var m=t.updateQueue;Vi=!1;var T=m.firstBaseUpdate,M=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var q=P,W=q.next;q.next=null,M===null?T=W:M.next=W,M=q;var ae=t.alternate;ae!==null&&(ae=ae.updateQueue,P=ae.lastBaseUpdate,P!==M&&(P===null?ae.firstBaseUpdate=W:P.next=W,ae.lastBaseUpdate=q))}if(T!==null){var ue=m.baseState;M=0,ae=W=q=null,P=T;do{var ee=P.lane&-536870913,ne=ee!==P.lane;if(ne?(rt&ee)===ee:(l&ee)===ee){ee!==0&&ee===Ts&&(Hf=!0),ae!==null&&(ae=ae.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Ue=t,Ve=P;ee=n;var _t=a;switch(Ve.tag){case 1:if(Ue=Ve.payload,typeof Ue=="function"){ue=Ue.call(_t,ue,ee);break e}ue=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Ve.payload,ee=typeof Ue=="function"?Ue.call(_t,ue,ee):Ue,ee==null)break e;ue=E({},ue,ee);break e;case 2:Vi=!0}}ee=P.callback,ee!==null&&(t.flags|=64,ne&&(t.flags|=8192),ne=m.callbacks,ne===null?m.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ae===null?(W=ae=ne,q=ue):ae=ae.next=ne,M|=ee;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;ne=P,P=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);ae===null&&(q=ue),m.baseState=q,m.firstBaseUpdate=W,m.lastBaseUpdate=ae,T===null&&(m.shared.lanes=0),Hi|=M,t.lanes=M,t.memoizedState=ue}}function Ap(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Rp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ap(a[t],n)}var As=re(null),yu=re(0);function xp(t,n){t=yi,ce(yu,t),ce(As,n),yi=t|n.baseLanes}function Ff(){ce(yu,yi),ce(As,As.current)}function Gf(){yi=yu.current,me(As),me(yu)}var ki=0,Fe=null,yt=null,Pt=null,vu=!1,Rs=!1,qa=!1,_u=0,zo=0,xs=null,wE=0;function Nt(){throw Error(s(321))}function Qf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!jn(t[a],n[a]))return!1;return!0}function Yf(t,n,a,l,m,T){return ki=T,Fe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?cg:fg,qa=!1,T=a(l,m),qa=!1,Rs&&(T=Dp(n,a,l,m)),Cp(t),T}function Cp(t){G.H=Au;var n=yt!==null&&yt.next!==null;if(ki=0,Pt=yt=Fe=null,vu=!1,zo=0,xs=null,n)throw Error(s(300));t===null||Zt||(t=t.dependencies,t!==null&&hu(t)&&(Zt=!0))}function Dp(t,n,a,l){Fe=t;var m=0;do{if(Rs&&(xs=null),zo=0,Rs=!1,25<=m)throw Error(s(301));if(m+=1,Pt=yt=null,t.updateQueue!=null){var T=t.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}G.H=DE,T=n(a,l)}while(Rs);return T}function TE(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?$o(n):n,t=t.useState()[0],(yt!==null?yt.memoizedState:null)!==t&&(Fe.flags|=1024),n}function Kf(){var t=_u!==0;return _u=0,t}function Xf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Zf(t){if(vu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}vu=!1}ki=0,Pt=yt=Fe=null,Rs=!1,zo=_u=0,xs=null}function xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Fe.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function Ut(){if(yt===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var n=Pt===null?Fe.memoizedState:Pt.next;if(n!==null)Pt=n,yt=t;else{if(t===null)throw Fe.alternate===null?Error(s(467)):Error(s(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Pt===null?Fe.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function Jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(t){var n=zo;return zo+=1,xs===null&&(xs=[]),t=wp(xs,t,n),n=Fe,(Pt===null?n.memoizedState:Pt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?cg:fg),t}function bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return $o(t);if(t.$$typeof===D)return mn(t)}throw Error(s(438,String(t)))}function Wf(t){var n=null,a=Fe.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Fe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Jf(),Fe.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function fi(t,n){return typeof n=="function"?n(t):n}function Eu(t){var n=Ut();return eh(n,yt,t)}function eh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var m=t.baseQueue,T=l.pending;if(T!==null){if(m!==null){var M=m.next;m.next=T.next,T.next=M}n.baseQueue=m=T,l.pending=null}if(T=t.baseState,m===null)t.memoizedState=T;else{n=m.next;var P=M=null,q=null,W=n,ae=!1;do{var ue=W.lane&-536870913;if(ue!==W.lane?(rt&ue)===ue:(ki&ue)===ue){var ee=W.revertLane;if(ee===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ue===Ts&&(ae=!0);else if((ki&ee)===ee){W=W.next,ee===Ts&&(ae=!0);continue}else ue={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},q===null?(P=q=ue,M=T):q=q.next=ue,Fe.lanes|=ee,Hi|=ee;ue=W.action,qa&&a(T,ue),T=W.hasEagerState?W.eagerState:a(T,ue)}else ee={lane:ue,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},q===null?(P=q=ee,M=T):q=q.next=ee,Fe.lanes|=ue,Hi|=ue;W=W.next}while(W!==null&&W!==n);if(q===null?M=T:q.next=P,!jn(T,t.memoizedState)&&(Zt=!0,ae&&(a=Ss,a!==null)))throw a;t.memoizedState=T,t.baseState=M,t.baseQueue=q,l.lastRenderedState=T}return m===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function th(t){var n=Ut(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,m=a.pending,T=n.memoizedState;if(m!==null){a.pending=null;var M=m=m.next;do T=t(T,M.action),M=M.next;while(M!==m);jn(T,n.memoizedState)||(Zt=!0),n.memoizedState=T,n.baseQueue===null&&(n.baseState=T),a.lastRenderedState=T}return[T,l]}function Op(t,n,a){var l=Fe,m=Ut(),T=ut;if(T){if(a===void 0)throw Error(s(407));a=a()}else a=n();var M=!jn((yt||m).memoizedState,a);M&&(m.memoizedState=a,Zt=!0),m=m.queue;var P=Mp.bind(null,l,m,t);if(Bo(2048,8,P,[t]),m.getSnapshot!==n||M||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,Cs(9,wu(),Np.bind(null,l,m,a,n),null),Tt===null)throw Error(s(349));T||(ki&124)!==0||Ip(l,n,a)}return a}function Ip(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Fe.updateQueue,n===null?(n=Jf(),Fe.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Np(t,n,a,l){n.value=a,n.getSnapshot=l,Vp(n)&&Lp(t)}function Mp(t,n,a){return a(function(){Vp(n)&&Lp(t)})}function Vp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!jn(t,a)}catch{return!0}}function Lp(t){var n=_s(t,2);n!==null&&Bn(n,t,2)}function nh(t){var n=xn();if(typeof t=="function"){var a=t;if(t=a(),qa){hn(!0);try{a()}finally{hn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:t},n}function jp(t,n,a,l){return t.baseState=a,eh(t,yt,typeof l=="function"?l:fi)}function SE(t,n,a,l,m){if(Su(t))throw Error(s(485));if(t=n.action,t!==null){var T={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){T.listeners.push(M)}};G.T!==null?a(!0):T.isTransition=!1,l(T),a=n.pending,a===null?(T.next=n.pending=T,kp(n,T)):(T.next=a.next,n.pending=a.next=T)}}function kp(t,n){var a=n.action,l=n.payload,m=t.state;if(n.isTransition){var T=G.T,M={};G.T=M;try{var P=a(m,l),q=G.S;q!==null&&q(M,P),Pp(t,n,P)}catch(W){rh(t,n,W)}finally{G.T=T}}else try{T=a(m,l),Pp(t,n,T)}catch(W){rh(t,n,W)}}function Pp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Up(t,n,l)},function(l){return rh(t,n,l)}):Up(t,n,a)}function Up(t,n,a){n.status="fulfilled",n.value=a,zp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,kp(t,a)))}function rh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,zp(n),n=n.next;while(n!==l)}t.action=null}function zp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function $p(t,n){return n}function Bp(t,n){if(ut){var a=Tt.formState;if(a!==null){e:{var l=Fe;if(ut){if(Dt){t:{for(var m=Dt,T=kr;m.nodeType!==8;){if(!T){m=null;break t}if(m=vr(m.nextSibling),m===null){m=null;break t}}T=m.data,m=T==="F!"||T==="F"?m:null}if(m){Dt=vr(m.nextSibling),l=m.data==="F!";break e}}Ua(l)}l=!1}l&&(n=a[0])}}return a=xn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$p,lastRenderedState:n},a.queue=l,a=og.bind(null,Fe,l),l.dispatch=a,l=nh(!1),T=lh.bind(null,Fe,!1,l.queue),l=xn(),m={state:n,dispatch:null,action:t,pending:null},l.queue=m,a=SE.bind(null,Fe,m,T,a),m.dispatch=a,l.memoizedState=t,[n,a,!1]}function qp(t){var n=Ut();return Hp(n,yt,t)}function Hp(t,n,a){if(n=eh(t,n,$p)[0],t=Eu(fi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=$o(n)}catch(M){throw M===Lo?pu:M}else l=n;n=Ut();var m=n.queue,T=m.dispatch;return a!==n.memoizedState&&(Fe.flags|=2048,Cs(9,wu(),AE.bind(null,m,a),null)),[l,T,t]}function AE(t,n){t.action=n}function Fp(t){var n=Ut(),a=yt;if(a!==null)return Hp(n,a,t);Ut(),n=n.memoizedState,a=Ut();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Cs(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Fe.updateQueue,n===null&&(n=Jf(),Fe.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function wu(){return{destroy:void 0,resource:void 0}}function Gp(){return Ut().memoizedState}function Tu(t,n,a,l){var m=xn();l=l===void 0?null:l,Fe.flags|=t,m.memoizedState=Cs(1|n,wu(),a,l)}function Bo(t,n,a,l){var m=Ut();l=l===void 0?null:l;var T=m.memoizedState.inst;yt!==null&&l!==null&&Qf(l,yt.memoizedState.deps)?m.memoizedState=Cs(n,T,a,l):(Fe.flags|=t,m.memoizedState=Cs(1|n,T,a,l))}function Qp(t,n){Tu(8390656,8,t,n)}function Yp(t,n){Bo(2048,8,t,n)}function Kp(t,n){return Bo(4,2,t,n)}function Xp(t,n){return Bo(4,4,t,n)}function Zp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Jp(t,n,a){a=a!=null?a.concat([t]):null,Bo(4,4,Zp.bind(null,n,t),a)}function ih(){}function Wp(t,n){var a=Ut();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Qf(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function eg(t,n){var a=Ut();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Qf(n,l[1]))return l[0];if(l=t(),qa){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,n],l}function ah(t,n,a){return a===void 0||(ki&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=ry(),Fe.lanes|=t,Hi|=t,a)}function tg(t,n,a,l){return jn(a,n)?a:As.current!==null?(t=ah(t,a,l),jn(t,n)||(Zt=!0),t):(ki&42)===0?(Zt=!0,t.memoizedState=a):(t=ry(),Fe.lanes|=t,Hi|=t,n)}function ng(t,n,a,l,m){var T=se.p;se.p=T!==0&&8>T?T:8;var M=G.T,P={};G.T=P,lh(t,!1,n,a);try{var q=m(),W=G.S;if(W!==null&&W(P,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ae=EE(q,l);qo(t,n,ae,$n(t))}else qo(t,n,l,$n(t))}catch(ue){qo(t,n,{then:function(){},status:"rejected",reason:ue},$n())}finally{se.p=T,G.T=M}}function RE(){}function sh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var m=rg(t).queue;ng(t,m,n,ye,a===null?RE:function(){return ig(t),a(l)})}function rg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:ye},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ig(t){var n=rg(t).next.queue;qo(t,n,{},$n())}function oh(){return mn(ol)}function ag(){return Ut().memoizedState}function sg(){return Ut().memoizedState}function xE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=$n();t=Li(a);var l=ji(n,t,a);l!==null&&(Bn(l,n,a),ko(l,n,a)),n={cache:kf()},t.payload=n;return}n=n.return}}function CE(t,n,a){var l=$n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Su(t)?lg(n,a):(a=xf(t,n,a,l),a!==null&&(Bn(a,t,l),ug(a,n,l)))}function og(t,n,a){var l=$n();qo(t,n,a,l)}function qo(t,n,a,l){var m={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Su(t))lg(n,m);else{var T=t.alternate;if(t.lanes===0&&(T===null||T.lanes===0)&&(T=n.lastRenderedReducer,T!==null))try{var M=n.lastRenderedState,P=T(M,a);if(m.hasEagerState=!0,m.eagerState=P,jn(P,M))return ou(t,n,m,0),Tt===null&&su(),!1}catch{}finally{}if(a=xf(t,n,m,l),a!==null)return Bn(a,t,l),ug(a,n,l),!0}return!1}function lh(t,n,a,l){if(l={lane:2,revertLane:zh(),action:l,hasEagerState:!1,eagerState:null,next:null},Su(t)){if(n)throw Error(s(479))}else n=xf(t,a,l,2),n!==null&&Bn(n,t,2)}function Su(t){var n=t.alternate;return t===Fe||n!==null&&n===Fe}function lg(t,n){Rs=vu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ug(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Rr(t,a)}}var Au={readContext:mn,use:bu,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt},cg={readContext:mn,use:bu,useCallback:function(t,n){return xn().memoizedState=[t,n===void 0?null:n],t},useContext:mn,useEffect:Qp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Tu(4194308,4,Zp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Tu(4194308,4,t,n)},useInsertionEffect:function(t,n){Tu(4,2,t,n)},useMemo:function(t,n){var a=xn();n=n===void 0?null:n;var l=t();if(qa){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=xn();if(a!==void 0){var m=a(n);if(qa){hn(!0);try{a(n)}finally{hn(!1)}}}else m=n;return l.memoizedState=l.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},l.queue=t,t=t.dispatch=CE.bind(null,Fe,t),[l.memoizedState,t]},useRef:function(t){var n=xn();return t={current:t},n.memoizedState=t},useState:function(t){t=nh(t);var n=t.queue,a=og.bind(null,Fe,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:ih,useDeferredValue:function(t,n){var a=xn();return ah(a,t,n)},useTransition:function(){var t=nh(!1);return t=ng.bind(null,Fe,t.queue,!0,!1),xn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Fe,m=xn();if(ut){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Tt===null)throw Error(s(349));(rt&124)!==0||Ip(l,n,a)}m.memoizedState=a;var T={value:a,getSnapshot:n};return m.queue=T,Qp(Mp.bind(null,l,T,t),[t]),l.flags|=2048,Cs(9,wu(),Np.bind(null,l,T,a,n),null),a},useId:function(){var t=xn(),n=Tt.identifierPrefix;if(ut){var a=li,l=oi;a=(l&~(1<<32-Lt(l)-1)).toString(32)+a,n=""+n+"R"+a,a=_u++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=wE++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:oh,useFormState:Bp,useActionState:Bp,useOptimistic:function(t){var n=xn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=lh.bind(null,Fe,!0,a),a.dispatch=n,[t,n]},useMemoCache:Wf,useCacheRefresh:function(){return xn().memoizedState=xE.bind(null,Fe)}},fg={readContext:mn,use:bu,useCallback:Wp,useContext:mn,useEffect:Yp,useImperativeHandle:Jp,useInsertionEffect:Kp,useLayoutEffect:Xp,useMemo:eg,useReducer:Eu,useRef:Gp,useState:function(){return Eu(fi)},useDebugValue:ih,useDeferredValue:function(t,n){var a=Ut();return tg(a,yt.memoizedState,t,n)},useTransition:function(){var t=Eu(fi)[0],n=Ut().memoizedState;return[typeof t=="boolean"?t:$o(t),n]},useSyncExternalStore:Op,useId:ag,useHostTransitionStatus:oh,useFormState:qp,useActionState:qp,useOptimistic:function(t,n){var a=Ut();return jp(a,yt,t,n)},useMemoCache:Wf,useCacheRefresh:sg},DE={readContext:mn,use:bu,useCallback:Wp,useContext:mn,useEffect:Yp,useImperativeHandle:Jp,useInsertionEffect:Kp,useLayoutEffect:Xp,useMemo:eg,useReducer:th,useRef:Gp,useState:function(){return th(fi)},useDebugValue:ih,useDeferredValue:function(t,n){var a=Ut();return yt===null?ah(a,t,n):tg(a,yt.memoizedState,t,n)},useTransition:function(){var t=th(fi)[0],n=Ut().memoizedState;return[typeof t=="boolean"?t:$o(t),n]},useSyncExternalStore:Op,useId:ag,useHostTransitionStatus:oh,useFormState:Fp,useActionState:Fp,useOptimistic:function(t,n){var a=Ut();return yt!==null?jp(a,yt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:sg},Ds=null,Ho=0;function Ru(t){var n=Ho;return Ho+=1,Ds===null&&(Ds=[]),wp(Ds,t,n)}function Fo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function xu(t,n){throw n.$$typeof===d?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function hg(t){var n=t._init;return n(t._payload)}function dg(t){function n(Q,F){if(t){var Z=Q.deletions;Z===null?(Q.deletions=[F],Q.flags|=16):Z.push(F)}}function a(Q,F){if(!t)return null;for(;F!==null;)n(Q,F),F=F.sibling;return null}function l(Q){for(var F=new Map;Q!==null;)Q.key!==null?F.set(Q.key,Q):F.set(Q.index,Q),Q=Q.sibling;return F}function m(Q,F){return Q=si(Q,F),Q.index=0,Q.sibling=null,Q}function T(Q,F,Z){return Q.index=Z,t?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<F?(Q.flags|=67108866,F):Z):(Q.flags|=67108866,F)):(Q.flags|=1048576,F)}function M(Q){return t&&Q.alternate===null&&(Q.flags|=67108866),Q}function P(Q,F,Z,oe){return F===null||F.tag!==6?(F=Df(Z,Q.mode,oe),F.return=Q,F):(F=m(F,Z),F.return=Q,F)}function q(Q,F,Z,oe){var Te=Z.type;return Te===v?ae(Q,F,Z.props.children,oe,Z.key):F!==null&&(F.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===S&&hg(Te)===F.type)?(F=m(F,Z.props),Fo(F,Z),F.return=Q,F):(F=uu(Z.type,Z.key,Z.props,null,Q.mode,oe),Fo(F,Z),F.return=Q,F)}function W(Q,F,Z,oe){return F===null||F.tag!==4||F.stateNode.containerInfo!==Z.containerInfo||F.stateNode.implementation!==Z.implementation?(F=Of(Z,Q.mode,oe),F.return=Q,F):(F=m(F,Z.children||[]),F.return=Q,F)}function ae(Q,F,Z,oe,Te){return F===null||F.tag!==7?(F=La(Z,Q.mode,oe,Te),F.return=Q,F):(F=m(F,Z),F.return=Q,F)}function ue(Q,F,Z){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Df(""+F,Q.mode,Z),F.return=Q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case y:return Z=uu(F.type,F.key,F.props,null,Q.mode,Z),Fo(Z,F),Z.return=Q,Z;case b:return F=Of(F,Q.mode,Z),F.return=Q,F;case S:var oe=F._init;return F=oe(F._payload),ue(Q,F,Z)}if(pe(F)||$(F))return F=La(F,Q.mode,Z,null),F.return=Q,F;if(typeof F.then=="function")return ue(Q,Ru(F),Z);if(F.$$typeof===D)return ue(Q,du(Q,F),Z);xu(Q,F)}return null}function ee(Q,F,Z,oe){var Te=F!==null?F.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Te!==null?null:P(Q,F,""+Z,oe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:return Z.key===Te?q(Q,F,Z,oe):null;case b:return Z.key===Te?W(Q,F,Z,oe):null;case S:return Te=Z._init,Z=Te(Z._payload),ee(Q,F,Z,oe)}if(pe(Z)||$(Z))return Te!==null?null:ae(Q,F,Z,oe,null);if(typeof Z.then=="function")return ee(Q,F,Ru(Z),oe);if(Z.$$typeof===D)return ee(Q,F,du(Q,Z),oe);xu(Q,Z)}return null}function ne(Q,F,Z,oe,Te){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Q=Q.get(Z)||null,P(F,Q,""+oe,Te);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case y:return Q=Q.get(oe.key===null?Z:oe.key)||null,q(F,Q,oe,Te);case b:return Q=Q.get(oe.key===null?Z:oe.key)||null,W(F,Q,oe,Te);case S:var Ye=oe._init;return oe=Ye(oe._payload),ne(Q,F,Z,oe,Te)}if(pe(oe)||$(oe))return Q=Q.get(Z)||null,ae(F,Q,oe,Te,null);if(typeof oe.then=="function")return ne(Q,F,Z,Ru(oe),Te);if(oe.$$typeof===D)return ne(Q,F,Z,du(F,oe),Te);xu(F,oe)}return null}function Ue(Q,F,Z,oe){for(var Te=null,Ye=null,De=F,je=F=0,Wt=null;De!==null&&je<Z.length;je++){De.index>je?(Wt=De,De=null):Wt=De.sibling;var ot=ee(Q,De,Z[je],oe);if(ot===null){De===null&&(De=Wt);break}t&&De&&ot.alternate===null&&n(Q,De),F=T(ot,F,je),Ye===null?Te=ot:Ye.sibling=ot,Ye=ot,De=Wt}if(je===Z.length)return a(Q,De),ut&&ka(Q,je),Te;if(De===null){for(;je<Z.length;je++)De=ue(Q,Z[je],oe),De!==null&&(F=T(De,F,je),Ye===null?Te=De:Ye.sibling=De,Ye=De);return ut&&ka(Q,je),Te}for(De=l(De);je<Z.length;je++)Wt=ne(De,Q,je,Z[je],oe),Wt!==null&&(t&&Wt.alternate!==null&&De.delete(Wt.key===null?je:Wt.key),F=T(Wt,F,je),Ye===null?Te=Wt:Ye.sibling=Wt,Ye=Wt);return t&&De.forEach(function(Wi){return n(Q,Wi)}),ut&&ka(Q,je),Te}function Ve(Q,F,Z,oe){if(Z==null)throw Error(s(151));for(var Te=null,Ye=null,De=F,je=F=0,Wt=null,ot=Z.next();De!==null&&!ot.done;je++,ot=Z.next()){De.index>je?(Wt=De,De=null):Wt=De.sibling;var Wi=ee(Q,De,ot.value,oe);if(Wi===null){De===null&&(De=Wt);break}t&&De&&Wi.alternate===null&&n(Q,De),F=T(Wi,F,je),Ye===null?Te=Wi:Ye.sibling=Wi,Ye=Wi,De=Wt}if(ot.done)return a(Q,De),ut&&ka(Q,je),Te;if(De===null){for(;!ot.done;je++,ot=Z.next())ot=ue(Q,ot.value,oe),ot!==null&&(F=T(ot,F,je),Ye===null?Te=ot:Ye.sibling=ot,Ye=ot);return ut&&ka(Q,je),Te}for(De=l(De);!ot.done;je++,ot=Z.next())ot=ne(De,Q,je,ot.value,oe),ot!==null&&(t&&ot.alternate!==null&&De.delete(ot.key===null?je:ot.key),F=T(ot,F,je),Ye===null?Te=ot:Ye.sibling=ot,Ye=ot);return t&&De.forEach(function(O2){return n(Q,O2)}),ut&&ka(Q,je),Te}function _t(Q,F,Z,oe){if(typeof Z=="object"&&Z!==null&&Z.type===v&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:e:{for(var Te=Z.key;F!==null;){if(F.key===Te){if(Te=Z.type,Te===v){if(F.tag===7){a(Q,F.sibling),oe=m(F,Z.props.children),oe.return=Q,Q=oe;break e}}else if(F.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===S&&hg(Te)===F.type){a(Q,F.sibling),oe=m(F,Z.props),Fo(oe,Z),oe.return=Q,Q=oe;break e}a(Q,F);break}else n(Q,F);F=F.sibling}Z.type===v?(oe=La(Z.props.children,Q.mode,oe,Z.key),oe.return=Q,Q=oe):(oe=uu(Z.type,Z.key,Z.props,null,Q.mode,oe),Fo(oe,Z),oe.return=Q,Q=oe)}return M(Q);case b:e:{for(Te=Z.key;F!==null;){if(F.key===Te)if(F.tag===4&&F.stateNode.containerInfo===Z.containerInfo&&F.stateNode.implementation===Z.implementation){a(Q,F.sibling),oe=m(F,Z.children||[]),oe.return=Q,Q=oe;break e}else{a(Q,F);break}else n(Q,F);F=F.sibling}oe=Of(Z,Q.mode,oe),oe.return=Q,Q=oe}return M(Q);case S:return Te=Z._init,Z=Te(Z._payload),_t(Q,F,Z,oe)}if(pe(Z))return Ue(Q,F,Z,oe);if($(Z)){if(Te=$(Z),typeof Te!="function")throw Error(s(150));return Z=Te.call(Z),Ve(Q,F,Z,oe)}if(typeof Z.then=="function")return _t(Q,F,Ru(Z),oe);if(Z.$$typeof===D)return _t(Q,F,du(Q,Z),oe);xu(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,F!==null&&F.tag===6?(a(Q,F.sibling),oe=m(F,Z),oe.return=Q,Q=oe):(a(Q,F),oe=Df(Z,Q.mode,oe),oe.return=Q,Q=oe),M(Q)):a(Q,F)}return function(Q,F,Z,oe){try{Ho=0;var Te=_t(Q,F,Z,oe);return Ds=null,Te}catch(De){if(De===Lo||De===pu)throw De;var Ye=kn(29,De,null,Q.mode);return Ye.lanes=oe,Ye.return=Q,Ye}finally{}}}var Os=dg(!0),mg=dg(!1),or=re(null),Pr=null;function Pi(t){var n=t.alternate;ce(Ft,Ft.current&1),ce(or,t),Pr===null&&(n===null||As.current!==null||n.memoizedState!==null)&&(Pr=t)}function pg(t){if(t.tag===22){if(ce(Ft,Ft.current),ce(or,t),Pr===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Pr=t)}}else Ui()}function Ui(){ce(Ft,Ft.current),ce(or,or.current)}function hi(t){me(or),Pr===t&&(Pr=null),me(Ft)}var Ft=re(0);function Cu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Jh(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function uh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ch={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=$n(),m=Li(l);m.payload=n,a!=null&&(m.callback=a),n=ji(t,m,l),n!==null&&(Bn(n,t,l),ko(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=$n(),m=Li(l);m.tag=1,m.payload=n,a!=null&&(m.callback=a),n=ji(t,m,l),n!==null&&(Bn(n,t,l),ko(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=$n(),l=Li(a);l.tag=2,n!=null&&(l.callback=n),n=ji(t,l,a),n!==null&&(Bn(n,t,a),ko(n,t,a))}};function gg(t,n,a,l,m,T,M){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,T,M):n.prototype&&n.prototype.isPureReactComponent?!xo(a,l)||!xo(m,T):!0}function yg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&ch.enqueueReplaceState(n,n.state,null)}function Ha(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=E({},a));for(var m in t)a[m]===void 0&&(a[m]=t[m])}return a}var Du=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function vg(t){Du(t)}function _g(t){console.error(t)}function bg(t){Du(t)}function Ou(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Eg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function fh(t,n,a){return a=Li(a),a.tag=3,a.payload={element:null},a.callback=function(){Ou(t,n)},a}function wg(t){return t=Li(t),t.tag=3,t}function Tg(t,n,a,l){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var T=l.value;t.payload=function(){return m(T)},t.callback=function(){Eg(n,a,l)}}var M=a.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(t.callback=function(){Eg(n,a,l),typeof m!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var P=l.stack;this.componentDidCatch(l.value,{componentStack:P!==null?P:""})})}function OE(t,n,a,l,m){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&No(n,a,m,!0),a=or.current,a!==null){switch(a.tag){case 13:return Pr===null?Lh():a.alternate===null&&Ot===0&&(Ot=3),a.flags&=-257,a.flags|=65536,a.lanes=m,l===zf?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),kh(t,l,m)),!1;case 22:return a.flags|=65536,l===zf?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),kh(t,l,m)),!1}throw Error(s(435,a.tag))}return kh(t,l,m),Lh(),!1}if(ut)return n=or.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,l!==Mf&&(t=Error(s(422),{cause:l}),Io(rr(t,a)))):(l!==Mf&&(n=Error(s(423),{cause:l}),Io(rr(n,a))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,l=rr(l,a),m=fh(t.stateNode,l,m),qf(t,m),Ot!==4&&(Ot=2)),!1;var T=Error(s(520),{cause:l});if(T=rr(T,a),Jo===null?Jo=[T]:Jo.push(T),Ot!==4&&(Ot=2),n===null)return!0;l=rr(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=m&-m,a.lanes|=t,t=fh(a.stateNode,l,t),qf(a,t),!1;case 1:if(n=a.type,T=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Fi===null||!Fi.has(T))))return a.flags|=65536,m&=-m,a.lanes|=m,m=wg(m),Tg(m,t,a,l),qf(a,m),!1}a=a.return}while(a!==null);return!1}var Sg=Error(s(461)),Zt=!1;function an(t,n,a,l){n.child=t===null?mg(n,null,a,l):Os(n,t.child,a,l)}function Ag(t,n,a,l,m){a=a.render;var T=n.ref;if("ref"in l){var M={};for(var P in l)P!=="ref"&&(M[P]=l[P])}else M=l;return $a(n),l=Yf(t,n,a,M,T,m),P=Kf(),t!==null&&!Zt?(Xf(t,n,m),di(t,n,m)):(ut&&P&&If(n),n.flags|=1,an(t,n,l,m),n.child)}function Rg(t,n,a,l,m){if(t===null){var T=a.type;return typeof T=="function"&&!Cf(T)&&T.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=T,xg(t,n,T,l,m)):(t=uu(a.type,null,l,n,n.mode,m),t.ref=n.ref,t.return=n,n.child=t)}if(T=t.child,!_h(t,m)){var M=T.memoizedProps;if(a=a.compare,a=a!==null?a:xo,a(M,l)&&t.ref===n.ref)return di(t,n,m)}return n.flags|=1,t=si(T,l),t.ref=n.ref,t.return=n,n.child=t}function xg(t,n,a,l,m){if(t!==null){var T=t.memoizedProps;if(xo(T,l)&&t.ref===n.ref)if(Zt=!1,n.pendingProps=l=T,_h(t,m))(t.flags&131072)!==0&&(Zt=!0);else return n.lanes=t.lanes,di(t,n,m)}return hh(t,n,a,l,m)}function Cg(t,n,a){var l=n.pendingProps,m=l.children,T=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=T!==null?T.baseLanes|a:a,t!==null){for(m=n.child=t.child,T=0;m!==null;)T=T|m.lanes|m.childLanes,m=m.sibling;n.childLanes=T&~l}else n.childLanes=0,n.child=null;return Dg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&mu(n,T!==null?T.cachePool:null),T!==null?xp(n,T):Ff(),pg(n);else return n.lanes=n.childLanes=536870912,Dg(t,n,T!==null?T.baseLanes|a:a,a)}else T!==null?(mu(n,T.cachePool),xp(n,T),Ui(),n.memoizedState=null):(t!==null&&mu(n,null),Ff(),Ui());return an(t,n,m,a),n.child}function Dg(t,n,a,l){var m=Uf();return m=m===null?null:{parent:Ht._currentValue,pool:m},n.memoizedState={baseLanes:a,cachePool:m},t!==null&&mu(n,null),Ff(),pg(n),t!==null&&No(t,n,l,!0),null}function Iu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function hh(t,n,a,l,m){return $a(n),a=Yf(t,n,a,l,void 0,m),l=Kf(),t!==null&&!Zt?(Xf(t,n,m),di(t,n,m)):(ut&&l&&If(n),n.flags|=1,an(t,n,a,m),n.child)}function Og(t,n,a,l,m,T){return $a(n),n.updateQueue=null,a=Dp(n,l,a,m),Cp(t),l=Kf(),t!==null&&!Zt?(Xf(t,n,T),di(t,n,T)):(ut&&l&&If(n),n.flags|=1,an(t,n,a,T),n.child)}function Ig(t,n,a,l,m){if($a(n),n.stateNode===null){var T=bs,M=a.contextType;typeof M=="object"&&M!==null&&(T=mn(M)),T=new a(l,T),n.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=ch,n.stateNode=T,T._reactInternals=n,T=n.stateNode,T.props=l,T.state=n.memoizedState,T.refs={},$f(n),M=a.contextType,T.context=typeof M=="object"&&M!==null?mn(M):bs,T.state=n.memoizedState,M=a.getDerivedStateFromProps,typeof M=="function"&&(uh(n,a,M,l),T.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(M=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),M!==T.state&&ch.enqueueReplaceState(T,T.state,null),Uo(n,l,T,m),Po(),T.state=n.memoizedState),typeof T.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){T=n.stateNode;var P=n.memoizedProps,q=Ha(a,P);T.props=q;var W=T.context,ae=a.contextType;M=bs,typeof ae=="object"&&ae!==null&&(M=mn(ae));var ue=a.getDerivedStateFromProps;ae=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function",P=n.pendingProps!==P,ae||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P||W!==M)&&yg(n,T,l,M),Vi=!1;var ee=n.memoizedState;T.state=ee,Uo(n,l,T,m),Po(),W=n.memoizedState,P||ee!==W||Vi?(typeof ue=="function"&&(uh(n,a,ue,l),W=n.memoizedState),(q=Vi||gg(n,a,q,l,ee,W,M))?(ae||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(n.flags|=4194308)):(typeof T.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=W),T.props=l,T.state=W,T.context=M,l=q):(typeof T.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{T=n.stateNode,Bf(t,n),M=n.memoizedProps,ae=Ha(a,M),T.props=ae,ue=n.pendingProps,ee=T.context,W=a.contextType,q=bs,typeof W=="object"&&W!==null&&(q=mn(W)),P=a.getDerivedStateFromProps,(W=typeof P=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(M!==ue||ee!==q)&&yg(n,T,l,q),Vi=!1,ee=n.memoizedState,T.state=ee,Uo(n,l,T,m),Po();var ne=n.memoizedState;M!==ue||ee!==ne||Vi||t!==null&&t.dependencies!==null&&hu(t.dependencies)?(typeof P=="function"&&(uh(n,a,P,l),ne=n.memoizedState),(ae=Vi||gg(n,a,ae,l,ee,ne,q)||t!==null&&t.dependencies!==null&&hu(t.dependencies))?(W||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(l,ne,q),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(l,ne,q)),typeof T.componentDidUpdate=="function"&&(n.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof T.componentDidUpdate!="function"||M===t.memoizedProps&&ee===t.memoizedState||(n.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||M===t.memoizedProps&&ee===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=ne),T.props=l,T.state=ne,T.context=q,l=ae):(typeof T.componentDidUpdate!="function"||M===t.memoizedProps&&ee===t.memoizedState||(n.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||M===t.memoizedProps&&ee===t.memoizedState||(n.flags|=1024),l=!1)}return T=l,Iu(t,n),l=(n.flags&128)!==0,T||l?(T=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:T.render(),n.flags|=1,t!==null&&l?(n.child=Os(n,t.child,null,m),n.child=Os(n,null,a,m)):an(t,n,a,m),n.memoizedState=T.state,t=n.child):t=di(t,n,m),t}function Ng(t,n,a,l){return Oo(),n.flags|=256,an(t,n,a,l),n.child}var dh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mh(t){return{baseLanes:t,cachePool:_p()}}function ph(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=lr),t}function Mg(t,n,a){var l=n.pendingProps,m=!1,T=(n.flags&128)!==0,M;if((M=T)||(M=t!==null&&t.memoizedState===null?!1:(Ft.current&2)!==0),M&&(m=!0,n.flags&=-129),M=(n.flags&32)!==0,n.flags&=-33,t===null){if(ut){if(m?Pi(n):Ui(),ut){var P=Dt,q;if(q=P){e:{for(q=P,P=kr;q.nodeType!==8;){if(!P){P=null;break e}if(q=vr(q.nextSibling),q===null){P=null;break e}}P=q}P!==null?(n.memoizedState={dehydrated:P,treeContext:ja!==null?{id:oi,overflow:li}:null,retryLane:536870912,hydrationErrors:null},q=kn(18,null,null,0),q.stateNode=P,q.return=n,n.child=q,An=n,Dt=null,q=!0):q=!1}q||Ua(n)}if(P=n.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Jh(P)?n.lanes=32:n.lanes=536870912,null;hi(n)}return P=l.children,l=l.fallback,m?(Ui(),m=n.mode,P=Nu({mode:"hidden",children:P},m),l=La(l,m,a,null),P.return=n,l.return=n,P.sibling=l,n.child=P,m=n.child,m.memoizedState=mh(a),m.childLanes=ph(t,M,a),n.memoizedState=dh,l):(Pi(n),gh(n,P))}if(q=t.memoizedState,q!==null&&(P=q.dehydrated,P!==null)){if(T)n.flags&256?(Pi(n),n.flags&=-257,n=yh(t,n,a)):n.memoizedState!==null?(Ui(),n.child=t.child,n.flags|=128,n=null):(Ui(),m=l.fallback,P=n.mode,l=Nu({mode:"visible",children:l.children},P),m=La(m,P,a,null),m.flags|=2,l.return=n,m.return=n,l.sibling=m,n.child=l,Os(n,t.child,null,a),l=n.child,l.memoizedState=mh(a),l.childLanes=ph(t,M,a),n.memoizedState=dh,n=m);else if(Pi(n),Jh(P)){if(M=P.nextSibling&&P.nextSibling.dataset,M)var W=M.dgst;M=W,l=Error(s(419)),l.stack="",l.digest=M,Io({value:l,source:null,stack:null}),n=yh(t,n,a)}else if(Zt||No(t,n,a,!1),M=(a&t.childLanes)!==0,Zt||M){if(M=Tt,M!==null&&(l=a&-a,l=(l&42)!==0?1:xr(l),l=(l&(M.suspendedLanes|a))!==0?0:l,l!==0&&l!==q.retryLane))throw q.retryLane=l,_s(t,l),Bn(M,t,l),Sg;P.data==="$?"||Lh(),n=yh(t,n,a)}else P.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=q.treeContext,Dt=vr(P.nextSibling),An=n,ut=!0,Pa=null,kr=!1,t!==null&&(ar[sr++]=oi,ar[sr++]=li,ar[sr++]=ja,oi=t.id,li=t.overflow,ja=n),n=gh(n,l.children),n.flags|=4096);return n}return m?(Ui(),m=l.fallback,P=n.mode,q=t.child,W=q.sibling,l=si(q,{mode:"hidden",children:l.children}),l.subtreeFlags=q.subtreeFlags&65011712,W!==null?m=si(W,m):(m=La(m,P,a,null),m.flags|=2),m.return=n,l.return=n,l.sibling=m,n.child=l,l=m,m=n.child,P=t.child.memoizedState,P===null?P=mh(a):(q=P.cachePool,q!==null?(W=Ht._currentValue,q=q.parent!==W?{parent:W,pool:W}:q):q=_p(),P={baseLanes:P.baseLanes|a,cachePool:q}),m.memoizedState=P,m.childLanes=ph(t,M,a),n.memoizedState=dh,l):(Pi(n),a=t.child,t=a.sibling,a=si(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(M=n.deletions,M===null?(n.deletions=[t],n.flags|=16):M.push(t)),n.child=a,n.memoizedState=null,a)}function gh(t,n){return n=Nu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Nu(t,n){return t=kn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function yh(t,n,a){return Os(n,t.child,null,a),t=gh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Vg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Lf(t.return,n,a)}function vh(t,n,a,l,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=l,T.tail=a,T.tailMode=m)}function Lg(t,n,a){var l=n.pendingProps,m=l.revealOrder,T=l.tail;if(an(t,n,l.children,a),l=Ft.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vg(t,a,n);else if(t.tag===19)Vg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ce(Ft,l),m){case"forwards":for(a=n.child,m=null;a!==null;)t=a.alternate,t!==null&&Cu(t)===null&&(m=a),a=a.sibling;a=m,a===null?(m=n.child,n.child=null):(m=a.sibling,a.sibling=null),vh(n,!1,m,a,T);break;case"backwards":for(a=null,m=n.child,n.child=null;m!==null;){if(t=m.alternate,t!==null&&Cu(t)===null){n.child=m;break}t=m.sibling,m.sibling=a,a=m,m=t}vh(n,!0,a,null,T);break;case"together":vh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function di(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Hi|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(No(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=si(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=si(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function _h(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&hu(t)))}function IE(t,n,a){switch(n.tag){case 3:pt(n,n.stateNode.containerInfo),Mi(n,Ht,t.memoizedState.cache),Oo();break;case 27:case 5:St(n);break;case 4:pt(n,n.stateNode.containerInfo);break;case 10:Mi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Pi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Mg(t,n,a):(Pi(n),t=di(t,n,a),t!==null?t.sibling:null);Pi(n);break;case 19:var m=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(No(t,n,a,!1),l=(a&n.childLanes)!==0),m){if(l)return Lg(t,n,a);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(Ft,Ft.current),l)break;return null;case 22:case 23:return n.lanes=0,Cg(t,n,a);case 24:Mi(n,Ht,t.memoizedState.cache)}return di(t,n,a)}function jg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Zt=!0;else{if(!_h(t,a)&&(n.flags&128)===0)return Zt=!1,IE(t,n,a);Zt=(t.flags&131072)!==0}else Zt=!1,ut&&(n.flags&1048576)!==0&&hp(n,fu,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,m=l._init;if(l=m(l._payload),n.type=l,typeof l=="function")Cf(l)?(t=Ha(l,t),n.tag=1,n=Ig(null,n,l,t,a)):(n.tag=0,n=hh(null,n,l,t,a));else{if(l!=null){if(m=l.$$typeof,m===V){n.tag=11,n=Ag(null,n,l,t,a);break e}else if(m===I){n.tag=14,n=Rg(null,n,l,t,a);break e}}throw n=he(l)||l,Error(s(306,n,""))}}return n;case 0:return hh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,m=Ha(l,n.pendingProps),Ig(t,n,l,m,a);case 3:e:{if(pt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var T=n.memoizedState;m=T.element,Bf(t,n),Uo(n,l,null,a);var M=n.memoizedState;if(l=M.cache,Mi(n,Ht,l),l!==T.cache&&jf(n,[Ht],a,!0),Po(),l=M.element,T.isDehydrated)if(T={element:l,isDehydrated:!1,cache:M.cache},n.updateQueue.baseState=T,n.memoizedState=T,n.flags&256){n=Ng(t,n,l,a);break e}else if(l!==m){m=rr(Error(s(424)),n),Io(m),n=Ng(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Dt=vr(t.firstChild),An=n,ut=!0,Pa=null,kr=!0,a=mg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Oo(),l===m){n=di(t,n,a);break e}an(t,n,l,a)}n=n.child}return n;case 26:return Iu(t,n),t===null?(a=zy(n.type,null,n.pendingProps,null))?n.memoizedState=a:ut||(a=n.type,t=n.pendingProps,l=Gu(xe.current).createElement(a),l[le]=n,l[ge]=t,on(l,a,t),et(l),n.stateNode=l):n.memoizedState=zy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return St(n),t===null&&ut&&(l=n.stateNode=ky(n.type,n.pendingProps,xe.current),An=n,kr=!0,m=Dt,Yi(n.type)?(Wh=m,Dt=vr(l.firstChild)):Dt=m),an(t,n,n.pendingProps.children,a),Iu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ut&&((m=l=Dt)&&(l=a2(l,n.type,n.pendingProps,kr),l!==null?(n.stateNode=l,An=n,Dt=vr(l.firstChild),kr=!1,m=!0):m=!1),m||Ua(n)),St(n),m=n.type,T=n.pendingProps,M=t!==null?t.memoizedProps:null,l=T.children,Kh(m,T)?l=null:M!==null&&Kh(m,M)&&(n.flags|=32),n.memoizedState!==null&&(m=Yf(t,n,TE,null,null,a),ol._currentValue=m),Iu(t,n),an(t,n,l,a),n.child;case 6:return t===null&&ut&&((t=a=Dt)&&(a=s2(a,n.pendingProps,kr),a!==null?(n.stateNode=a,An=n,Dt=null,t=!0):t=!1),t||Ua(n)),null;case 13:return Mg(t,n,a);case 4:return pt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Os(n,null,l,a):an(t,n,l,a),n.child;case 11:return Ag(t,n,n.type,n.pendingProps,a);case 7:return an(t,n,n.pendingProps,a),n.child;case 8:return an(t,n,n.pendingProps.children,a),n.child;case 12:return an(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Mi(n,n.type,l.value),an(t,n,l.children,a),n.child;case 9:return m=n.type._context,l=n.pendingProps.children,$a(n),m=mn(m),l=l(m),n.flags|=1,an(t,n,l,a),n.child;case 14:return Rg(t,n,n.type,n.pendingProps,a);case 15:return xg(t,n,n.type,n.pendingProps,a);case 19:return Lg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Nu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=si(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Cg(t,n,a);case 24:return $a(n),l=mn(Ht),t===null?(m=Uf(),m===null&&(m=Tt,T=kf(),m.pooledCache=T,T.refCount++,T!==null&&(m.pooledCacheLanes|=a),m=T),n.memoizedState={parent:l,cache:m},$f(n),Mi(n,Ht,m)):((t.lanes&a)!==0&&(Bf(t,n),Uo(n,null,null,a),Po()),m=t.memoizedState,T=n.memoizedState,m.parent!==l?(m={parent:l,cache:l},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),Mi(n,Ht,l)):(l=T.cache,Mi(n,Ht,l),l!==m.cache&&jf(n,[Ht],a,!0))),an(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function mi(t){t.flags|=4}function kg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Fy(n)){if(n=or.current,n!==null&&((rt&4194048)===rt?Pr!==null:(rt&62914560)!==rt&&(rt&536870912)===0||n!==Pr))throw jo=zf,bp;t.flags|=8192}}function Mu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ea():536870912,t.lanes|=n,Vs|=n)}function Go(t,n){if(!ut)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function xt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var m=t.child;m!==null;)a|=m.lanes|m.childLanes,l|=m.subtreeFlags&65011712,l|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)a|=m.lanes|m.childLanes,l|=m.subtreeFlags,l|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function NE(t,n,a){var l=n.pendingProps;switch(Nf(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(n),null;case 1:return xt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ci(Ht),Gn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Do(n)?mi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,pp())),xt(n),null;case 26:return a=n.memoizedState,t===null?(mi(n),a!==null?(xt(n),kg(n,a)):(xt(n),n.flags&=-16777217)):a?a!==t.memoizedState?(mi(n),xt(n),kg(n,a)):(xt(n),n.flags&=-16777217):(t.memoizedProps!==l&&mi(n),xt(n),n.flags&=-16777217),null;case 27:fn(n),a=xe.current;var m=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return xt(n),null}t=_e.current,Do(n)?dp(n):(t=ky(m,l,a),n.stateNode=t,mi(n))}return xt(n),null;case 5:if(fn(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return xt(n),null}if(t=_e.current,Do(n))dp(n);else{switch(m=Gu(xe.current),t){case 1:t=m.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=m.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=m.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=m.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=m.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?m.createElement("select",{is:l.is}):m.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?m.createElement(a,{is:l.is}):m.createElement(a)}}t[le]=n,t[ge]=l;e:for(m=n.child;m!==null;){if(m.tag===5||m.tag===6)t.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===n)break e;for(;m.sibling===null;){if(m.return===null||m.return===n)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}n.stateNode=t;e:switch(on(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&mi(n)}}return xt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&mi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=xe.current,Do(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,m=An,m!==null)switch(m.tag){case 27:case 5:l=m.memoizedProps}t[le]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Oy(t.nodeValue,a)),t||Ua(n)}else t=Gu(t).createTextNode(l),t[le]=n,n.stateNode=t}return xt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=Do(n),l!==null&&l.dehydrated!==null){if(t===null){if(!m)throw Error(s(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[le]=n}else Oo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;xt(n),m=!1}else m=pp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(hi(n),n):(hi(n),null)}if(hi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,m=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(m=l.alternate.memoizedState.cachePool.pool);var T=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(T=l.memoizedState.cachePool.pool),T!==m&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Mu(n,n.updateQueue),xt(n),null;case 4:return Gn(),t===null&&Hh(n.stateNode.containerInfo),xt(n),null;case 10:return ci(n.type),xt(n),null;case 19:if(me(Ft),m=n.memoizedState,m===null)return xt(n),null;if(l=(n.flags&128)!==0,T=m.rendering,T===null)if(l)Go(m,!1);else{if(Ot!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(T=Cu(t),T!==null){for(n.flags|=128,Go(m,!1),t=T.updateQueue,n.updateQueue=t,Mu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)fp(a,t),a=a.sibling;return ce(Ft,Ft.current&1|2),n.child}t=t.sibling}m.tail!==null&&bn()>ju&&(n.flags|=128,l=!0,Go(m,!1),n.lanes=4194304)}else{if(!l)if(t=Cu(T),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Mu(n,t),Go(m,!0),m.tail===null&&m.tailMode==="hidden"&&!T.alternate&&!ut)return xt(n),null}else 2*bn()-m.renderingStartTime>ju&&a!==536870912&&(n.flags|=128,l=!0,Go(m,!1),n.lanes=4194304);m.isBackwards?(T.sibling=n.child,n.child=T):(t=m.last,t!==null?t.sibling=T:n.child=T,m.last=T)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=bn(),n.sibling=null,t=Ft.current,ce(Ft,l?t&1|2:t&1),n):(xt(n),null);case 22:case 23:return hi(n),Gf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(xt(n),n.subtreeFlags&6&&(n.flags|=8192)):xt(n),a=n.updateQueue,a!==null&&Mu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&me(Ba),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ci(Ht),xt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function ME(t,n){switch(Nf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ci(Ht),Gn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return fn(n),null;case 13:if(hi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Oo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return me(Ft),null;case 4:return Gn(),null;case 10:return ci(n.type),null;case 22:case 23:return hi(n),Gf(),t!==null&&me(Ba),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ci(Ht),null;case 25:return null;default:return null}}function Pg(t,n){switch(Nf(n),n.tag){case 3:ci(Ht),Gn();break;case 26:case 27:case 5:fn(n);break;case 4:Gn();break;case 13:hi(n);break;case 19:me(Ft);break;case 10:ci(n.type);break;case 22:case 23:hi(n),Gf(),t!==null&&me(Ba);break;case 24:ci(Ht)}}function Qo(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var m=l.next;a=m;do{if((a.tag&t)===t){l=void 0;var T=a.create,M=a.inst;l=T(),M.destroy=l}a=a.next}while(a!==m)}}catch(P){Et(n,n.return,P)}}function zi(t,n,a){try{var l=n.updateQueue,m=l!==null?l.lastEffect:null;if(m!==null){var T=m.next;l=T;do{if((l.tag&t)===t){var M=l.inst,P=M.destroy;if(P!==void 0){M.destroy=void 0,m=n;var q=a,W=P;try{W()}catch(ae){Et(m,q,ae)}}}l=l.next}while(l!==T)}}catch(ae){Et(n,n.return,ae)}}function Ug(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Rp(n,a)}catch(l){Et(t,t.return,l)}}}function zg(t,n,a){a.props=Ha(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Et(t,n,l)}}function Yo(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(m){Et(t,n,m)}}function Ur(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(m){Et(t,n,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){Et(t,n,m)}else a.current=null}function $g(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(m){Et(t,t.return,m)}}function bh(t,n,a){try{var l=t.stateNode;e2(l,t.type,a,n),l[ge]=n}catch(m){Et(t,t.return,m)}}function Bg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yi(t.type)||t.tag===4}function Eh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Fu));else if(l!==4&&(l===27&&Yi(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(wh(t,n,a),t=t.sibling;t!==null;)wh(t,n,a),t=t.sibling}function Vu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Yi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Vu(t,n,a),t=t.sibling;t!==null;)Vu(t,n,a),t=t.sibling}function qg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);on(n,l,a),n[le]=t,n[ge]=a}catch(T){Et(t,t.return,T)}}var pi=!1,Mt=!1,Th=!1,Hg=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function VE(t,n){if(t=t.containerInfo,Qh=Ju,t=tp(t),Ef(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var m=l.anchorOffset,T=l.focusNode;l=l.focusOffset;try{a.nodeType,T.nodeType}catch{a=null;break e}var M=0,P=-1,q=-1,W=0,ae=0,ue=t,ee=null;t:for(;;){for(var ne;ue!==a||m!==0&&ue.nodeType!==3||(P=M+m),ue!==T||l!==0&&ue.nodeType!==3||(q=M+l),ue.nodeType===3&&(M+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)ee=ue,ue=ne;for(;;){if(ue===t)break t;if(ee===a&&++W===m&&(P=M),ee===T&&++ae===l&&(q=M),(ne=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=ne}a=P===-1||q===-1?null:{start:P,end:q}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yh={focusedElem:t,selectionRange:a},Ju=!1,Jt=n;Jt!==null;)if(n=Jt,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Jt=t;else for(;Jt!==null;){switch(n=Jt,T=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&T!==null){t=void 0,a=n,m=T.memoizedProps,T=T.memoizedState,l=a.stateNode;try{var Ue=Ha(a.type,m,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ue,T),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ve){Et(a,a.return,Ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Zh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Jt=t;break}Jt=n.return}}function Fg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$i(t,a),l&4&&Qo(5,a);break;case 1:if($i(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(M){Et(a,a.return,M)}else{var m=Ha(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(m,n,t.__reactInternalSnapshotBeforeUpdate)}catch(M){Et(a,a.return,M)}}l&64&&Ug(a),l&512&&Yo(a,a.return);break;case 3:if($i(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Rp(t,n)}catch(M){Et(a,a.return,M)}}break;case 27:n===null&&l&4&&qg(a);case 26:case 5:$i(t,a),n===null&&l&4&&$g(a),l&512&&Yo(a,a.return);break;case 12:$i(t,a);break;case 13:$i(t,a),l&4&&Yg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=qE.bind(null,a),o2(t,a))));break;case 22:if(l=a.memoizedState!==null||pi,!l){n=n!==null&&n.memoizedState!==null||Mt,m=pi;var T=Mt;pi=l,(Mt=n)&&!T?Bi(t,a,(a.subtreeFlags&8772)!==0):$i(t,a),pi=m,Mt=T}break;case 30:break;default:$i(t,a)}}function Gg(t){var n=t.alternate;n!==null&&(t.alternate=null,Gg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ae(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,Cn=!1;function gi(t,n,a){for(a=a.child;a!==null;)Qg(t,n,a),a=a.sibling}function Qg(t,n,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:Mt||Ur(a,n),gi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Mt||Ur(a,n);var l=At,m=Cn;Yi(a.type)&&(At=a.stateNode,Cn=!1),gi(t,n,a),rl(a.stateNode),At=l,Cn=m;break;case 5:Mt||Ur(a,n);case 6:if(l=At,m=Cn,At=null,gi(t,n,a),At=l,Cn=m,At!==null)if(Cn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(a.stateNode)}catch(T){Et(a,n,T)}else try{At.removeChild(a.stateNode)}catch(T){Et(a,n,T)}break;case 18:At!==null&&(Cn?(t=At,Ly(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),fl(t)):Ly(At,a.stateNode));break;case 4:l=At,m=Cn,At=a.stateNode.containerInfo,Cn=!0,gi(t,n,a),At=l,Cn=m;break;case 0:case 11:case 14:case 15:Mt||zi(2,a,n),Mt||zi(4,a,n),gi(t,n,a);break;case 1:Mt||(Ur(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&zg(a,n,l)),gi(t,n,a);break;case 21:gi(t,n,a);break;case 22:Mt=(l=Mt)||a.memoizedState!==null,gi(t,n,a),Mt=l;break;default:gi(t,n,a)}}function Yg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fl(t)}catch(a){Et(n,n.return,a)}}function LE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Hg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Hg),n;default:throw Error(s(435,t.tag))}}function Sh(t,n){var a=LE(t);n.forEach(function(l){var m=HE.bind(null,t,l);a.has(l)||(a.add(l),l.then(m,m))})}function Pn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var m=a[l],T=t,M=n,P=M;e:for(;P!==null;){switch(P.tag){case 27:if(Yi(P.type)){At=P.stateNode,Cn=!1;break e}break;case 5:At=P.stateNode,Cn=!1;break e;case 3:case 4:At=P.stateNode.containerInfo,Cn=!0;break e}P=P.return}if(At===null)throw Error(s(160));Qg(T,M,m),At=null,Cn=!1,T=m.alternate,T!==null&&(T.return=null),m.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Kg(n,t),n=n.sibling}var yr=null;function Kg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Pn(n,t),Un(t),l&4&&(zi(3,t,t.return),Qo(3,t),zi(5,t,t.return));break;case 1:Pn(n,t),Un(t),l&512&&(Mt||a===null||Ur(a,a.return)),l&64&&pi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var m=yr;if(Pn(n,t),Un(t),l&512&&(Mt||a===null||Ur(a,a.return)),l&4){var T=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,m=m.ownerDocument||m;t:switch(l){case"title":T=m.getElementsByTagName("title")[0],(!T||T[Me]||T[le]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=m.createElement(l),m.head.insertBefore(T,m.querySelector("head > title"))),on(T,l,a),T[le]=t,et(T),l=T;break e;case"link":var M=qy("link","href",m).get(l+(a.href||""));if(M){for(var P=0;P<M.length;P++)if(T=M[P],T.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&T.getAttribute("rel")===(a.rel==null?null:a.rel)&&T.getAttribute("title")===(a.title==null?null:a.title)&&T.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){M.splice(P,1);break t}}T=m.createElement(l),on(T,l,a),m.head.appendChild(T);break;case"meta":if(M=qy("meta","content",m).get(l+(a.content||""))){for(P=0;P<M.length;P++)if(T=M[P],T.getAttribute("content")===(a.content==null?null:""+a.content)&&T.getAttribute("name")===(a.name==null?null:a.name)&&T.getAttribute("property")===(a.property==null?null:a.property)&&T.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&T.getAttribute("charset")===(a.charSet==null?null:a.charSet)){M.splice(P,1);break t}}T=m.createElement(l),on(T,l,a),m.head.appendChild(T);break;default:throw Error(s(468,l))}T[le]=t,et(T),l=T}t.stateNode=l}else Hy(m,t.type,t.stateNode);else t.stateNode=By(m,l,t.memoizedProps);else T!==l?(T===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):T.count--,l===null?Hy(m,t.type,t.stateNode):By(m,l,t.memoizedProps)):l===null&&t.stateNode!==null&&bh(t,t.memoizedProps,a.memoizedProps)}break;case 27:Pn(n,t),Un(t),l&512&&(Mt||a===null||Ur(a,a.return)),a!==null&&l&4&&bh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Pn(n,t),Un(t),l&512&&(Mt||a===null||Ur(a,a.return)),t.flags&32){m=t.stateNode;try{Wn(m,"")}catch(ne){Et(t,t.return,ne)}}l&4&&t.stateNode!=null&&(m=t.memoizedProps,bh(t,m,a!==null?a.memoizedProps:m)),l&1024&&(Th=!0);break;case 6:if(Pn(n,t),Un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ne){Et(t,t.return,ne)}}break;case 3:if(Ku=null,m=yr,yr=Qu(n.containerInfo),Pn(n,t),yr=m,Un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{fl(n.containerInfo)}catch(ne){Et(t,t.return,ne)}Th&&(Th=!1,Xg(t));break;case 4:l=yr,yr=Qu(t.stateNode.containerInfo),Pn(n,t),Un(t),yr=l;break;case 12:Pn(n,t),Un(t);break;case 13:Pn(n,t),Un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Oh=bn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sh(t,l)));break;case 22:m=t.memoizedState!==null;var q=a!==null&&a.memoizedState!==null,W=pi,ae=Mt;if(pi=W||m,Mt=ae||q,Pn(n,t),Mt=ae,pi=W,Un(t),l&8192)e:for(n=t.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(a===null||q||pi||Mt||Fa(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){q=a=n;try{if(T=q.stateNode,m)M=T.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{P=q.stateNode;var ue=q.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;P.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(ne){Et(q,q.return,ne)}}}else if(n.tag===6){if(a===null){q=n;try{q.stateNode.nodeValue=m?"":q.memoizedProps}catch(ne){Et(q,q.return,ne)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Sh(t,a))));break;case 19:Pn(n,t),Un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sh(t,l)));break;case 30:break;case 21:break;default:Pn(n,t),Un(t)}}function Un(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Bg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var m=a.stateNode,T=Eh(t);Vu(t,T,m);break;case 5:var M=a.stateNode;a.flags&32&&(Wn(M,""),a.flags&=-33);var P=Eh(t);Vu(t,P,M);break;case 3:case 4:var q=a.stateNode.containerInfo,W=Eh(t);wh(t,W,q);break;default:throw Error(s(161))}}catch(ae){Et(t,t.return,ae)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Xg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Xg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function $i(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Fg(t,n.alternate,n),n=n.sibling}function Fa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:zi(4,n,n.return),Fa(n);break;case 1:Ur(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&zg(n,n.return,a),Fa(n);break;case 27:rl(n.stateNode);case 26:case 5:Ur(n,n.return),Fa(n);break;case 22:n.memoizedState===null&&Fa(n);break;case 30:Fa(n);break;default:Fa(n)}t=t.sibling}}function Bi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,m=t,T=n,M=T.flags;switch(T.tag){case 0:case 11:case 15:Bi(m,T,a),Qo(4,T);break;case 1:if(Bi(m,T,a),l=T,m=l.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(W){Et(l,l.return,W)}if(l=T,m=l.updateQueue,m!==null){var P=l.stateNode;try{var q=m.shared.hiddenCallbacks;if(q!==null)for(m.shared.hiddenCallbacks=null,m=0;m<q.length;m++)Ap(q[m],P)}catch(W){Et(l,l.return,W)}}a&&M&64&&Ug(T),Yo(T,T.return);break;case 27:qg(T);case 26:case 5:Bi(m,T,a),a&&l===null&&M&4&&$g(T),Yo(T,T.return);break;case 12:Bi(m,T,a);break;case 13:Bi(m,T,a),a&&M&4&&Yg(m,T);break;case 22:T.memoizedState===null&&Bi(m,T,a),Yo(T,T.return);break;case 30:break;default:Bi(m,T,a)}n=n.sibling}}function Ah(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Mo(a))}function Rh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Mo(t))}function zr(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Zg(t,n,a,l),n=n.sibling}function Zg(t,n,a,l){var m=n.flags;switch(n.tag){case 0:case 11:case 15:zr(t,n,a,l),m&2048&&Qo(9,n);break;case 1:zr(t,n,a,l);break;case 3:zr(t,n,a,l),m&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Mo(t)));break;case 12:if(m&2048){zr(t,n,a,l),t=n.stateNode;try{var T=n.memoizedProps,M=T.id,P=T.onPostCommit;typeof P=="function"&&P(M,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(q){Et(n,n.return,q)}}else zr(t,n,a,l);break;case 13:zr(t,n,a,l);break;case 23:break;case 22:T=n.stateNode,M=n.alternate,n.memoizedState!==null?T._visibility&2?zr(t,n,a,l):Ko(t,n):T._visibility&2?zr(t,n,a,l):(T._visibility|=2,Is(t,n,a,l,(n.subtreeFlags&10256)!==0)),m&2048&&Ah(M,n);break;case 24:zr(t,n,a,l),m&2048&&Rh(n.alternate,n);break;default:zr(t,n,a,l)}}function Is(t,n,a,l,m){for(m=m&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var T=t,M=n,P=a,q=l,W=M.flags;switch(M.tag){case 0:case 11:case 15:Is(T,M,P,q,m),Qo(8,M);break;case 23:break;case 22:var ae=M.stateNode;M.memoizedState!==null?ae._visibility&2?Is(T,M,P,q,m):Ko(T,M):(ae._visibility|=2,Is(T,M,P,q,m)),m&&W&2048&&Ah(M.alternate,M);break;case 24:Is(T,M,P,q,m),m&&W&2048&&Rh(M.alternate,M);break;default:Is(T,M,P,q,m)}n=n.sibling}}function Ko(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,m=l.flags;switch(l.tag){case 22:Ko(a,l),m&2048&&Ah(l.alternate,l);break;case 24:Ko(a,l),m&2048&&Rh(l.alternate,l);break;default:Ko(a,l)}n=n.sibling}}var Xo=8192;function Ns(t){if(t.subtreeFlags&Xo)for(t=t.child;t!==null;)Jg(t),t=t.sibling}function Jg(t){switch(t.tag){case 26:Ns(t),t.flags&Xo&&t.memoizedState!==null&&b2(yr,t.memoizedState,t.memoizedProps);break;case 5:Ns(t);break;case 3:case 4:var n=yr;yr=Qu(t.stateNode.containerInfo),Ns(t),yr=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Xo,Xo=16777216,Ns(t),Xo=n):Ns(t));break;default:Ns(t)}}function Wg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Zo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Jt=l,ty(l,t)}Wg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ey(t),t=t.sibling}function ey(t){switch(t.tag){case 0:case 11:case 15:Zo(t),t.flags&2048&&zi(9,t,t.return);break;case 3:Zo(t);break;case 12:Zo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Lu(t)):Zo(t);break;default:Zo(t)}}function Lu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Jt=l,ty(l,t)}Wg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:zi(8,n,n.return),Lu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Lu(n));break;default:Lu(n)}t=t.sibling}}function ty(t,n){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:zi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Mo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Jt=l;else e:for(a=t;Jt!==null;){l=Jt;var m=l.sibling,T=l.return;if(Gg(l),l===a){Jt=null;break e}if(m!==null){m.return=T,Jt=m;break e}Jt=T}}}var jE={getCacheForType:function(t){var n=mn(Ht),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},kE=typeof WeakMap=="function"?WeakMap:Map,dt=0,Tt=null,Ze=null,rt=0,mt=0,zn=null,qi=!1,Ms=!1,xh=!1,yi=0,Ot=0,Hi=0,Ga=0,Ch=0,lr=0,Vs=0,Jo=null,Dn=null,Dh=!1,Oh=0,ju=1/0,ku=null,Fi=null,sn=0,Gi=null,Ls=null,js=0,Ih=0,Nh=null,ny=null,Wo=0,Mh=null;function $n(){if((dt&2)!==0&&rt!==0)return rt&-rt;if(G.T!==null){var t=Ts;return t!==0?t:zh()}return H()}function ry(){lr===0&&(lr=(rt&536870912)===0||ut?Zr():536870912);var t=or.current;return t!==null&&(t.flags|=32),lr}function Bn(t,n,a){(t===Tt&&(mt===2||mt===9)||t.cancelPendingCommit!==null)&&(ks(t,0),Qi(t,rt,lr,!1)),mr(t,a),((dt&2)===0||t!==Tt)&&(t===Tt&&((dt&2)===0&&(Ga|=a),Ot===4&&Qi(t,rt,lr,!1)),$r(t))}function iy(t,n,a){if((dt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Kn(t,n),m=l?zE(t,n):jh(t,n,!0),T=l;do{if(m===0){Ms&&!l&&Qi(t,n,0,!1);break}else{if(a=t.current.alternate,T&&!PE(a)){m=jh(t,n,!1),T=!1;continue}if(m===2){if(T=n,t.errorRecoveryDisabledLanes&T)var M=0;else M=t.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){n=M;e:{var P=t;m=Jo;var q=P.current.memoizedState.isDehydrated;if(q&&(ks(P,M).flags|=256),M=jh(P,M,!1),M!==2){if(xh&&!q){P.errorRecoveryDisabledLanes|=T,Ga|=T,m=4;break e}T=Dn,Dn=m,T!==null&&(Dn===null?Dn=T:Dn.push.apply(Dn,T))}m=M}if(T=!1,m!==2)continue}}if(m===1){ks(t,0),Qi(t,n,0,!0);break}e:{switch(l=t,T=m,T){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Qi(l,n,lr,!qi);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(m=Oh+300-bn(),10<m)){if(Qi(l,n,lr,!qi),Xr(l,0,!0)!==0)break e;l.timeoutHandle=My(ay.bind(null,l,a,Dn,ku,Dh,n,lr,Ga,Vs,qi,T,2,-0,0),m);break e}ay(l,a,Dn,ku,Dh,n,lr,Ga,Vs,qi,T,0,-0,0)}}break}while(!0);$r(t)}function ay(t,n,a,l,m,T,M,P,q,W,ae,ue,ee,ne){if(t.timeoutHandle=-1,ue=n.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(sl={stylesheets:null,count:0,unsuspend:_2},Jg(n),ue=E2(),ue!==null)){t.cancelPendingCommit=ue(hy.bind(null,t,n,T,a,l,m,M,P,q,ae,1,ee,ne)),Qi(t,T,M,!W);return}hy(t,n,T,a,l,m,M,P,q)}function PE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var m=a[l],T=m.getSnapshot;m=m.value;try{if(!jn(T(),m))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qi(t,n,a,l){n&=~Ch,n&=~Ga,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var m=n;0<m;){var T=31-Lt(m),M=1<<T;l[T]=-1,m&=~M}a!==0&&En(t,a,n)}function Pu(){return(dt&6)===0?(el(0),!1):!0}function Vh(){if(Ze!==null){if(mt===0)var t=Ze.return;else t=Ze,ui=za=null,Zf(t),Ds=null,Ho=0,t=Ze;for(;t!==null;)Pg(t.alternate,t),t=t.return;Ze=null}}function ks(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,n2(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Vh(),Tt=t,Ze=a=si(t.current,null),rt=n,mt=0,zn=null,qi=!1,Ms=Kn(t,n),xh=!1,Vs=lr=Ch=Ga=Hi=Ot=0,Dn=Jo=null,Dh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var m=31-Lt(l),T=1<<m;n|=t[m],l&=~T}return yi=n,su(),a}function sy(t,n){Fe=null,G.H=Au,n===Lo||n===pu?(n=Tp(),mt=3):n===bp?(n=Tp(),mt=4):mt=n===Sg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zn=n,Ze===null&&(Ot=1,Ou(t,rr(n,t.current)))}function oy(){var t=G.H;return G.H=Au,t===null?Au:t}function ly(){var t=G.A;return G.A=jE,t}function Lh(){Ot=4,qi||(rt&4194048)!==rt&&or.current!==null||(Ms=!0),(Hi&134217727)===0&&(Ga&134217727)===0||Tt===null||Qi(Tt,rt,lr,!1)}function jh(t,n,a){var l=dt;dt|=2;var m=oy(),T=ly();(Tt!==t||rt!==n)&&(ku=null,ks(t,n)),n=!1;var M=Ot;e:do try{if(mt!==0&&Ze!==null){var P=Ze,q=zn;switch(mt){case 8:Vh(),M=6;break e;case 3:case 2:case 9:case 6:or.current===null&&(n=!0);var W=mt;if(mt=0,zn=null,Ps(t,P,q,W),a&&Ms){M=0;break e}break;default:W=mt,mt=0,zn=null,Ps(t,P,q,W)}}UE(),M=Ot;break}catch(ae){sy(t,ae)}while(!0);return n&&t.shellSuspendCounter++,ui=za=null,dt=l,G.H=m,G.A=T,Ze===null&&(Tt=null,rt=0,su()),M}function UE(){for(;Ze!==null;)uy(Ze)}function zE(t,n){var a=dt;dt|=2;var l=oy(),m=ly();Tt!==t||rt!==n?(ku=null,ju=bn()+500,ks(t,n)):Ms=Kn(t,n);e:do try{if(mt!==0&&Ze!==null){n=Ze;var T=zn;t:switch(mt){case 1:mt=0,zn=null,Ps(t,n,T,1);break;case 2:case 9:if(Ep(T)){mt=0,zn=null,cy(n);break}n=function(){mt!==2&&mt!==9||Tt!==t||(mt=7),$r(t)},T.then(n,n);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Ep(T)?(mt=0,zn=null,cy(n)):(mt=0,zn=null,Ps(t,n,T,7));break;case 5:var M=null;switch(Ze.tag){case 26:M=Ze.memoizedState;case 5:case 27:var P=Ze;if(!M||Fy(M)){mt=0,zn=null;var q=P.sibling;if(q!==null)Ze=q;else{var W=P.return;W!==null?(Ze=W,Uu(W)):Ze=null}break t}}mt=0,zn=null,Ps(t,n,T,5);break;case 6:mt=0,zn=null,Ps(t,n,T,6);break;case 8:Vh(),Ot=6;break e;default:throw Error(s(462))}}$E();break}catch(ae){sy(t,ae)}while(!0);return ui=za=null,G.H=l,G.A=m,dt=a,Ze!==null?0:(Tt=null,rt=0,su(),Ot)}function $E(){for(;Ze!==null&&!_a();)uy(Ze)}function uy(t){var n=jg(t.alternate,t,yi);t.memoizedProps=t.pendingProps,n===null?Uu(t):Ze=n}function cy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Og(a,n,n.pendingProps,n.type,void 0,rt);break;case 11:n=Og(a,n,n.pendingProps,n.type.render,n.ref,rt);break;case 5:Zf(n);default:Pg(a,n),n=Ze=fp(n,yi),n=jg(a,n,yi)}t.memoizedProps=t.pendingProps,n===null?Uu(t):Ze=n}function Ps(t,n,a,l){ui=za=null,Zf(n),Ds=null,Ho=0;var m=n.return;try{if(OE(t,m,n,a,rt)){Ot=1,Ou(t,rr(a,t.current)),Ze=null;return}}catch(T){if(m!==null)throw Ze=m,T;Ot=1,Ou(t,rr(a,t.current)),Ze=null;return}n.flags&32768?(ut||l===1?t=!0:Ms||(rt&536870912)!==0?t=!1:(qi=t=!0,(l===2||l===9||l===3||l===6)&&(l=or.current,l!==null&&l.tag===13&&(l.flags|=16384))),fy(n,t)):Uu(n)}function Uu(t){var n=t;do{if((n.flags&32768)!==0){fy(n,qi);return}t=n.return;var a=NE(n.alternate,n,yi);if(a!==null){Ze=a;return}if(n=n.sibling,n!==null){Ze=n;return}Ze=n=t}while(n!==null);Ot===0&&(Ot=5)}function fy(t,n){do{var a=ME(t.alternate,t);if(a!==null){a.flags&=32767,Ze=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ze=t;return}Ze=t=a}while(t!==null);Ot=6,Ze=null}function hy(t,n,a,l,m,T,M,P,q){t.cancelPendingCommit=null;do zu();while(sn!==0);if((dt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(T=n.lanes|n.childLanes,T|=Rf,Ci(t,a,T,M,P,q),t===Tt&&(Ze=Tt=null,rt=0),Ls=n,Gi=t,js=a,Ih=T,Nh=m,ny=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,FE(Kr,function(){return yy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,m=se.p,se.p=2,M=dt,dt|=4;try{VE(t,n,a)}finally{dt=M,se.p=m,G.T=l}}sn=1,dy(),my(),py()}}function dy(){if(sn===1){sn=0;var t=Gi,n=Ls,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=se.p;se.p=2;var m=dt;dt|=4;try{Kg(n,t);var T=Yh,M=tp(t.containerInfo),P=T.focusedElem,q=T.selectionRange;if(M!==P&&P&&P.ownerDocument&&ep(P.ownerDocument.documentElement,P)){if(q!==null&&Ef(P)){var W=q.start,ae=q.end;if(ae===void 0&&(ae=W),"selectionStart"in P)P.selectionStart=W,P.selectionEnd=Math.min(ae,P.value.length);else{var ue=P.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),Ue=P.textContent.length,Ve=Math.min(q.start,Ue),_t=q.end===void 0?Ve:Math.min(q.end,Ue);!ne.extend&&Ve>_t&&(M=_t,_t=Ve,Ve=M);var Q=Wm(P,Ve),F=Wm(P,_t);if(Q&&F&&(ne.rangeCount!==1||ne.anchorNode!==Q.node||ne.anchorOffset!==Q.offset||ne.focusNode!==F.node||ne.focusOffset!==F.offset)){var Z=ue.createRange();Z.setStart(Q.node,Q.offset),ne.removeAllRanges(),Ve>_t?(ne.addRange(Z),ne.extend(F.node,F.offset)):(Z.setEnd(F.node,F.offset),ne.addRange(Z))}}}}for(ue=[],ne=P;ne=ne.parentNode;)ne.nodeType===1&&ue.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ue.length;P++){var oe=ue[P];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Ju=!!Qh,Yh=Qh=null}finally{dt=m,se.p=l,G.T=a}}t.current=n,sn=2}}function my(){if(sn===2){sn=0;var t=Gi,n=Ls,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=se.p;se.p=2;var m=dt;dt|=4;try{Fg(t,n.alternate,n)}finally{dt=m,se.p=l,G.T=a}}sn=3}}function py(){if(sn===4||sn===3){sn=0,is();var t=Gi,n=Ls,a=js,l=ny;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?sn=5:(sn=0,Ls=Gi=null,gy(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(Fi=null),Di(a),n=n.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(lt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,m=se.p,se.p=2,G.T=null;try{for(var T=t.onRecoverableError,M=0;M<l.length;M++){var P=l[M];T(P.value,{componentStack:P.stack})}}finally{G.T=n,se.p=m}}(js&3)!==0&&zu(),$r(t),m=t.pendingLanes,(a&4194090)!==0&&(m&42)!==0?t===Mh?Wo++:(Wo=0,Mh=t):Wo=0,el(0)}}function gy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Mo(n)))}function zu(t){return dy(),my(),py(),yy()}function yy(){if(sn!==5)return!1;var t=Gi,n=Ih;Ih=0;var a=Di(js),l=G.T,m=se.p;try{se.p=32>a?32:a,G.T=null,a=Nh,Nh=null;var T=Gi,M=js;if(sn=0,Ls=Gi=null,js=0,(dt&6)!==0)throw Error(s(331));var P=dt;if(dt|=4,ey(T.current),Zg(T,T.current,M,a),dt=P,el(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(lt,T)}catch{}return!0}finally{se.p=m,G.T=l,gy(t,n)}}function vy(t,n,a){n=rr(a,n),n=fh(t.stateNode,n,2),t=ji(t,n,2),t!==null&&(mr(t,2),$r(t))}function Et(t,n,a){if(t.tag===3)vy(t,t,a);else for(;n!==null;){if(n.tag===3){vy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fi===null||!Fi.has(l))){t=rr(a,t),a=wg(2),l=ji(n,a,2),l!==null&&(Tg(a,l,n,t),mr(l,2),$r(l));break}}n=n.return}}function kh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new kE;var m=new Set;l.set(n,m)}else m=l.get(n),m===void 0&&(m=new Set,l.set(n,m));m.has(a)||(xh=!0,m.add(a),t=BE.bind(null,t,n,a),n.then(t,t))}function BE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Tt===t&&(rt&a)===a&&(Ot===4||Ot===3&&(rt&62914560)===rt&&300>bn()-Oh?(dt&2)===0&&ks(t,0):Ch|=a,Vs===rt&&(Vs=0)),$r(t)}function _y(t,n){n===0&&(n=Ea()),t=_s(t,n),t!==null&&(mr(t,n),$r(t))}function qE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),_y(t,a)}function HE(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,m=t.memoizedState;m!==null&&(a=m.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),_y(t,a)}function FE(t,n){return Yr(t,n)}var $u=null,Us=null,Ph=!1,Bu=!1,Uh=!1,Qa=0;function $r(t){t!==Us&&t.next===null&&(Us===null?$u=Us=t:Us=Us.next=t),Bu=!0,Ph||(Ph=!0,QE())}function el(t,n){if(!Uh&&Bu){Uh=!0;do for(var a=!1,l=$u;l!==null;){if(t!==0){var m=l.pendingLanes;if(m===0)var T=0;else{var M=l.suspendedLanes,P=l.pingedLanes;T=(1<<31-Lt(42|t)+1)-1,T&=m&~(M&~P),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(a=!0,Ty(l,T))}else T=rt,T=Xr(l,l===Tt?T:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(T&3)===0||Kn(l,T)||(a=!0,Ty(l,T));l=l.next}while(a);Uh=!1}}function GE(){by()}function by(){Bu=Ph=!1;var t=0;Qa!==0&&(t2()&&(t=Qa),Qa=0);for(var n=bn(),a=null,l=$u;l!==null;){var m=l.next,T=Ey(l,n);T===0?(l.next=null,a===null?$u=m:a.next=m,m===null&&(Us=a)):(a=l,(t!==0||(T&3)!==0)&&(Bu=!0)),l=m}el(t)}function Ey(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,m=t.expirationTimes,T=t.pendingLanes&-62914561;0<T;){var M=31-Lt(T),P=1<<M,q=m[M];q===-1?((P&a)===0||(P&l)!==0)&&(m[M]=xi(P,n)):q<=n&&(t.expiredLanes|=P),T&=~P}if(n=Tt,a=rt,a=Xr(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(mt===2||mt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_n(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Kn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&_n(l),Di(a)){case 2:case 8:a=Si;break;case 32:a=Kr;break;case 268435456:a=Qn;break;default:a=Kr}return l=wy.bind(null,t),a=Yr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&_n(l),t.callbackPriority=2,t.callbackNode=null,2}function wy(t,n){if(sn!==0&&sn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(zu()&&t.callbackNode!==a)return null;var l=rt;return l=Xr(t,t===Tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(iy(t,l,n),Ey(t,bn()),t.callbackNode!=null&&t.callbackNode===a?wy.bind(null,t):null)}function Ty(t,n){if(zu())return null;iy(t,n,!0)}function QE(){r2(function(){(dt&6)!==0?Yr(ba,GE):by()})}function zh(){return Qa===0&&(Qa=Zr()),Qa}function Sy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:os(""+t)}function Ay(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function YE(t,n,a,l,m){if(n==="submit"&&a&&a.stateNode===m){var T=Sy((m[ge]||null).action),M=l.submitter;M&&(n=(n=M[ge]||null)?Sy(n.formAction):M.getAttribute("formAction"),n!==null&&(T=n,M=null));var P=new ls("action","action",null,l,m);t.push({event:P,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qa!==0){var q=M?Ay(m,M):new FormData(m);sh(a,{pending:!0,data:q,method:m.method,action:T},null,q)}}else typeof T=="function"&&(P.preventDefault(),q=M?Ay(m,M):new FormData(m),sh(a,{pending:!0,data:q,method:m.method,action:T},T,q))},currentTarget:m}]})}}for(var $h=0;$h<Af.length;$h++){var Bh=Af[$h],KE=Bh.toLowerCase(),XE=Bh[0].toUpperCase()+Bh.slice(1);gr(KE,"on"+XE)}gr(ip,"onAnimationEnd"),gr(ap,"onAnimationIteration"),gr(sp,"onAnimationStart"),gr("dblclick","onDoubleClick"),gr("focusin","onFocus"),gr("focusout","onBlur"),gr(dE,"onTransitionRun"),gr(mE,"onTransitionStart"),gr(pE,"onTransitionCancel"),gr(op,"onTransitionEnd"),wn("onMouseEnter",["mouseout","mouseover"]),wn("onMouseLeave",["mouseout","mouseover"]),wn("onPointerEnter",["pointerout","pointerover"]),wn("onPointerLeave",["pointerout","pointerover"]),$t("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$t("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$t("onBeforeInput",["compositionend","keypress","textInput","paste"]),$t("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$t("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$t("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tl));function Ry(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],m=l.event;l=l.listeners;e:{var T=void 0;if(n)for(var M=l.length-1;0<=M;M--){var P=l[M],q=P.instance,W=P.currentTarget;if(P=P.listener,q!==T&&m.isPropagationStopped())break e;T=P,m.currentTarget=W;try{T(m)}catch(ae){Du(ae)}m.currentTarget=null,T=q}else for(M=0;M<l.length;M++){if(P=l[M],q=P.instance,W=P.currentTarget,P=P.listener,q!==T&&m.isPropagationStopped())break e;T=P,m.currentTarget=W;try{T(m)}catch(ae){Du(ae)}m.currentTarget=null,T=q}}}}function Je(t,n){var a=n[Ie];a===void 0&&(a=n[Ie]=new Set);var l=t+"__bubble";a.has(l)||(xy(n,t,2,!1),a.add(l))}function qh(t,n,a){var l=0;n&&(l|=4),xy(a,t,l,n)}var qu="_reactListening"+Math.random().toString(36).slice(2);function Hh(t){if(!t[qu]){t[qu]=!0,Qe.forEach(function(a){a!=="selectionchange"&&(ZE.has(a)||qh(a,!1,t),qh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[qu]||(n[qu]=!0,qh("selectionchange",!1,n))}}function xy(t,n,a,l){switch(Zy(n)){case 2:var m=S2;break;case 8:m=A2;break;default:m=id}a=m.bind(null,n,a,t),m=void 0,!tr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),l?m!==void 0?t.addEventListener(n,a,{capture:!0,passive:m}):t.addEventListener(n,a,!0):m!==void 0?t.addEventListener(n,a,{passive:m}):t.addEventListener(n,a,!1)}function Fh(t,n,a,l,m){var T=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var M=l.tag;if(M===3||M===4){var P=l.stateNode.containerInfo;if(P===m)break;if(M===4)for(M=l.return;M!==null;){var q=M.tag;if((q===3||q===4)&&M.stateNode.containerInfo===m)return;M=M.return}for(;P!==null;){if(M=Le(P),M===null)return;if(q=M.tag,q===5||q===6||q===26||q===27){l=T=M;continue e}P=P.parentNode}}l=l.return}Fl(function(){var W=T,ae=er(a),ue=[];e:{var ee=lp.get(t);if(ee!==void 0){var ne=ls,Ue=t;switch(t){case"keypress":if(Nr(a)===0)break e;case"keydown":case"keyup":ne=ms;break;case"focusin":Ue="focus",ne=fs;break;case"focusout":Ue="blur",ne=fs;break;case"beforeblur":case"afterblur":ne=fs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=Wl;break;case ip:case ap:case sp:ne=hs;break;case op:ne=tu;break;case"scroll":case"scrollend":ne=Gl;break;case"wheel":ne=ps;break;case"copy":case"cut":case"paste":ne=ds;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Ao;break;case"toggle":case"beforetoggle":ne=ru}var Ve=(n&4)!==0,_t=!Ve&&(t==="scroll"||t==="scrollend"),Q=Ve?ee!==null?ee+"Capture":null:ee;Ve=[];for(var F=W,Z;F!==null;){var oe=F;if(Z=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Z===null||Q===null||(oe=Ra(F,Q),oe!=null&&Ve.push(nl(F,oe,Z))),_t)break;F=F.return}0<Ve.length&&(ee=new ne(ee,Ue,null,a,ae),ue.push({event:ee,listeners:Ve}))}}if((n&7)===0){e:{if(ee=t==="mouseover"||t==="pointerover",ne=t==="mouseout"||t==="pointerout",ee&&a!==ei&&(Ue=a.relatedTarget||a.fromElement)&&(Le(Ue)||Ue[Ee]))break e;if((ne||ee)&&(ee=ae.window===ae?ae:(ee=ae.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(Ue=a.relatedTarget||a.toElement,ne=W,Ue=Ue?Le(Ue):null,Ue!==null&&(_t=u(Ue),Ve=Ue.tag,Ue!==_t||Ve!==5&&Ve!==27&&Ve!==6)&&(Ue=null)):(ne=null,Ue=W),ne!==Ue)){if(Ve=nr,oe="onMouseLeave",Q="onMouseEnter",F="mouse",(t==="pointerout"||t==="pointerover")&&(Ve=Ao,oe="onPointerLeave",Q="onPointerEnter",F="pointer"),_t=ne==null?ee:ct(ne),Z=Ue==null?ee:ct(Ue),ee=new Ve(oe,F+"leave",ne,a,ae),ee.target=_t,ee.relatedTarget=Z,oe=null,Le(ae)===W&&(Ve=new Ve(Q,F+"enter",Ue,a,ae),Ve.target=Z,Ve.relatedTarget=_t,oe=Ve),_t=oe,ne&&Ue)t:{for(Ve=ne,Q=Ue,F=0,Z=Ve;Z;Z=zs(Z))F++;for(Z=0,oe=Q;oe;oe=zs(oe))Z++;for(;0<F-Z;)Ve=zs(Ve),F--;for(;0<Z-F;)Q=zs(Q),Z--;for(;F--;){if(Ve===Q||Q!==null&&Ve===Q.alternate)break t;Ve=zs(Ve),Q=zs(Q)}Ve=null}else Ve=null;ne!==null&&Cy(ue,ee,ne,Ve,!1),Ue!==null&&_t!==null&&Cy(ue,_t,Ue,Ve,!0)}}e:{if(ee=W?ct(W):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var Te=Qm;else if(qt(ee))if(Ym)Te=cE;else{Te=lE;var Ye=oE}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?W&&vo(W.elementType)&&(Te=Qm):Te=uE;if(Te&&(Te=Te(t,W))){ai(ue,Te,a,ae);break e}Ye&&Ye(t,ee,W),t==="focusout"&&W&&ee.type==="number"&&W.memoizedProps.value!=null&&Ii(ee,"number",ee.value)}switch(Ye=W?ct(W):window,t){case"focusin":(qt(Ye)||Ye.contentEditable==="true")&&(gs=Ye,wf=W,Co=null);break;case"focusout":Co=wf=gs=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,np(ue,a,ae);break;case"selectionchange":if(hE)break;case"keydown":case"keyup":np(ue,a,ae)}var De;if(Lr)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else tt?ie(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(N&&a.locale!=="ko"&&(tt||je!=="onCompositionStart"?je==="onCompositionEnd"&&tt&&(De=bo()):(Ir=ae,Ni="value"in Ir?Ir.value:Ir.textContent,tt=!0)),Ye=Hu(W,je),0<Ye.length&&(je=new To(je,t,null,a,ae),ue.push({event:je,listeners:Ye}),De?je.data=De:(De=ve(a),De!==null&&(je.data=De)))),(De=C?Bt(t,a):nt(t,a))&&(je=Hu(W,"onBeforeInput"),0<je.length&&(Ye=new To("onBeforeInput","beforeinput",null,a,ae),ue.push({event:Ye,listeners:je}),Ye.data=De)),YE(ue,t,W,a,ae)}Ry(ue,n)})}function nl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Hu(t,n){for(var a=n+"Capture",l=[];t!==null;){var m=t,T=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||T===null||(m=Ra(t,a),m!=null&&l.unshift(nl(t,m,T)),m=Ra(t,n),m!=null&&l.push(nl(t,m,T))),t.tag===3)return l;t=t.return}return[]}function zs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Cy(t,n,a,l,m){for(var T=n._reactName,M=[];a!==null&&a!==l;){var P=a,q=P.alternate,W=P.stateNode;if(P=P.tag,q!==null&&q===l)break;P!==5&&P!==26&&P!==27||W===null||(q=W,m?(W=Ra(a,T),W!=null&&M.unshift(nl(a,W,q))):m||(W=Ra(a,T),W!=null&&M.push(nl(a,W,q)))),a=a.return}M.length!==0&&t.push({event:n,listeners:M})}var JE=/\r\n?/g,WE=/\u0000|\uFFFD/g;function Dy(t){return(typeof t=="string"?t:""+t).replace(JE,`
`).replace(WE,"")}function Oy(t,n){return n=Dy(n),Dy(t)===n}function Fu(){}function vt(t,n,a,l,m,T){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Wn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Wn(t,""+l);break;case"className":Tn(t,"class",l);break;case"tabIndex":Tn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(t,a,l);break;case"style":yo(t,l,T);break;case"data":if(n!=="object"){Tn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=os(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(a==="formAction"?(n!=="input"&&vt(t,n,"name",m.name,m,null),vt(t,n,"formEncType",m.formEncType,m,null),vt(t,n,"formMethod",m.formMethod,m,null),vt(t,n,"formTarget",m.formTarget,m,null)):(vt(t,n,"encType",m.encType,m,null),vt(t,n,"method",m.method,m,null),vt(t,n,"target",m.target,m,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=os(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Fu);break;case"onScroll":l!=null&&Je("scroll",t);break;case"onScrollEnd":l!=null&&Je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(m.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=os(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Je("beforetoggle",t),Je("toggle",t),dn(t,"popover",l);break;case"xlinkActuate":ze(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ze(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ze(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ze(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ze(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ze(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ze(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ze(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ze(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dn(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pf.get(a)||a,dn(t,a,l))}}function Gh(t,n,a,l,m,T){switch(a){case"style":yo(t,l,T);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(m.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Wn(t,l):(typeof l=="number"||typeof l=="bigint")&&Wn(t,""+l);break;case"onScroll":l!=null&&Je("scroll",t);break;case"onScrollEnd":l!=null&&Je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zn.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),n=a.slice(2,m?a.length-7:void 0),T=t[ge]||null,T=T!=null?T[a]:null,typeof T=="function"&&t.removeEventListener(n,T,m),typeof l=="function")){typeof T!="function"&&T!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,m);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):dn(t,a,l)}}}function on(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",t),Je("load",t);var l=!1,m=!1,T;for(T in a)if(a.hasOwnProperty(T)){var M=a[T];if(M!=null)switch(T){case"src":l=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:vt(t,n,T,M,a,null)}}m&&vt(t,n,"srcSet",a.srcSet,a,null),l&&vt(t,n,"src",a.src,a,null);return;case"input":Je("invalid",t);var P=T=M=m=null,q=null,W=null;for(l in a)if(a.hasOwnProperty(l)){var ae=a[l];if(ae!=null)switch(l){case"name":m=ae;break;case"type":M=ae;break;case"checked":q=ae;break;case"defaultChecked":W=ae;break;case"value":T=ae;break;case"defaultValue":P=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,n));break;default:vt(t,n,l,ae,a,null)}}Ta(t,T,P,q,W,M,m,!1),ss(t);return;case"select":Je("invalid",t),l=M=T=null;for(m in a)if(a.hasOwnProperty(m)&&(P=a[m],P!=null))switch(m){case"value":T=P;break;case"defaultValue":M=P;break;case"multiple":l=P;default:vt(t,n,m,P,a,null)}n=T,a=M,t.multiple=!!l,n!=null?Wr(t,!!l,n,!1):a!=null&&Wr(t,!!l,a,!0);return;case"textarea":Je("invalid",t),T=m=l=null;for(M in a)if(a.hasOwnProperty(M)&&(P=a[M],P!=null))switch(M){case"value":l=P;break;case"defaultValue":m=P;break;case"children":T=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(91));break;default:vt(t,n,M,P,a,null)}Sa(t,l,m,T),ss(t);return;case"option":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:vt(t,n,q,l,a,null)}return;case"dialog":Je("beforetoggle",t),Je("toggle",t),Je("cancel",t),Je("close",t);break;case"iframe":case"object":Je("load",t);break;case"video":case"audio":for(l=0;l<tl.length;l++)Je(tl[l],t);break;case"image":Je("error",t),Je("load",t);break;case"details":Je("toggle",t);break;case"embed":case"source":case"link":Je("error",t),Je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in a)if(a.hasOwnProperty(W)&&(l=a[W],l!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:vt(t,n,W,l,a,null)}return;default:if(vo(n)){for(ae in a)a.hasOwnProperty(ae)&&(l=a[ae],l!==void 0&&Gh(t,n,ae,l,a,void 0));return}}for(P in a)a.hasOwnProperty(P)&&(l=a[P],l!=null&&vt(t,n,P,l,a,null))}function e2(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,T=null,M=null,P=null,q=null,W=null,ae=null;for(ne in a){var ue=a[ne];if(a.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":q=ue;default:l.hasOwnProperty(ne)||vt(t,n,ne,null,l,ue)}}for(var ee in l){var ne=l[ee];if(ue=a[ee],l.hasOwnProperty(ee)&&(ne!=null||ue!=null))switch(ee){case"type":T=ne;break;case"name":m=ne;break;case"checked":W=ne;break;case"defaultChecked":ae=ne;break;case"value":M=ne;break;case"defaultValue":P=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,n));break;default:ne!==ue&&vt(t,n,ee,ne,l,ue)}}Ln(t,M,P,q,W,ae,T,m);return;case"select":ne=M=P=ee=null;for(T in a)if(q=a[T],a.hasOwnProperty(T)&&q!=null)switch(T){case"value":break;case"multiple":ne=q;default:l.hasOwnProperty(T)||vt(t,n,T,null,l,q)}for(m in l)if(T=l[m],q=a[m],l.hasOwnProperty(m)&&(T!=null||q!=null))switch(m){case"value":ee=T;break;case"defaultValue":P=T;break;case"multiple":M=T;default:T!==q&&vt(t,n,m,T,l,q)}n=P,a=M,l=ne,ee!=null?Wr(t,!!a,ee,!1):!!l!=!!a&&(n!=null?Wr(t,!!a,n,!0):Wr(t,!!a,a?[]:"",!1));return;case"textarea":ne=ee=null;for(P in a)if(m=a[P],a.hasOwnProperty(P)&&m!=null&&!l.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:vt(t,n,P,null,l,m)}for(M in l)if(m=l[M],T=a[M],l.hasOwnProperty(M)&&(m!=null||T!=null))switch(M){case"value":ee=m;break;case"defaultValue":ne=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==T&&vt(t,n,M,m,l,T)}gt(t,ee,ne);return;case"option":for(var Ue in a)if(ee=a[Ue],a.hasOwnProperty(Ue)&&ee!=null&&!l.hasOwnProperty(Ue))switch(Ue){case"selected":t.selected=!1;break;default:vt(t,n,Ue,null,l,ee)}for(q in l)if(ee=l[q],ne=a[q],l.hasOwnProperty(q)&&ee!==ne&&(ee!=null||ne!=null))switch(q){case"selected":t.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:vt(t,n,q,ee,l,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in a)ee=a[Ve],a.hasOwnProperty(Ve)&&ee!=null&&!l.hasOwnProperty(Ve)&&vt(t,n,Ve,null,l,ee);for(W in l)if(ee=l[W],ne=a[W],l.hasOwnProperty(W)&&ee!==ne&&(ee!=null||ne!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,n));break;default:vt(t,n,W,ee,l,ne)}return;default:if(vo(n)){for(var _t in a)ee=a[_t],a.hasOwnProperty(_t)&&ee!==void 0&&!l.hasOwnProperty(_t)&&Gh(t,n,_t,void 0,l,ee);for(ae in l)ee=l[ae],ne=a[ae],!l.hasOwnProperty(ae)||ee===ne||ee===void 0&&ne===void 0||Gh(t,n,ae,ee,l,ne);return}}for(var Q in a)ee=a[Q],a.hasOwnProperty(Q)&&ee!=null&&!l.hasOwnProperty(Q)&&vt(t,n,Q,null,l,ee);for(ue in l)ee=l[ue],ne=a[ue],!l.hasOwnProperty(ue)||ee===ne||ee==null&&ne==null||vt(t,n,ue,ee,l,ne)}var Qh=null,Yh=null;function Gu(t){return t.nodeType===9?t:t.ownerDocument}function Iy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ny(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Kh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Xh=null;function t2(){var t=window.event;return t&&t.type==="popstate"?t===Xh?!1:(Xh=t,!0):(Xh=null,!1)}var My=typeof setTimeout=="function"?setTimeout:void 0,n2=typeof clearTimeout=="function"?clearTimeout:void 0,Vy=typeof Promise=="function"?Promise:void 0,r2=typeof queueMicrotask=="function"?queueMicrotask:typeof Vy<"u"?function(t){return Vy.resolve(null).then(t).catch(i2)}:My;function i2(t){setTimeout(function(){throw t})}function Yi(t){return t==="head"}function Ly(t,n){var a=n,l=0,m=0;do{var T=a.nextSibling;if(t.removeChild(a),T&&T.nodeType===8)if(a=T.data,a==="/$"){if(0<l&&8>l){a=l;var M=t.ownerDocument;if(a&1&&rl(M.documentElement),a&2&&rl(M.body),a&4)for(a=M.head,rl(a),M=a.firstChild;M;){var P=M.nextSibling,q=M.nodeName;M[Me]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&M.rel.toLowerCase()==="stylesheet"||a.removeChild(M),M=P}}if(m===0){t.removeChild(T),fl(n);return}m--}else a==="$"||a==="$?"||a==="$!"?m++:l=a.charCodeAt(0)-48;else l=0;a=T}while(a);fl(n)}function Zh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zh(a),Ae(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function a2(t,n,a,l){for(;t.nodeType===1;){var m=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Me])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(T=t.getAttribute("rel"),T==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(T!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(T=t.getAttribute("src"),(T!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&T&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var T=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===T)return t}else return t;if(t=vr(t.nextSibling),t===null)break}return null}function s2(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=vr(t.nextSibling),t===null))return null;return t}function Jh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function o2(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function vr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Wh=null;function jy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function ky(t,n,a){switch(n=Gu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function rl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ae(t)}var ur=new Map,Py=new Set;function Qu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var vi=se.d;se.d={f:l2,r:u2,D:c2,C:f2,L:h2,m:d2,X:p2,S:m2,M:g2};function l2(){var t=vi.f(),n=Pu();return t||n}function u2(t){var n=Xe(t);n!==null&&n.tag===5&&n.type==="form"?ig(n):vi.r(t)}var $s=typeof document>"u"?null:document;function Uy(t,n,a){var l=$s;if(l&&typeof n=="string"&&n){var m=kt(n);m='link[rel="'+t+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),Py.has(m)||(Py.add(m),t={rel:t,crossOrigin:a,href:n},l.querySelector(m)===null&&(n=l.createElement("link"),on(n,"link",t),et(n),l.head.appendChild(n)))}}function c2(t){vi.D(t),Uy("dns-prefetch",t,null)}function f2(t,n){vi.C(t,n),Uy("preconnect",t,n)}function h2(t,n,a){vi.L(t,n,a);var l=$s;if(l&&t&&n){var m='link[rel="preload"][as="'+kt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+kt(a.imageSizes)+'"]')):m+='[href="'+kt(t)+'"]';var T=m;switch(n){case"style":T=Bs(t);break;case"script":T=qs(t)}ur.has(T)||(t=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),ur.set(T,t),l.querySelector(m)!==null||n==="style"&&l.querySelector(il(T))||n==="script"&&l.querySelector(al(T))||(n=l.createElement("link"),on(n,"link",t),et(n),l.head.appendChild(n)))}}function d2(t,n){vi.m(t,n);var a=$s;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+kt(l)+'"][href="'+kt(t)+'"]',T=m;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=qs(t)}if(!ur.has(T)&&(t=E({rel:"modulepreload",href:t},n),ur.set(T,t),a.querySelector(m)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(al(T)))return}l=a.createElement("link"),on(l,"link",t),et(l),a.head.appendChild(l)}}}function m2(t,n,a){vi.S(t,n,a);var l=$s;if(l&&t){var m=st(l).hoistableStyles,T=Bs(t);n=n||"default";var M=m.get(T);if(!M){var P={loading:0,preload:null};if(M=l.querySelector(il(T)))P.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},a),(a=ur.get(T))&&ed(t,a);var q=M=l.createElement("link");et(q),on(q,"link",t),q._p=new Promise(function(W,ae){q.onload=W,q.onerror=ae}),q.addEventListener("load",function(){P.loading|=1}),q.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Yu(M,n,l)}M={type:"stylesheet",instance:M,count:1,state:P},m.set(T,M)}}}function p2(t,n){vi.X(t,n);var a=$s;if(a&&t){var l=st(a).hoistableScripts,m=qs(t),T=l.get(m);T||(T=a.querySelector(al(m)),T||(t=E({src:t,async:!0},n),(n=ur.get(m))&&td(t,n),T=a.createElement("script"),et(T),on(T,"link",t),a.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},l.set(m,T))}}function g2(t,n){vi.M(t,n);var a=$s;if(a&&t){var l=st(a).hoistableScripts,m=qs(t),T=l.get(m);T||(T=a.querySelector(al(m)),T||(t=E({src:t,async:!0,type:"module"},n),(n=ur.get(m))&&td(t,n),T=a.createElement("script"),et(T),on(T,"link",t),a.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},l.set(m,T))}}function zy(t,n,a,l){var m=(m=xe.current)?Qu(m):null;if(!m)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Bs(a.href),a=st(m).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Bs(a.href);var T=st(m).hoistableStyles,M=T.get(t);if(M||(m=m.ownerDocument||m,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(t,M),(T=m.querySelector(il(t)))&&!T._p&&(M.instance=T,M.state.loading=5),ur.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ur.set(t,a),T||y2(m,t,a,M.state))),n&&l===null)throw Error(s(528,""));return M}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qs(a),a=st(m).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Bs(t){return'href="'+kt(t)+'"'}function il(t){return'link[rel="stylesheet"]['+t+"]"}function $y(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function y2(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),on(n,"link",a),et(n),t.head.appendChild(n))}function qs(t){return'[src="'+kt(t)+'"]'}function al(t){return"script[async]"+t}function By(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+kt(a.href)+'"]');if(l)return n.instance=l,et(l),l;var m=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),et(l),on(l,"style",m),Yu(l,a.precedence,t),n.instance=l;case"stylesheet":m=Bs(a.href);var T=t.querySelector(il(m));if(T)return n.state.loading|=4,n.instance=T,et(T),T;l=$y(a),(m=ur.get(m))&&ed(l,m),T=(t.ownerDocument||t).createElement("link"),et(T);var M=T;return M._p=new Promise(function(P,q){M.onload=P,M.onerror=q}),on(T,"link",l),n.state.loading|=4,Yu(T,a.precedence,t),n.instance=T;case"script":return T=qs(a.src),(m=t.querySelector(al(T)))?(n.instance=m,et(m),m):(l=a,(m=ur.get(T))&&(l=E({},a),td(l,m)),t=t.ownerDocument||t,m=t.createElement("script"),et(m),on(m,"link",l),t.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Yu(l,a.precedence,t));return n.instance}function Yu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=l.length?l[l.length-1]:null,T=m,M=0;M<l.length;M++){var P=l[M];if(P.dataset.precedence===n)T=P;else if(T!==m)break}T?T.parentNode.insertBefore(t,T.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function ed(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function td(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ku=null;function qy(t,n,a){if(Ku===null){var l=new Map,m=Ku=new Map;m.set(a,l)}else m=Ku,l=m.get(a),l||(l=new Map,m.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),m=0;m<a.length;m++){var T=a[m];if(!(T[Me]||T[le]||t==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var M=T.getAttribute(n)||"";M=t+M;var P=l.get(M);P?P.push(T):l.set(M,[T])}}return l}function Hy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function v2(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Fy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var sl=null;function _2(){}function b2(t,n,a){if(sl===null)throw Error(s(475));var l=sl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var m=Bs(a.href),T=t.querySelector(il(m));if(T){t=T._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Xu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=T,et(T);return}T=t.ownerDocument||t,a=$y(a),(m=ur.get(m))&&ed(a,m),T=T.createElement("link"),et(T);var M=T;M._p=new Promise(function(P,q){M.onload=P,M.onerror=q}),on(T,"link",a),n.instance=T}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Xu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function E2(){if(sl===null)throw Error(s(475));var t=sl;return t.stylesheets&&t.count===0&&nd(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&nd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Xu(){if(this.count--,this.count===0){if(this.stylesheets)nd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zu=null;function nd(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zu=new Map,n.forEach(w2,t),Zu=null,Xu.call(t))}function w2(t,n){if(!(n.state.loading&4)){var a=Zu.get(t);if(a)var l=a.get(null);else{a=new Map,Zu.set(t,a);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<m.length;T++){var M=m[T];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(a.set(M.dataset.precedence,M),l=M)}l&&a.set(null,l)}m=n.instance,M=m.getAttribute("data-precedence"),T=a.get(M)||l,T===l&&a.set(null,m),a.set(M,m),this.count++,l=Xu.bind(this),m.addEventListener("load",l),m.addEventListener("error",l),T?T.parentNode.insertBefore(m,T.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),n.state.loading|=4}}var ol={$$typeof:D,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function T2(t,n,a,l,m,T,M,P){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xn(0),this.hiddenUpdates=Xn(null),this.identifierPrefix=l,this.onUncaughtError=m,this.onCaughtError=T,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Gy(t,n,a,l,m,T,M,P,q,W,ae,ue){return t=new T2(t,n,a,M,P,q,W,ue),n=1,T===!0&&(n|=24),T=kn(3,null,null,n),t.current=T,T.stateNode=t,n=kf(),n.refCount++,t.pooledCache=n,n.refCount++,T.memoizedState={element:l,isDehydrated:a,cache:n},$f(T),t}function Qy(t){return t?(t=bs,t):bs}function Yy(t,n,a,l,m,T){m=Qy(m),l.context===null?l.context=m:l.pendingContext=m,l=Li(n),l.payload={element:a},T=T===void 0?null:T,T!==null&&(l.callback=T),a=ji(t,l,n),a!==null&&(Bn(a,t,n),ko(a,t,n))}function Ky(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function rd(t,n){Ky(t,n),(t=t.alternate)&&Ky(t,n)}function Xy(t){if(t.tag===13){var n=_s(t,67108864);n!==null&&Bn(n,t,67108864),rd(t,67108864)}}var Ju=!0;function S2(t,n,a,l){var m=G.T;G.T=null;var T=se.p;try{se.p=2,id(t,n,a,l)}finally{se.p=T,G.T=m}}function A2(t,n,a,l){var m=G.T;G.T=null;var T=se.p;try{se.p=8,id(t,n,a,l)}finally{se.p=T,G.T=m}}function id(t,n,a,l){if(Ju){var m=ad(l);if(m===null)Fh(t,n,l,Wu,a),Jy(t,l);else if(x2(m,t,n,a,l))l.stopPropagation();else if(Jy(t,l),n&4&&-1<R2.indexOf(t)){for(;m!==null;){var T=Xe(m);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var M=Nn(T.pendingLanes);if(M!==0){var P=T;for(P.pendingLanes|=2,P.entangledLanes|=2;M;){var q=1<<31-Lt(M);P.entanglements[1]|=q,M&=~q}$r(T),(dt&6)===0&&(ju=bn()+500,el(0))}}break;case 13:P=_s(T,2),P!==null&&Bn(P,T,2),Pu(),rd(T,2)}if(T=ad(l),T===null&&Fh(t,n,l,Wu,a),T===m)break;m=T}m!==null&&l.stopPropagation()}else Fh(t,n,l,null,a)}}function ad(t){return t=er(t),sd(t)}var Wu=null;function sd(t){if(Wu=null,t=Le(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Wu=t,null}function Zy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mo()){case ba:return 2;case Si:return 8;case Kr:case dr:return 32;case Qn:return 268435456;default:return 32}default:return 32}}var od=!1,Ki=null,Xi=null,Zi=null,ll=new Map,ul=new Map,Ji=[],R2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jy(t,n){switch(t){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(n.pointerId)}}function cl(t,n,a,l,m,T){return t===null||t.nativeEvent!==T?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:T,targetContainers:[m]},n!==null&&(n=Xe(n),n!==null&&Xy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),t)}function x2(t,n,a,l,m){switch(n){case"focusin":return Ki=cl(Ki,t,n,a,l,m),!0;case"dragenter":return Xi=cl(Xi,t,n,a,l,m),!0;case"mouseover":return Zi=cl(Zi,t,n,a,l,m),!0;case"pointerover":var T=m.pointerId;return ll.set(T,cl(ll.get(T)||null,t,n,a,l,m)),!0;case"gotpointercapture":return T=m.pointerId,ul.set(T,cl(ul.get(T)||null,t,n,a,l,m)),!0}return!1}function Wy(t){var n=Le(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,Y(t.priority,function(){if(a.tag===13){var l=$n();l=xr(l);var m=_s(a,l);m!==null&&Bn(m,a,l),rd(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ec(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=ad(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ei=l,a.target.dispatchEvent(l),ei=null}else return n=Xe(a),n!==null&&Xy(n),t.blockedOn=a,!1;n.shift()}return!0}function ev(t,n,a){ec(t)&&a.delete(n)}function C2(){od=!1,Ki!==null&&ec(Ki)&&(Ki=null),Xi!==null&&ec(Xi)&&(Xi=null),Zi!==null&&ec(Zi)&&(Zi=null),ll.forEach(ev),ul.forEach(ev)}function tc(t,n){t.blockedOn===n&&(t.blockedOn=null,od||(od=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,C2)))}var nc=null;function tv(t){nc!==t&&(nc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){nc===t&&(nc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],m=t[n+2];if(typeof l!="function"){if(sd(l||a)===null)continue;break}var T=Xe(a);T!==null&&(t.splice(n,3),n-=3,sh(T,{pending:!0,data:m,method:a.method,action:l},l,m))}}))}function fl(t){function n(q){return tc(q,t)}Ki!==null&&tc(Ki,t),Xi!==null&&tc(Xi,t),Zi!==null&&tc(Zi,t),ll.forEach(n),ul.forEach(n);for(var a=0;a<Ji.length;a++){var l=Ji[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ji.length&&(a=Ji[0],a.blockedOn===null);)Wy(a),a.blockedOn===null&&Ji.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var m=a[l],T=a[l+1],M=m[ge]||null;if(typeof T=="function")M||tv(a);else if(M){var P=null;if(T&&T.hasAttribute("formAction")){if(m=T,M=T[ge]||null)P=M.formAction;else if(sd(m)!==null)continue}else P=M.action;typeof P=="function"?a[l+1]=P:(a.splice(l,3),l-=3),tv(a)}}}function ld(t){this._internalRoot=t}rc.prototype.render=ld.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=$n();Yy(a,l,t,n,null,null)},rc.prototype.unmount=ld.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Yy(t.current,2,null,t,null,null),Pu(),n[Ee]=null}};function rc(t){this._internalRoot=t}rc.prototype.unstable_scheduleHydration=function(t){if(t){var n=H();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ji.length&&n!==0&&n<Ji[a].priority;a++);Ji.splice(a,0,t),a===0&&Wy(t)}};var nv=e.version;if(nv!=="19.1.0")throw Error(s(527,nv,"19.1.0"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var D2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{lt=ic.inject(D2),He=ic}catch{}}return dl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",m=vg,T=_g,M=bg,P=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(T=n.onCaughtError),n.onRecoverableError!==void 0&&(M=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(P=n.unstable_transitionCallbacks)),n=Gy(t,1,!1,null,null,a,l,m,T,M,P,null),t[Ee]=n.current,Hh(t),new ld(n)},dl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,m="",T=vg,M=_g,P=bg,q=null,W=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(T=a.onUncaughtError),a.onCaughtError!==void 0&&(M=a.onCaughtError),a.onRecoverableError!==void 0&&(P=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(q=a.unstable_transitionCallbacks),a.formState!==void 0&&(W=a.formState)),n=Gy(t,1,!0,n,a??null,l,m,T,M,P,q,W),n.context=Qy(null),a=n.current,l=$n(),l=xr(l),m=Li(l),m.callback=null,ji(a,m,l),a=l,n.current.lanes=a,mr(n,a),$r(n),t[Ee]=n.current,Hh(t),new rc(n)},dl.version="19.1.0",dl}var dv;function U2(){if(dv)return fd.exports;dv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),fd.exports=P2(),fd.exports}var z2=U2(),ml={},mv;function $2(){if(mv)return ml;mv=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.parse=f,ml.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function f(y,b){const v=new u,_=y.length;if(_<2)return v;const A=(b==null?void 0:b.decode)||E;let w=0;do{const R=y.indexOf("=",w);if(R===-1)break;const D=y.indexOf(";",w),V=D===-1?_:D;if(R>V){w=y.lastIndexOf(";",R-1)+1;continue}const j=c(y,w,R),L=p(y,R,j),I=y.slice(j,L);if(v[I]===void 0){let S=c(y,R+1,V),x=p(y,V,S);const O=A(y.slice(S,x));v[I]=O}w=V+1}while(w<_);return v}function c(y,b,v){do{const _=y.charCodeAt(b);if(_!==32&&_!==9)return b}while(++b<v);return v}function p(y,b,v){for(;b>v;){const _=y.charCodeAt(--b);if(_!==32&&_!==9)return b+1}return v}function g(y,b,v){const _=(v==null?void 0:v.encode)||encodeURIComponent;if(!i.test(y))throw new TypeError(`argument name is invalid: ${y}`);const A=_(b);if(!e.test(A))throw new TypeError(`argument val is invalid: ${b}`);let w=y+"="+A;if(!v)return w;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);w+="; Max-Age="+v.maxAge}if(v.domain){if(!r.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);w+="; Domain="+v.domain}if(v.path){if(!s.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);w+="; Path="+v.path}if(v.expires){if(!d(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);w+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(w+="; HttpOnly"),v.secure&&(w+="; Secure"),v.partitioned&&(w+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return w}function E(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function d(y){return o.call(y)==="[object Date]"}return ml}$2();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Y_=i=>{throw TypeError(i)},B2=(i,e,r)=>e.has(i)||Y_("Cannot "+r),pd=(i,e,r)=>(B2(i,e,"read from private field"),r?r.call(i):e.get(i)),q2=(i,e,r)=>e.has(i)?Y_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,r),pv="popstate";function H2(i={}){function e(o,u){let{pathname:f="/",search:c="",hash:p=""}=Ti(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),xl("",{pathname:f,search:c,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(o,u){let f=o.document.querySelector("base"),c="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");c=g===-1?p:p.slice(0,g)}return c+"#"+(typeof u=="string"?u:la(u))}function s(o,u){It(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return G2(e,r,s,i)}function Ke(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function It(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function F2(){return Math.random().toString(36).substring(2,10)}function gv(i,e){return{usr:i.state,key:i.key,idx:e}}function xl(i,e,r=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ti(e):e,state:r,key:e&&e.key||s||F2()}}function la({pathname:i="/",search:e="",hash:r=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Ti(i){let e={};if(i){let r=i.indexOf("#");r>=0&&(e.hash=i.substring(r),i=i.substring(0,r));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function G2(i,e,r,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,c="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function d(){c="POP";let A=E(),w=A==null?null:A-g;g=A,p&&p({action:c,location:_.location,delta:w})}function y(A,w){c="PUSH";let R=xl(_.location,A,w);r&&r(R,A),g=E()+1;let D=gv(R,g),V=_.createHref(R);try{f.pushState(D,"",V)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;o.location.assign(V)}u&&p&&p({action:c,location:_.location,delta:1})}function b(A,w){c="REPLACE";let R=xl(_.location,A,w);r&&r(R,A),g=E();let D=gv(R,g),V=_.createHref(R);f.replaceState(D,"",V),u&&p&&p({action:c,location:_.location,delta:0})}function v(A){let w=o.location.origin!=="null"?o.location.origin:o.location.href,R=typeof A=="string"?A:la(A);return R=R.replace(/ $/,"%20"),Ke(w,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,w)}let _={get action(){return c},get location(){return i(o,f)},listen(A){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(pv,d),p=A,()=>{o.removeEventListener(pv,d),p=null}},createHref(A){return e(o,A)},createURL:v,encodeLocation(A){let w=v(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:y,replace:b,go(A){return f.go(A)}};return _}var vl,yv=class{constructor(i){if(q2(this,vl,new Map),i)for(let[e,r]of i)this.set(e,r)}get(i){if(pd(this,vl).has(i))return pd(this,vl).get(i);if(i.defaultValue!==void 0)return i.defaultValue;throw new Error("No value found for context")}set(i,e){pd(this,vl).set(i,e)}};vl=new WeakMap;var Q2=new Set(["lazy","caseSensitive","path","id","index","children"]);function Y2(i){return Q2.has(i)}var K2=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function X2(i){return K2.has(i)}function Z2(i){return i.index===!0}function wc(i,e,r=[],s={}){return i.map((o,u)=>{let f=[...r,String(u)],c=typeof o.id=="string"?o.id:f.join("-");if(Ke(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ke(!s[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),Z2(o)){let p={...o,...e(o),id:c};return s[c]=p,p}else{let p={...o,...e(o),id:c,children:void 0};return s[c]=p,o.children&&(p.children=wc(o.children,e,f,s)),p}})}function ta(i,e,r="/"){return dc(i,e,r,!1)}function dc(i,e,r,s){let o=typeof e=="string"?Ti(e):e,u=hr(o.pathname||"/",r);if(u==null)return null;let f=K_(i);W2(f);let c=null;for(let p=0;c==null&&p<f.length;++p){let g=c1(u);c=l1(f[p],g,s)}return c}function J2(i,e){let{route:r,pathname:s,params:o}=i;return{id:r.id,pathname:s,params:o,data:e[r.id],handle:r.handle}}function K_(i,e=[],r=[],s=""){let o=(u,f,c)=>{let p={relativePath:c===void 0?u.path||"":c,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(Ke(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=qr([s,p.relativePath]),E=r.concat(p);u.children&&u.children.length>0&&(Ke(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),K_(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:s1(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var c;if(u.path===""||!((c=u.path)!=null&&c.includes("?")))o(u,f);else for(let p of X_(u.path))o(u,f,p)}),e}function X_(i){let e=i.split("/");if(e.length===0)return[];let[r,...s]=e,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=X_(s.join("/")),c=[];return c.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&c.push(...f),c.map(p=>i.startsWith("/")&&p===""?"/":p)}function W2(i){i.sort((e,r)=>e.score!==r.score?r.score-e.score:o1(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var e1=/^:[\w-]+$/,t1=3,n1=2,r1=1,i1=10,a1=-2,vv=i=>i==="*";function s1(i,e){let r=i.split("/"),s=r.length;return r.some(vv)&&(s+=a1),e&&(s+=n1),r.filter(o=>!vv(o)).reduce((o,u)=>o+(e1.test(u)?t1:u===""?r1:i1),s)}function o1(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function l1(i,e,r=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let c=0;c<s.length;++c){let p=s[c],g=c===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",d=Tc({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),y=p.route;if(!d&&g&&r&&!s[s.length-1].route.index&&(d=Tc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!d)return null;Object.assign(o,d.params),f.push({params:o,pathname:qr([u,d.pathname]),pathnameBase:d1(qr([u,d.pathnameBase])),route:y}),d.pathnameBase!=="/"&&(u=qr([u,d.pathnameBase]))}return f}function Tc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,s]=u1(i.path,i.caseSensitive,i.end),o=e.match(r);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:d},y)=>{if(E==="*"){let v=c[y]||"";f=u.slice(0,u.length-v.length).replace(/(.)\/+$/,"$1")}const b=c[y];return d&&!b?g[E]=void 0:g[E]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function u1(i,e=!1,r=!0){It(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,c,p)=>(s.push({paramName:c,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function c1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return It(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function hr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=i.charAt(r);return s&&s!=="/"?null:i.slice(r)||"/"}function f1(i,e="/"){let{pathname:r,search:s="",hash:o=""}=typeof i=="string"?Ti(i):i;return{pathname:r?r.startsWith("/")?r:h1(r,e):e,search:m1(s),hash:p1(o)}}function h1(i,e){let r=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function gd(i,e,r,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Z_(i){return i.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function qc(i){let e=Z_(i);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function Hc(i,e,r,s=!1){let o;typeof i=="string"?o=Ti(i):(o={...i},Ke(!o.pathname||!o.pathname.includes("?"),gd("?","pathname","search",o)),Ke(!o.pathname||!o.pathname.includes("#"),gd("#","pathname","hash",o)),Ke(!o.search||!o.search.includes("#"),gd("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,c;if(f==null)c=r;else{let d=e.length-1;if(!s&&f.startsWith("..")){let y=f.split("/");for(;y[0]==="..";)y.shift(),d-=1;o.pathname=y.join("/")}c=d>=0?e[d]:"/"}let p=f1(o,c),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var qr=i=>i.join("/").replace(/\/\/+/g,"/"),d1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),m1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,p1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Sc=class{constructor(i,e,r,s=!1){this.status=i,this.statusText=e||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Cl(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var J_=["POST","PUT","PATCH","DELETE"],g1=new Set(J_),y1=["GET",...J_],v1=new Set(y1),_1=new Set([301,302,303,307,308]),b1=new Set([307,308]),yd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},E1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},pl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},rm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,w1=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),W_="remix-router-transitions",e0=Symbol("ResetLoaderData");function T1(i){const e=i.window?i.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ke(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=i.hydrationRouteProperties||[],o=i.mapRouteProperties||w1,u={},f=wc(i.routes,o,void 0,u),c,p=i.basename||"/",g=i.dataStrategy||C1,E={unstable_middleware:!1,...i.future},d=null,y=new Set,b=null,v=null,_=null,A=i.hydrationData!=null,w=ta(f,i.history.location,p),R=!1,D=null;if(w==null&&!i.patchRoutesOnNavigation){let H=cr(404,{pathname:i.history.location.pathname}),{matches:Y,route:J}=Ov(f);w=Y,D={[J.id]:H}}w&&!i.hydrationData&&En(w,f,i.history.location.pathname).active&&(w=null);let V;if(w)if(w.some(H=>H.route.lazy))V=!1;else if(!w.some(H=>H.route.loader))V=!0;else{let H=i.hydrationData?i.hydrationData.loaderData:null,Y=i.hydrationData?i.hydrationData.errors:null;if(Y){let J=w.findIndex(le=>Y[le.route.id]!==void 0);V=w.slice(0,J+1).every(le=>!Od(le.route,H,Y))}else V=w.every(J=>!Od(J.route,H,Y))}else{V=!1,w=[];let H=En(null,f,i.history.location.pathname);H.active&&H.matches&&(R=!0,w=H.matches)}let j,L={historyAction:i.history.action,location:i.history.location,matches:w,initialized:V,navigation:yd,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||D,fetchers:new Map,blockers:new Map},I="POP",S=!1,x,O=!1,k=new Map,$=null,U=!1,he=!1,pe=new Set,G=new Map,se=0,ye=-1,Re=new Map,B=new Set,re=new Map,me=new Map,ce=new Set,_e=new Map,ke,xe=null;function wt(){if(d=i.history.listen(({action:H,location:Y,delta:J})=>{if(ke){ke(),ke=void 0;return}It(_e.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=xi({currentLocation:L.location,nextLocation:Y,historyAction:H});if(le&&J!=null){let ge=new Promise(Ee=>{ke=Ee});i.history.go(J*-1),Kn(le,{state:"blocked",location:Y,proceed(){Kn(le,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),ge.then(()=>i.history.go(J))},reset(){let Ee=new Map(L.blockers);Ee.set(le,pl),St({blockers:Ee})}});return}return _n(H,Y)}),r){U1(e,k);let H=()=>z1(e,k);e.addEventListener("pagehide",H),$=()=>e.removeEventListener("pagehide",H)}return L.initialized||_n("POP",L.location,{initialHydration:!0}),j}function pt(){d&&d(),$&&$(),y.clear(),x&&x.abort(),L.fetchers.forEach((H,Y)=>Lt(Y)),L.blockers.forEach((H,Y)=>Xr(Y))}function Gn(H){return y.add(H),()=>y.delete(H)}function St(H,Y={}){L={...L,...H};let J=[],le=[];L.fetchers.forEach((ge,Ee)=>{ge.state==="idle"&&(ce.has(Ee)?J.push(Ee):le.push(Ee))}),ce.forEach(ge=>{!L.fetchers.has(ge)&&!G.has(ge)&&J.push(ge)}),[...y].forEach(ge=>ge(L,{deletedFetchers:J,viewTransitionOpts:Y.viewTransitionOpts,flushSync:Y.flushSync===!0})),J.forEach(ge=>Lt(ge)),le.forEach(ge=>L.fetchers.delete(ge))}function fn(H,Y,{flushSync:J}={}){var Ce,Me;let le=L.actionData!=null&&L.navigation.formMethod!=null&&Hn(L.navigation.formMethod)&&L.navigation.state==="loading"&&((Ce=H.state)==null?void 0:Ce._isRedirect)!==!0,ge;Y.actionData?Object.keys(Y.actionData).length>0?ge=Y.actionData:ge=null:le?ge=L.actionData:ge=null;let Ee=Y.loaderData?Cv(L.loaderData,Y.loaderData,Y.matches||[],Y.errors):L.loaderData,Ie=L.blockers;Ie.size>0&&(Ie=new Map(Ie),Ie.forEach((Ae,Le)=>Ie.set(Le,pl)));let we=S===!0||L.navigation.formMethod!=null&&Hn(L.navigation.formMethod)&&((Me=H.state)==null?void 0:Me._isRedirect)!==!0;c&&(f=c,c=void 0),U||I==="POP"||(I==="PUSH"?i.history.push(H,H.state):I==="REPLACE"&&i.history.replace(H,H.state));let Se;if(I==="POP"){let Ae=k.get(L.location.pathname);Ae&&Ae.has(H.pathname)?Se={currentLocation:L.location,nextLocation:H}:k.has(H.pathname)&&(Se={currentLocation:H,nextLocation:L.location})}else if(O){let Ae=k.get(L.location.pathname);Ae?Ae.add(H.pathname):(Ae=new Set([H.pathname]),k.set(L.location.pathname,Ae)),Se={currentLocation:L.location,nextLocation:H}}St({...Y,actionData:ge,loaderData:Ee,historyAction:I,location:H,initialized:!0,navigation:yd,revalidation:"idle",restoreScrollPosition:Ci(H,Y.matches||L.matches),preventScrollReset:we,blockers:Ie},{viewTransitionOpts:Se,flushSync:J===!0}),I="POP",S=!1,O=!1,U=!1,he=!1,xe==null||xe.resolve(),xe=null}async function wr(H,Y){if(typeof H=="number"){i.history.go(H);return}let J=Dd(L.location,L.matches,p,H,Y==null?void 0:Y.fromRouteId,Y==null?void 0:Y.relative),{path:le,submission:ge,error:Ee}=_v(!1,J,Y),Ie=L.location,we=xl(L.location,le,Y&&Y.state);we={...we,...i.history.encodeLocation(we)};let Se=Y&&Y.replace!=null?Y.replace:void 0,Ce="PUSH";Se===!0?Ce="REPLACE":Se===!1||ge!=null&&Hn(ge.formMethod)&&ge.formAction===L.location.pathname+L.location.search&&(Ce="REPLACE");let Me=Y&&"preventScrollReset"in Y?Y.preventScrollReset===!0:void 0,Ae=(Y&&Y.flushSync)===!0,Le=xi({currentLocation:Ie,nextLocation:we,historyAction:Ce});if(Le){Kn(Le,{state:"blocked",location:we,proceed(){Kn(Le,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),wr(H,Y)},reset(){let Xe=new Map(L.blockers);Xe.set(Le,pl),St({blockers:Xe})}});return}await _n(Ce,we,{submission:ge,pendingError:Ee,preventScrollReset:Me,replace:Y&&Y.replace,enableViewTransition:Y&&Y.viewTransition,flushSync:Ae})}function Yr(){xe||(xe=$1()),Ri(),St({revalidation:"loading"});let H=xe.promise;return L.navigation.state==="submitting"?H:L.navigation.state==="idle"?(_n(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),H):(_n(I||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:O===!0}),H)}async function _n(H,Y,J){x&&x.abort(),x=null,I=H,U=(J&&J.startUninterruptedRevalidation)===!0,mr(L.location,L.matches),S=(J&&J.preventScrollReset)===!0,O=(J&&J.enableViewTransition)===!0;let le=c||f,ge=J&&J.overrideNavigation,Ee=J!=null&&J.initialHydration&&L.matches&&L.matches.length>0&&!R?L.matches:ta(le,Y,p),Ie=(J&&J.flushSync)===!0;if(Ee&&L.initialized&&!he&&V1(L.location,Y)&&!(J&&J.submission&&Hn(J.submission.formMethod))){fn(Y,{matches:Ee},{flushSync:Ie});return}let we=En(Ee,le,Y.pathname);if(we.active&&we.matches&&(Ee=we.matches),!Ee){let{error:st,notFoundMatches:et,route:Qe}=Zr(Y.pathname);fn(Y,{matches:et,loaderData:{},errors:{[Qe.id]:st}},{flushSync:Ie});return}x=new AbortController;let Se=Fs(i.history,Y,x.signal,J&&J.submission),Ce=new yv(i.unstable_getContext?await i.unstable_getContext():void 0),Me;if(J&&J.pendingError)Me=[Ka(Ee).route.id,{type:"error",error:J.pendingError}];else if(J&&J.submission&&Hn(J.submission.formMethod)){let st=await _a(Se,Y,J.submission,Ee,Ce,we.active,J&&J.initialHydration===!0,{replace:J.replace,flushSync:Ie});if(st.shortCircuited)return;if(st.pendingActionResult){let[et,Qe]=st.pendingActionResult;if(qn(Qe)&&Cl(Qe.error)&&Qe.error.status===404){x=null,fn(Y,{matches:st.matches,loaderData:{},errors:{[et]:Qe.error}});return}}Ee=st.matches||Ee,Me=st.pendingActionResult,ge=vd(Y,J.submission),Ie=!1,we.active=!1,Se=Fs(i.history,Se.url,Se.signal)}let{shortCircuited:Ae,matches:Le,loaderData:Xe,errors:ct}=await is(Se,Y,Ee,Ce,we.active,ge,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,Ie,Me);Ae||(x=null,fn(Y,{matches:Le||Ee,...Dv(Me),loaderData:Xe,errors:ct}))}async function _a(H,Y,J,le,ge,Ee,Ie,we={}){Ri();let Se=k1(Y,J);if(St({navigation:Se},{flushSync:we.flushSync===!0}),Ee){let Ae=await Rr(le,Y.pathname,H.signal);if(Ae.type==="aborted")return{shortCircuited:!0};if(Ae.type==="error"){let Le=Ka(Ae.partialMatches).route.id;return{matches:Ae.partialMatches,pendingActionResult:[Le,{type:"error",error:Ae.error}]}}else if(Ae.matches)le=Ae.matches;else{let{notFoundMatches:Le,error:Xe,route:ct}=Zr(Y.pathname);return{matches:Le,pendingActionResult:[ct.id,{type:"error",error:Xe}]}}}let Ce,Me=_l(le,Y);if(!Me.route.action&&!Me.route.lazy)Ce={type:"error",error:cr(405,{method:H.method,pathname:Y.pathname,routeId:Me.route.id})};else{let Ae=Xs(o,u,H,le,Me,Ie?[]:s,ge),Le=await Qn(H,Ae,ge,null);if(Ce=Le[Me.route.id],!Ce){for(let Xe of le)if(Le[Xe.route.id]){Ce=Le[Xe.route.id];break}}if(H.signal.aborted)return{shortCircuited:!0}}if(Xa(Ce)){let Ae;return we&&we.replace!=null?Ae=we.replace:Ae=Av(Ce.response.headers.get("Location"),new URL(H.url),p)===L.location.pathname+L.location.search,await dr(H,Ce,!0,{submission:J,replace:Ae}),{shortCircuited:!0}}if(qn(Ce)){let Ae=Ka(le,Me.route.id);return(we&&we.replace)!==!0&&(I="PUSH"),{matches:le,pendingActionResult:[Ae.route.id,Ce,Me.route.id]}}return{matches:le,pendingActionResult:[Me.route.id,Ce]}}async function is(H,Y,J,le,ge,Ee,Ie,we,Se,Ce,Me,Ae){let Le=Ee||vd(Y,Ie),Xe=Ie||we||Nv(Le),ct=!U&&!Ce;if(ge){if(ct){let jt=bn(Ae);St({navigation:Le,...jt!==void 0?{actionData:jt}:{}},{flushSync:Me})}let ze=await Rr(J,Y.pathname,H.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let jt=Ka(ze.partialMatches).route.id;return{matches:ze.partialMatches,loaderData:{},errors:{[jt]:ze.error}}}else if(ze.matches)J=ze.matches;else{let{error:jt,notFoundMatches:Vn,route:Rn}=Zr(Y.pathname);return{matches:Vn,loaderData:{},errors:{[Rn.id]:jt}}}}let st=c||f,{dsMatches:et,revalidatingFetchers:Qe}=bv(H,le,o,u,i.history,L,J,Xe,Y,Ce?[]:s,Ce===!0,he,pe,ce,re,B,st,p,Ae);if(ye=++se,!i.dataStrategy&&!et.some(ze=>ze.shouldLoad)&&Qe.length===0){let ze=Sr();return fn(Y,{matches:J,loaderData:{},errors:Ae&&qn(Ae[1])?{[Ae[0]]:Ae[1].error}:null,...Dv(Ae),...ze?{fetchers:new Map(L.fetchers)}:{}},{flushSync:Me}),{shortCircuited:!0}}if(ct){let ze={};if(!ge){ze.navigation=Le;let jt=bn(Ae);jt!==void 0&&(ze.actionData=jt)}Qe.length>0&&(ze.fetchers=mo(Qe)),St(ze,{flushSync:Me})}Qe.forEach(ze=>{Yn(ze.key),ze.controller&&G.set(ze.key,ze.controller)});let Zn=()=>Qe.forEach(ze=>Yn(ze.key));x&&x.signal.addEventListener("abort",Zn);let{loaderResults:$t,fetcherResults:wn}=await Ai(et,Qe,H,le);if(H.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",Zn),Qe.forEach(ze=>G.delete(ze.key));let tn=ac($t);if(tn)return await dr(H,tn.result,!0,{replace:Se}),{shortCircuited:!0};if(tn=ac(wn),tn)return B.add(tn.key),await dr(H,tn.result,!0,{replace:Se}),{shortCircuited:!0};let{loaderData:Cr,errors:Mn}=xv(L,J,$t,Ae,Qe,wn);Ce&&L.errors&&(Mn={...L.errors,...Mn});let Oi=Sr(),dn=Ar(ye),Tn=Oi||dn||Qe.length>0;return{matches:J,loaderData:Cr,errors:Mn,...Tn?{fetchers:new Map(L.fetchers)}:{}}}function bn(H){if(H&&!qn(H[1]))return{[H[0]]:H[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function mo(H){return H.forEach(Y=>{let J=L.fetchers.get(Y.key),le=gl(void 0,J?J.data:void 0);L.fetchers.set(Y.key,le)}),new Map(L.fetchers)}async function ba(H,Y,J,le){Yn(H);let ge=(le&&le.flushSync)===!0,Ee=c||f,Ie=Dd(L.location,L.matches,p,J,Y,le==null?void 0:le.relative),we=ta(Ee,Ie,p),Se=En(we,Ee,Ie);if(Se.active&&Se.matches&&(we=Se.matches),!we){He(H,Y,cr(404,{pathname:Ie}),{flushSync:ge});return}let{path:Ce,submission:Me,error:Ae}=_v(!0,Ie,le);if(Ae){He(H,Y,Ae,{flushSync:ge});return}let Le=_l(we,Ce),Xe=new yv(i.unstable_getContext?await i.unstable_getContext():void 0),ct=(le&&le.preventScrollReset)===!0;if(Me&&Hn(Me.formMethod)){await Si(H,Y,Ce,Le,we,Xe,Se.active,ge,ct,Me);return}re.set(H,{routeId:Y,path:Ce}),await Kr(H,Y,Ce,Le,we,Xe,Se.active,ge,ct,Me)}async function Si(H,Y,J,le,ge,Ee,Ie,we,Se,Ce){Ri(),re.delete(H);function Me(bt){if(!bt.route.action&&!bt.route.lazy){let Jn=cr(405,{method:Ce.formMethod,pathname:J,routeId:Y});return He(H,Y,Jn,{flushSync:we}),!0}return!1}if(!Ie&&Me(le))return;let Ae=L.fetchers.get(H);lt(H,P1(Ce,Ae),{flushSync:we});let Le=new AbortController,Xe=Fs(i.history,J,Le.signal,Ce);if(Ie){let bt=await Rr(ge,J,Xe.signal,H);if(bt.type==="aborted")return;if(bt.type==="error"){He(H,Y,bt.error,{flushSync:we});return}else if(bt.matches){if(ge=bt.matches,le=_l(ge,J),Me(le))return}else{He(H,Y,cr(404,{pathname:J}),{flushSync:we});return}}G.set(H,Le);let ct=se,st=Xs(o,u,Xe,ge,le,s,Ee),Qe=(await Qn(Xe,st,Ee,H))[le.route.id];if(Xe.signal.aborted){G.get(H)===Le&&G.delete(H);return}if(ce.has(H)){if(Xa(Qe)||qn(Qe)){lt(H,ea(void 0));return}}else{if(Xa(Qe))if(G.delete(H),ye>ct){lt(H,ea(void 0));return}else return B.add(H),lt(H,gl(Ce)),dr(Xe,Qe,!1,{fetcherSubmission:Ce,preventScrollReset:Se});if(qn(Qe)){He(H,Y,Qe.error);return}}let Zn=L.navigation.location||L.location,$t=Fs(i.history,Zn,Le.signal),wn=c||f,tn=L.navigation.state!=="idle"?ta(wn,L.navigation.location,p):L.matches;Ke(tn,"Didn't find any matches after fetcher action");let Cr=++se;Re.set(H,Cr);let Mn=gl(Ce,Qe.data);L.fetchers.set(H,Mn);let{dsMatches:Oi,revalidatingFetchers:dn}=bv($t,Ee,o,u,i.history,L,tn,Ce,Zn,s,!1,he,pe,ce,re,B,wn,p,[le.route.id,Qe]);dn.filter(bt=>bt.key!==H).forEach(bt=>{let Jn=bt.key,Jr=L.fetchers.get(Jn),nn=gl(void 0,Jr?Jr.data:void 0);L.fetchers.set(Jn,nn),Yn(Jn),bt.controller&&G.set(Jn,bt.controller)}),St({fetchers:new Map(L.fetchers)});let Tn=()=>dn.forEach(bt=>Yn(bt.key));Le.signal.addEventListener("abort",Tn);let{loaderResults:ze,fetcherResults:jt}=await Ai(Oi,dn,$t,Ee);if(Le.signal.aborted)return;Le.signal.removeEventListener("abort",Tn),Re.delete(H),G.delete(H),dn.forEach(bt=>G.delete(bt.key));let Vn=ac(ze);if(Vn)return dr($t,Vn.result,!1,{preventScrollReset:Se});if(Vn=ac(jt),Vn)return B.add(Vn.key),dr($t,Vn.result,!1,{preventScrollReset:Se});let{loaderData:Rn,errors:Dr}=xv(L,tn,ze,void 0,dn,jt);if(L.fetchers.has(H)){let bt=ea(Qe.data);L.fetchers.set(H,bt)}Ar(Cr),L.navigation.state==="loading"&&Cr>ye?(Ke(I,"Expected pending action"),x&&x.abort(),fn(L.navigation.location,{matches:tn,loaderData:Rn,errors:Dr,fetchers:new Map(L.fetchers)})):(St({errors:Dr,loaderData:Cv(L.loaderData,Rn,tn,Dr),fetchers:new Map(L.fetchers)}),he=!1)}async function Kr(H,Y,J,le,ge,Ee,Ie,we,Se,Ce){let Me=L.fetchers.get(H);lt(H,gl(Ce,Me?Me.data:void 0),{flushSync:we});let Ae=new AbortController,Le=Fs(i.history,J,Ae.signal);if(Ie){let Qe=await Rr(ge,J,Le.signal,H);if(Qe.type==="aborted")return;if(Qe.type==="error"){He(H,Y,Qe.error,{flushSync:we});return}else if(Qe.matches)ge=Qe.matches,le=_l(ge,J);else{He(H,Y,cr(404,{pathname:J}),{flushSync:we});return}}G.set(H,Ae);let Xe=se,ct=Xs(o,u,Le,ge,le,s,Ee),et=(await Qn(Le,ct,Ee,H))[le.route.id];if(G.get(H)===Ae&&G.delete(H),!Le.signal.aborted){if(ce.has(H)){lt(H,ea(void 0));return}if(Xa(et))if(ye>Xe){lt(H,ea(void 0));return}else{B.add(H),await dr(Le,et,!1,{preventScrollReset:Se});return}if(qn(et)){He(H,Y,et.error);return}lt(H,ea(et.data))}}async function dr(H,Y,J,{submission:le,fetcherSubmission:ge,preventScrollReset:Ee,replace:Ie}={}){Y.response.headers.has("X-Remix-Revalidate")&&(he=!0);let we=Y.response.headers.get("Location");Ke(we,"Expected a Location header on the redirect Response"),we=Av(we,new URL(H.url),p);let Se=xl(L.location,we,{_isRedirect:!0});if(r){let ct=!1;if(Y.response.headers.has("X-Remix-Reload-Document"))ct=!0;else if(rm.test(we)){const st=i.history.createURL(we);ct=st.origin!==e.location.origin||hr(st.pathname,p)==null}if(ct){Ie?e.location.replace(we):e.location.assign(we);return}}x=null;let Ce=Ie===!0||Y.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Me,formAction:Ae,formEncType:Le}=L.navigation;!le&&!ge&&Me&&Ae&&Le&&(le=Nv(L.navigation));let Xe=le||ge;if(b1.has(Y.response.status)&&Xe&&Hn(Xe.formMethod))await _n(Ce,Se,{submission:{...Xe,formAction:we},preventScrollReset:Ee||S,enableViewTransition:J?O:void 0});else{let ct=vd(Se,le);await _n(Ce,Se,{overrideNavigation:ct,fetcherSubmission:ge,preventScrollReset:Ee||S,enableViewTransition:J?O:void 0})}}async function Qn(H,Y,J,le){let ge,Ee={};try{ge=await D1(g,H,Y,le,J,!1)}catch(Ie){return Y.filter(we=>we.shouldLoad).forEach(we=>{Ee[we.route.id]={type:"error",error:Ie}}),Ee}for(let[Ie,we]of Object.entries(ge))if(L1(we)){let Se=we.result;Ee[Ie]={type:"redirect",response:N1(Se,H,Ie,Y,p)}}else Ee[Ie]=await I1(we);return Ee}async function Ai(H,Y,J,le){let ge=Qn(J,H,le,null),Ee=Promise.all(Y.map(async Se=>{if(Se.matches&&Se.match&&Se.request&&Se.controller){let Me=(await Qn(Se.request,Se.matches,le,Se.key))[Se.match.route.id];return{[Se.key]:Me}}else return Promise.resolve({[Se.key]:{type:"error",error:cr(404,{pathname:Se.path})}})})),Ie=await ge,we=(await Ee).reduce((Se,Ce)=>Object.assign(Se,Ce),{});return{loaderResults:Ie,fetcherResults:we}}function Ri(){he=!0,re.forEach((H,Y)=>{G.has(Y)&&pe.add(Y),Yn(Y)})}function lt(H,Y,J={}){L.fetchers.set(H,Y),St({fetchers:new Map(L.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function He(H,Y,J,le={}){let ge=Ka(L.matches,Y);Lt(H),St({errors:{[ge.route.id]:J},fetchers:new Map(L.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function hn(H){return me.set(H,(me.get(H)||0)+1),ce.has(H)&&ce.delete(H),L.fetchers.get(H)||E1}function Lt(H){let Y=L.fetchers.get(H);G.has(H)&&!(Y&&Y.state==="loading"&&Re.has(H))&&Yn(H),re.delete(H),Re.delete(H),B.delete(H),ce.delete(H),pe.delete(H),L.fetchers.delete(H)}function as(H){let Y=(me.get(H)||0)-1;Y<=0?(me.delete(H),ce.add(H)):me.set(H,Y),St({fetchers:new Map(L.fetchers)})}function Yn(H){let Y=G.get(H);Y&&(Y.abort(),G.delete(H))}function Tr(H){for(let Y of H){let J=hn(Y),le=ea(J.data);L.fetchers.set(Y,le)}}function Sr(){let H=[],Y=!1;for(let J of B){let le=L.fetchers.get(J);Ke(le,`Expected fetcher: ${J}`),le.state==="loading"&&(B.delete(J),H.push(J),Y=!0)}return Tr(H),Y}function Ar(H){let Y=[];for(let[J,le]of Re)if(le<H){let ge=L.fetchers.get(J);Ke(ge,`Expected fetcher: ${J}`),ge.state==="loading"&&(Yn(J),Re.delete(J),Y.push(J))}return Tr(Y),Y.length>0}function Nn(H,Y){let J=L.blockers.get(H)||pl;return _e.get(H)!==Y&&_e.set(H,Y),J}function Xr(H){L.blockers.delete(H),_e.delete(H)}function Kn(H,Y){let J=L.blockers.get(H)||pl;Ke(J.state==="unblocked"&&Y.state==="blocked"||J.state==="blocked"&&Y.state==="blocked"||J.state==="blocked"&&Y.state==="proceeding"||J.state==="blocked"&&Y.state==="unblocked"||J.state==="proceeding"&&Y.state==="unblocked",`Invalid blocker state transition: ${J.state} -> ${Y.state}`);let le=new Map(L.blockers);le.set(H,Y),St({blockers:le})}function xi({currentLocation:H,nextLocation:Y,historyAction:J}){if(_e.size===0)return;_e.size>1&&It(!1,"A router only supports one blocker at a time");let le=Array.from(_e.entries()),[ge,Ee]=le[le.length-1],Ie=L.blockers.get(ge);if(!(Ie&&Ie.state==="proceeding")&&Ee({currentLocation:H,nextLocation:Y,historyAction:J}))return ge}function Zr(H){let Y=cr(404,{pathname:H}),J=c||f,{matches:le,route:ge}=Ov(J);return{notFoundMatches:le,route:ge,error:Y}}function Ea(H,Y,J){if(b=H,_=Y,v=J||null,!A&&L.navigation===yd){A=!0;let le=Ci(L.location,L.matches);le!=null&&St({restoreScrollPosition:le})}return()=>{b=null,_=null,v=null}}function Xn(H,Y){return v&&v(H,Y.map(le=>J2(le,L.loaderData)))||H.key}function mr(H,Y){if(b&&_){let J=Xn(H,Y);b[J]=_()}}function Ci(H,Y){if(b){let J=Xn(H,Y),le=b[J];if(typeof le=="number")return le}return null}function En(H,Y,J){if(i.patchRoutesOnNavigation)if(H){if(Object.keys(H[0].params).length>0)return{active:!0,matches:dc(Y,J,p,!0)}}else return{active:!0,matches:dc(Y,J,p,!0)||[]};return{active:!1,matches:null}}async function Rr(H,Y,J,le){if(!i.patchRoutesOnNavigation)return{type:"success",matches:H};let ge=H;for(;;){let Ee=c==null,Ie=c||f,we=u;try{await i.patchRoutesOnNavigation({signal:J,path:Y,matches:ge,fetcherKey:le,patch:(Me,Ae)=>{J.aborted||Ev(Me,Ae,Ie,we,o)}})}catch(Me){return{type:"error",error:Me,partialMatches:ge}}finally{Ee&&!J.aborted&&(f=[...f])}if(J.aborted)return{type:"aborted"};let Se=ta(Ie,Y,p);if(Se)return{type:"success",matches:Se};let Ce=dc(Ie,Y,p,!0);if(!Ce||ge.length===Ce.length&&ge.every((Me,Ae)=>Me.route.id===Ce[Ae].route.id))return{type:"success",matches:null};ge=Ce}}function xr(H){u={},c=wc(H,o,void 0,u)}function Di(H,Y){let J=c==null;Ev(H,Y,c||f,u,o),J&&(f=[...f],St({}))}return j={get basename(){return p},get future(){return E},get state(){return L},get routes(){return f},get window(){return e},initialize:wt,subscribe:Gn,enableScrollRestoration:Ea,navigate:wr,fetch:ba,revalidate:Yr,createHref:H=>i.history.createHref(H),encodeLocation:H=>i.history.encodeLocation(H),getFetcher:hn,deleteFetcher:as,dispose:pt,getBlocker:Nn,deleteBlocker:Xr,patchRoutes:Di,_internalFetchControllers:G,_internalSetRoutes:xr},j}function S1(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function Dd(i,e,r,s,o,u){let f,c;if(o){f=[];for(let g of e)if(f.push(g),g.route.id===o){c=g;break}}else f=e,c=e[e.length-1];let p=Hc(s||".",qc(f),hr(i.pathname,r)||i.pathname,u==="path");if(s==null&&(p.search=i.search,p.hash=i.hash),(s==null||s===""||s===".")&&c){let g=im(p.search);if(c.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&g){let E=new URLSearchParams(p.search),d=E.getAll("index");E.delete("index"),d.filter(b=>b).forEach(b=>E.append("index",b));let y=E.toString();p.search=y?`?${y}`:""}}return r!=="/"&&(p.pathname=p.pathname==="/"?r:qr([r,p.pathname])),la(p)}function _v(i,e,r){if(!r||!S1(r))return{path:e};if(r.formMethod&&!j1(r.formMethod))return{path:e,error:cr(405,{method:r.formMethod})};let s=()=>({path:e,error:cr(400,{type:"invalid-body"})}),u=(r.formMethod||"get").toUpperCase(),f=s0(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Hn(u))return s();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,[b,v])=>`${y}${b}=${v}
`,""):String(r.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!Hn(u))return s();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return s()}}}Ke(typeof FormData=="function","FormData is not available in this environment");let c,p;if(r.formData)c=Nd(r.formData),p=r.formData;else if(r.body instanceof FormData)c=Nd(r.body),p=r.body;else if(r.body instanceof URLSearchParams)c=r.body,p=Rv(c);else if(r.body==null)c=new URLSearchParams,p=new FormData;else try{c=new URLSearchParams(r.body),p=Rv(c)}catch{return s()}let g={formMethod:u,formAction:f,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Hn(g.formMethod))return{path:e,submission:g};let E=Ti(e);return i&&E.search&&im(E.search)&&c.append("index",""),E.search=`?${c}`,{path:la(E),submission:g}}function bv(i,e,r,s,o,u,f,c,p,g,E,d,y,b,v,_,A,w,R){var $;let D=R?qn(R[1])?R[1].error:R[1].data:void 0,V=o.createURL(u.location),j=o.createURL(p),L;if(E&&u.errors){let U=Object.keys(u.errors)[0];L=f.findIndex(he=>he.route.id===U)}else if(R&&qn(R[1])){let U=R[0];L=f.findIndex(he=>he.route.id===U)-1}let I=R?R[1].statusCode:void 0,S=I&&I>=400,x={currentUrl:V,currentParams:(($=u.matches[0])==null?void 0:$.params)||{},nextUrl:j,nextParams:f[0].params,...c,actionResult:D,actionStatus:I},O=f.map((U,he)=>{let{route:pe}=U,G=null;if(L!=null&&he>L?G=!1:pe.lazy?G=!0:pe.loader==null?G=!1:E?G=Od(pe,u.loaderData,u.errors):A1(u.loaderData,u.matches[he],U)&&(G=!0),G!==null)return Id(r,s,i,U,g,e,G);let se=S?!1:d||V.pathname+V.search===j.pathname+j.search||V.search!==j.search||R1(u.matches[he],U),ye={...x,defaultShouldRevalidate:se},Re=Ac(U,ye);return Id(r,s,i,U,g,e,Re,ye)}),k=[];return v.forEach((U,he)=>{if(E||!f.some(re=>re.route.id===U.routeId)||b.has(he))return;let pe=ta(A,U.path,w);if(!pe){k.push({key:he,routeId:U.routeId,path:U.path,matches:null,match:null,request:null,controller:null});return}if(_.has(he))return;let G=u.fetchers.get(he),se=_l(pe,U.path),ye=new AbortController,Re=Fs(o,U.path,ye.signal),B=null;if(y.has(he))y.delete(he),B=Xs(r,s,Re,pe,se,g,e);else if(G&&G.state!=="idle"&&G.data===void 0)d&&(B=Xs(r,s,Re,pe,se,g,e));else{let re={...x,defaultShouldRevalidate:S?!1:d};Ac(se,re)&&(B=Xs(r,s,Re,pe,se,g,e,re))}B&&k.push({key:he,routeId:U.routeId,path:U.path,matches:B,match:se,request:Re,controller:ye})}),{dsMatches:O,revalidatingFetchers:k}}function Od(i,e,r){if(i.lazy)return!0;if(!i.loader)return!1;let s=e!=null&&e[i.id]!==void 0,o=r!=null&&r[i.id]!==void 0;return!s&&o?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!s&&!o}function A1(i,e,r){let s=!e||r.route.id!==e.route.id,o=!i.hasOwnProperty(r.route.id);return s||o}function R1(i,e){let r=i.route.path;return i.pathname!==e.pathname||r!=null&&r.endsWith("*")&&i.params["*"]!==e.params["*"]}function Ac(i,e){if(i.route.shouldRevalidate){let r=i.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function Ev(i,e,r,s,o){let u;if(i){let p=s[i];Ke(p,`No route found to patch children into: routeId = ${i}`),p.children||(p.children=[]),u=p.children}else u=r;let f=e.filter(p=>!u.some(g=>t0(p,g))),c=wc(f,o,[i||"_","patch",String((u==null?void 0:u.length)||"0")],s);u.push(...c)}function t0(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((r,s)=>{var o;return(o=e.children)==null?void 0:o.some(u=>t0(r,u))}):!1}var wv=new WeakMap,n0=({key:i,route:e,manifest:r,mapRouteProperties:s})=>{let o=r[e.id];if(Ke(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[i];if(!u)return;let f=wv.get(o);f||(f={},wv.set(o,f));let c=f[i];if(c)return c;let p=(async()=>{let g=Y2(i),d=o[i]!==void 0&&i!=="hasErrorBoundary";if(g)It(!g,"Route property "+i+" is not a supported lazy route property. This property will be ignored."),f[i]=Promise.resolve();else if(d)It(!1,`Route "${o.id}" has a static property "${i}" defined. The lazy property will be ignored.`);else{let y=await u();y!=null&&(Object.assign(o,{[i]:y}),Object.assign(o,s(o)))}typeof o.lazy=="object"&&(o.lazy[i]=void 0,Object.values(o.lazy).every(y=>y===void 0)&&(o.lazy=void 0))})();return f[i]=p,p},Tv=new WeakMap;function x1(i,e,r,s,o){let u=r[i.id];if(Ke(u,"No route found in manifest"),!i.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof i.lazy=="function"){let E=Tv.get(u);if(E)return{lazyRoutePromise:E,lazyHandlerPromise:E};let d=(async()=>{Ke(typeof i.lazy=="function","No lazy route function found");let y=await i.lazy(),b={};for(let v in y){let _=y[v];if(_===void 0)continue;let A=X2(v),R=u[v]!==void 0&&v!=="hasErrorBoundary";A?It(!A,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?It(!R,`Route "${u.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):b[v]=_}Object.assign(u,b),Object.assign(u,{...s(u),lazy:void 0})})();return Tv.set(u,d),d.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:d}}let f=Object.keys(i.lazy),c=[],p;for(let E of f){if(o&&o.includes(E))continue;let d=n0({key:E,route:i,manifest:r,mapRouteProperties:s});d&&(c.push(d),E===e&&(p=d))}let g=c.length>0?Promise.all(c).then(()=>{}):void 0;return g==null||g.catch(()=>{}),p==null||p.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function Sv(i){let e=i.matches.filter(o=>o.shouldLoad),r={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{r[e[u].route.id]=o}),r}async function C1(i){return i.matches.some(e=>e.route.unstable_middleware)?r0(i,!1,()=>Sv(i),(e,r)=>({[r]:{type:"error",result:e}})):Sv(i)}async function r0(i,e,r,s){let{matches:o,request:u,params:f,context:c}=i,p={handlerResult:void 0};try{let g=o.flatMap(d=>d.route.unstable_middleware?d.route.unstable_middleware.map(y=>[d.route.id,y]):[]),E=await i0({request:u,params:f,context:c},g,e,p,r);return e?E:p.handlerResult}catch(g){if(!p.middlewareError)throw g;let E=await s(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,E):E}}async function i0(i,e,r,s,o,u=0){let{request:f}=i;if(f.signal.aborted)throw f.signal.reason?f.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${f.method} ${f.url}`);let c=e[u];if(!c)return s.handlerResult=await o(),s.handlerResult;let[p,g]=c,E=!1,d,y=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");E=!0,await i0(i,e,r,s,o,u+1)};try{let b=await g({request:i.request,params:i.params,context:i.context},y);return E?b===void 0?d:b:y()}catch(b){throw s.middlewareError?s.middlewareError.error!==b&&(s.middlewareError={routeId:p,error:b}):s.middlewareError={routeId:p,error:b},b}}function a0(i,e,r,s,o){let u=n0({key:"unstable_middleware",route:s.route,manifest:e,mapRouteProperties:i}),f=x1(s.route,Hn(r.method)?"action":"loader",e,i,o);return{middleware:u,route:f.lazyRoutePromise,handler:f.lazyHandlerPromise}}function Id(i,e,r,s,o,u,f,c=null){let p=!1,g=a0(i,e,r,s,o);return{...s,_lazyPromises:g,shouldLoad:f,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(E){return p=!0,c?typeof E=="boolean"?Ac(s,{...c,defaultShouldRevalidate:E}):Ac(s,c):f},resolve(E){return p||f||E&&r.method==="GET"&&(s.route.lazy||s.route.loader)?O1({request:r,match:s,lazyHandlerPromise:g==null?void 0:g.handler,lazyRoutePromise:g==null?void 0:g.route,handlerOverride:E,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function Xs(i,e,r,s,o,u,f,c=null){return s.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:a0(i,e,r,p,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Id(i,e,r,p,u,f,!0,c))}async function D1(i,e,r,s,o,u){r.some(g=>{var E;return(E=g._lazyPromises)==null?void 0:E.middleware})&&await Promise.all(r.map(g=>{var E;return(E=g._lazyPromises)==null?void 0:E.middleware}));let f={request:e,params:r[0].params,context:o,matches:r},p=await i({...f,fetcherKey:s,unstable_runClientMiddleware:g=>{let E=f;return r0(E,!1,()=>g({...E,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(d,y)=>({[y]:{type:"error",result:d}}))}});try{await Promise.all(r.flatMap(g=>{var E,d;return[(E=g._lazyPromises)==null?void 0:E.handler,(d=g._lazyPromises)==null?void 0:d.route]}))}catch{}return p}async function O1({request:i,match:e,lazyHandlerPromise:r,lazyRoutePromise:s,handlerOverride:o,scopedContext:u}){let f,c,p=Hn(i.method),g=p?"action":"loader",E=d=>{let y,b=new Promise((A,w)=>y=w);c=()=>y(),i.signal.addEventListener("abort",c);let v=A=>typeof d!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):d({request:i,params:e.params,context:u},...A!==void 0?[A]:[]),_=(async()=>{try{return{type:"data",result:await(o?o(w=>v(w)):v())}}catch(A){return{type:"error",result:A}}})();return Promise.race([_,b])};try{let d=p?e.route.action:e.route.loader;if(r||s)if(d){let y,[b]=await Promise.all([E(d).catch(v=>{y=v}),r,s]);if(y!==void 0)throw y;f=b}else{await r;let y=p?e.route.action:e.route.loader;if(y)[f]=await Promise.all([E(y),s]);else if(g==="action"){let b=new URL(i.url),v=b.pathname+b.search;throw cr(405,{method:i.method,pathname:v,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(d)f=await E(d);else{let y=new URL(i.url),b=y.pathname+y.search;throw cr(404,{pathname:b})}}catch(d){return{type:"error",result:d}}finally{c&&i.signal.removeEventListener("abort",c)}return f}async function I1(i){var s,o,u,f,c,p;let{result:e,type:r}=i;if(o0(e)){let g;try{let E=e.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(E){return{type:"error",error:E}}return r==="error"?{type:"error",error:new Sc(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:"data",data:g,statusCode:e.status,headers:e.headers}}return r==="error"?Iv(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Sc(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:Cl(e)?e.status:void 0,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Cl(e)?e.status:void 0}:Iv(e)?{type:"data",data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function N1(i,e,r,s,o){let u=i.headers.get("Location");if(Ke(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!rm.test(u)){let f=s.slice(0,s.findIndex(c=>c.route.id===r)+1);u=Dd(new URL(e.url),f,o,u),i.headers.set("Location",u)}return i}function Av(i,e,r){if(rm.test(i)){let s=i,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),u=hr(o.pathname,r)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return i}function Fs(i,e,r,s){let o=i.createURL(s0(e)).toString(),u={signal:r};if(s&&Hn(s.formMethod)){let{formMethod:f,formEncType:c}=s;u.method=f.toUpperCase(),c==="application/json"?(u.headers=new Headers({"Content-Type":c}),u.body=JSON.stringify(s.json)):c==="text/plain"?u.body=s.text:c==="application/x-www-form-urlencoded"&&s.formData?u.body=Nd(s.formData):u.body=s.formData}return new Request(o,u)}function Nd(i){let e=new URLSearchParams;for(let[r,s]of i.entries())e.append(r,typeof s=="string"?s:s.name);return e}function Rv(i){let e=new FormData;for(let[r,s]of i.entries())e.append(r,s);return e}function M1(i,e,r,s=!1,o=!1){let u={},f=null,c,p=!1,g={},E=r&&qn(r[1])?r[1].error:void 0;return i.forEach(d=>{if(!(d.route.id in e))return;let y=d.route.id,b=e[y];if(Ke(!Xa(b),"Cannot handle redirect results in processLoaderData"),qn(b)){let v=b.error;if(E!==void 0&&(v=E,E=void 0),f=f||{},o)f[y]=v;else{let _=Ka(i,y);f[_.route.id]==null&&(f[_.route.id]=v)}s||(u[y]=e0),p||(p=!0,c=Cl(b.error)?b.error.status:500),b.headers&&(g[y]=b.headers)}else u[y]=b.data,b.statusCode&&b.statusCode!==200&&!p&&(c=b.statusCode),b.headers&&(g[y]=b.headers)}),E!==void 0&&r&&(f={[r[0]]:E},r[2]&&(u[r[2]]=void 0)),{loaderData:u,errors:f,statusCode:c||200,loaderHeaders:g}}function xv(i,e,r,s,o,u){let{loaderData:f,errors:c}=M1(e,r,s);return o.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:E,controller:d}=p,y=u[g];if(Ke(y,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(qn(y)){let b=Ka(i.matches,E==null?void 0:E.route.id);c&&c[b.route.id]||(c={...c,[b.route.id]:y.error}),i.fetchers.delete(g)}else if(Xa(y))Ke(!1,"Unhandled fetcher revalidation redirect");else{let b=ea(y.data);i.fetchers.set(g,b)}}),{loaderData:f,errors:c}}function Cv(i,e,r,s){let o=Object.entries(e).filter(([,u])=>u!==e0).reduce((u,[f,c])=>(u[f]=c,u),{});for(let u of r){let f=u.route.id;if(!e.hasOwnProperty(f)&&i.hasOwnProperty(f)&&u.route.loader&&(o[f]=i[f]),s&&s.hasOwnProperty(f))break}return o}function Dv(i){return i?qn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function Ka(i,e){return(e?i.slice(0,i.findIndex(s=>s.route.id===e)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function Ov(i){let e=i.length===1?i[0]:i.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function cr(i,{pathname:e,routeId:r,method:s,type:o,message:u}={}){let f="Unknown Server Error",c="Unknown @remix-run/router error";return i===400?(f="Bad Request",s&&e&&r?c=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:o==="invalid-body"&&(c="Unable to encode submission body")):i===403?(f="Forbidden",c=`Route "${r}" does not match URL "${e}"`):i===404?(f="Not Found",c=`No route matches URL "${e}"`):i===405&&(f="Method Not Allowed",s&&e&&r?c=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:s&&(c=`Invalid request method "${s.toUpperCase()}"`)),new Sc(i||500,f,new Error(c),!0)}function ac(i){let e=Object.entries(i);for(let r=e.length-1;r>=0;r--){let[s,o]=e[r];if(Xa(o))return{key:s,result:o}}}function s0(i){let e=typeof i=="string"?Ti(i):i;return la({...e,hash:""})}function V1(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function L1(i){return o0(i.result)&&_1.has(i.result.status)}function qn(i){return i.type==="error"}function Xa(i){return(i&&i.type)==="redirect"}function Iv(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function o0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function j1(i){return v1.has(i.toUpperCase())}function Hn(i){return g1.has(i.toUpperCase())}function im(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function _l(i,e){let r=typeof e=="string"?Ti(e).search:e.search;if(i[i.length-1].route.index&&im(r||""))return i[i.length-1];let s=Z_(i);return s[s.length-1]}function Nv(i){let{formMethod:e,formAction:r,formEncType:s,text:o,formData:u,json:f}=i;if(!(!e||!r||!s)){if(o!=null)return{formMethod:e,formAction:r,formEncType:s,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:r,formEncType:s,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:r,formEncType:s,formData:void 0,json:f,text:void 0}}}function vd(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function k1(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function gl(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function P1(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function ea(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function U1(i,e){try{let r=i.sessionStorage.getItem(W_);if(r){let s=JSON.parse(r);for(let[o,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function z1(i,e){if(e.size>0){let r={};for(let[s,o]of e)r[s]=[...o];try{i.sessionStorage.setItem(W_,JSON.stringify(r))}catch(s){It(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function $1(){let i,e,r=new Promise((s,o)=>{i=async u=>{s(u);try{await r}catch{}},e=async u=>{o(u);try{await r}catch{}}});return{promise:r,resolve:i,reject:e}}var ts=te.createContext(null);ts.displayName="DataRouter";var kl=te.createContext(null);kl.displayName="DataRouterState";var am=te.createContext({isTransitioning:!1});am.displayName="ViewTransition";var l0=te.createContext(new Map);l0.displayName="Fetchers";var B1=te.createContext(null);B1.displayName="Await";var br=te.createContext(null);br.displayName="Navigation";var Fc=te.createContext(null);Fc.displayName="Location";var Er=te.createContext({outlet:null,matches:[],isDataRoute:!1});Er.displayName="Route";var sm=te.createContext(null);sm.displayName="RouteError";function q1(i,{relative:e}={}){Ke(oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=te.useContext(br),{hash:o,pathname:u,search:f}=Pl(i,{relative:e}),c=u;return r!=="/"&&(c=u==="/"?r:qr([r,u])),s.createHref({pathname:c,search:f,hash:o})}function oo(){return te.useContext(Fc)!=null}function ga(){return Ke(oo(),"useLocation() may be used only in the context of a <Router> component."),te.useContext(Fc).location}var u0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function c0(i){te.useContext(br).static||te.useLayoutEffect(i)}function f0(){let{isDataRoute:i}=te.useContext(Er);return i?iw():H1()}function H1(){Ke(oo(),"useNavigate() may be used only in the context of a <Router> component.");let i=te.useContext(ts),{basename:e,navigator:r}=te.useContext(br),{matches:s}=te.useContext(Er),{pathname:o}=ga(),u=JSON.stringify(qc(s)),f=te.useRef(!1);return c0(()=>{f.current=!0}),te.useCallback((p,g={})=>{if(It(f.current,u0),!f.current)return;if(typeof p=="number"){r.go(p);return}let E=Hc(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:qr([e,E.pathname])),(g.replace?r.replace:r.push)(E,g.state,g)},[e,r,u,o,i])}var F1=te.createContext(null);function G1(i){let e=te.useContext(Er).outlet;return e&&te.createElement(F1.Provider,{value:i},e)}function Pl(i,{relative:e}={}){let{matches:r}=te.useContext(Er),{pathname:s}=ga(),o=JSON.stringify(qc(r));return te.useMemo(()=>Hc(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Q1(i,e,r,s){Ke(oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=te.useContext(br),{matches:f}=te.useContext(Er),c=f[f.length-1],p=c?c.params:{},g=c?c.pathname:"/",E=c?c.pathnameBase:"/",d=c&&c.route;{let R=d&&d.path||"";h0(g,!d||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let y=ga(),b;b=y;let v=b.pathname||"/",_=v;if(E!=="/"){let R=E.replace(/^\//,"").split("/");_="/"+v.replace(/^\//,"").split("/").slice(R.length).join("/")}let A=!u&&r&&r.matches&&r.matches.length>0?r.matches:ta(i,{pathname:_});return It(d||A!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),It(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),J1(A&&A.map(R=>Object.assign({},R,{params:Object.assign({},p,R.params),pathname:qr([E,o.encodeLocation?o.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?E:qr([E,o.encodeLocation?o.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),f,r,s)}function Y1(){let i=rw(),e=Cl(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=te.createElement(te.Fragment,null,te.createElement("p",null," Hey developer "),te.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",te.createElement("code",{style:u},"ErrorBoundary")," or"," ",te.createElement("code",{style:u},"errorElement")," prop on your route.")),te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},e),r?te.createElement("pre",{style:o},r):null,f)}var K1=te.createElement(Y1,null),X1=class extends te.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?te.createElement(Er.Provider,{value:this.props.routeContext},te.createElement(sm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Z1({routeContext:i,match:e,children:r}){let s=te.useContext(ts);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),te.createElement(Er.Provider,{value:i},r)}function J1(i,e=[],r=null,s=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let o=i,u=r==null?void 0:r.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Ke(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,c=-1;if(r)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(c=p),g.route.id){let{loaderData:E,errors:d}=r,y=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!d||d[g.route.id]===void 0);if(g.route.lazy||y){f=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let d,y=!1,b=null,v=null;r&&(d=u&&g.route.id?u[g.route.id]:void 0,b=g.route.errorElement||K1,f&&(c<0&&E===0?(h0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,v=null):c===E&&(y=!0,v=g.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,E+1)),A=()=>{let w;return d?w=b:y?w=v:g.route.Component?w=te.createElement(g.route.Component,null):g.route.element?w=g.route.element:w=p,te.createElement(Z1,{match:g,routeContext:{outlet:p,matches:_,isDataRoute:r!=null},children:w})};return r&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?te.createElement(X1,{location:r.location,revalidation:r.revalidation,component:b,error:d,children:A(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):A()},null)}function om(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W1(i){let e=te.useContext(ts);return Ke(e,om(i)),e}function ew(i){let e=te.useContext(kl);return Ke(e,om(i)),e}function tw(i){let e=te.useContext(Er);return Ke(e,om(i)),e}function lm(i){let e=tw(i),r=e.matches[e.matches.length-1];return Ke(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function nw(){return lm("useRouteId")}function rw(){var s;let i=te.useContext(sm),e=ew("useRouteError"),r=lm("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[r]}function iw(){let{router:i}=W1("useNavigate"),e=lm("useNavigate"),r=te.useRef(!1);return c0(()=>{r.current=!0}),te.useCallback(async(o,u={})=>{It(r.current,u0),r.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Mv={};function h0(i,e,r){!e&&!Mv[i]&&(Mv[i]=!0,It(!1,r))}var Vv={};function Lv(i,e){!i&&!Vv[e]&&(Vv[e]=!0,console.warn(e))}function aw(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&It(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:te.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&It(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:te.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&It(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:te.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var sw=["HydrateFallback","hydrateFallbackElement"],ow=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",r(s))}})}};function lw({router:i,flushSync:e}){let[r,s]=te.useState(i.state),[o,u]=te.useState(),[f,c]=te.useState({isTransitioning:!1}),[p,g]=te.useState(),[E,d]=te.useState(),[y,b]=te.useState(),v=te.useRef(new Map),_=te.useCallback((D,{deletedFetchers:V,flushSync:j,viewTransitionOpts:L})=>{D.fetchers.forEach((S,x)=>{S.data!==void 0&&v.current.set(x,S.data)}),V.forEach(S=>v.current.delete(S)),Lv(j===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(Lv(L==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!I){e&&j?e(()=>s(D)):te.startTransition(()=>s(D));return}if(e&&j){e(()=>{E&&(p&&p.resolve(),E.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let S=i.window.document.startViewTransition(()=>{e(()=>s(D))});S.finished.finally(()=>{e(()=>{g(void 0),d(void 0),u(void 0),c({isTransitioning:!1})})}),e(()=>d(S));return}E?(p&&p.resolve(),E.skipTransition(),b({state:D,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(u(D),c({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[i.window,e,E,p]);te.useLayoutEffect(()=>i.subscribe(_),[i,_]),te.useEffect(()=>{f.isTransitioning&&!f.flushSync&&g(new ow)},[f]),te.useEffect(()=>{if(p&&o&&i.window){let D=o,V=p.promise,j=i.window.document.startViewTransition(async()=>{te.startTransition(()=>s(D)),await V});j.finished.finally(()=>{g(void 0),d(void 0),u(void 0),c({isTransitioning:!1})}),d(j)}},[o,p,i.window]),te.useEffect(()=>{p&&o&&r.location.key===o.location.key&&p.resolve()},[p,E,r.location,o]),te.useEffect(()=>{!f.isTransitioning&&y&&(u(y.state),c({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),b(void 0))},[f.isTransitioning,y]);let A=te.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:D=>i.navigate(D),push:(D,V,j)=>i.navigate(D,{state:V,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(D,V,j)=>i.navigate(D,{replace:!0,state:V,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[i]),w=i.basename||"/",R=te.useMemo(()=>({router:i,navigator:A,static:!1,basename:w}),[i,A,w]);return te.createElement(te.Fragment,null,te.createElement(ts.Provider,{value:R},te.createElement(kl.Provider,{value:r},te.createElement(l0.Provider,{value:v.current},te.createElement(am.Provider,{value:f},te.createElement(dw,{basename:w,location:r.location,navigationType:r.historyAction,navigator:A},te.createElement(uw,{routes:i.routes,future:i.future,state:r})))))),null)}var uw=te.memo(cw);function cw({routes:i,future:e,state:r}){return Q1(i,void 0,r,e)}function fw({to:i,replace:e,state:r,relative:s}){Ke(oo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=te.useContext(br);It(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=te.useContext(Er),{pathname:f}=ga(),c=f0(),p=Hc(i,qc(u),f,s==="path"),g=JSON.stringify(p);return te.useEffect(()=>{c(JSON.parse(g),{replace:e,state:r,relative:s})},[c,g,s,e,r]),null}function hw(i){return G1(i.context)}function dw({basename:i="/",children:e=null,location:r,navigationType:s="POP",navigator:o,static:u=!1}){Ke(!oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),c=te.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof r=="string"&&(r=Ti(r));let{pathname:p="/",search:g="",hash:E="",state:d=null,key:y="default"}=r,b=te.useMemo(()=>{let v=hr(p,f);return v==null?null:{location:{pathname:v,search:g,hash:E,state:d,key:y},navigationType:s}},[f,p,g,E,d,y,s]);return It(b!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:te.createElement(br.Provider,{value:c},te.createElement(Fc.Provider,{children:e,value:b}))}var mc="get",pc="application/x-www-form-urlencoded";function Gc(i){return i!=null&&typeof i.tagName=="string"}function mw(i){return Gc(i)&&i.tagName.toLowerCase()==="button"}function pw(i){return Gc(i)&&i.tagName.toLowerCase()==="form"}function gw(i){return Gc(i)&&i.tagName.toLowerCase()==="input"}function yw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function vw(i,e){return i.button===0&&(!e||e==="_self")&&!yw(i)}var sc=null;function _w(){if(sc===null)try{new FormData(document.createElement("form"),0),sc=!1}catch{sc=!0}return sc}var bw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _d(i){return i!=null&&!bw.has(i)?(It(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pc}"`),null):i}function Ew(i,e){let r,s,o,u,f;if(pw(i)){let c=i.getAttribute("action");s=c?hr(c,e):null,r=i.getAttribute("method")||mc,o=_d(i.getAttribute("enctype"))||pc,u=new FormData(i)}else if(mw(i)||gw(i)&&(i.type==="submit"||i.type==="image")){let c=i.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||c.getAttribute("action");if(s=p?hr(p,e):null,r=i.getAttribute("formmethod")||c.getAttribute("method")||mc,o=_d(i.getAttribute("formenctype"))||_d(c.getAttribute("enctype"))||pc,u=new FormData(c,i),!_w()){let{name:g,type:E,value:d}=i;if(E==="image"){let y=g?`${g}.`:"";u.append(`${y}x`,"0"),u.append(`${y}y`,"0")}else g&&u.append(g,d)}}else{if(Gc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=mc,s=null,o=pc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:u,body:f}}function um(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function ww(i,e){if(i.id in e)return e[i.id];try{let r=await import(i.module);return e[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Tw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Sw(i,e,r){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await ww(u,r);return f.links?f.links():[]}return[]}));return Cw(s.flat(1).filter(Tw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function jv(i,e,r,s,o,u){let f=(p,g)=>r[g]?p.route.id!==r[g].route.id:!0,c=(p,g)=>{var E;return r[g].pathname!==p.pathname||((E=r[g].route.path)==null?void 0:E.endsWith("*"))&&r[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||c(p,g)):u==="data"?e.filter((p,g)=>{var d;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||c(p,g))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Aw(i,e,{includeHydrateFallback:r}={}){return Rw(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Rw(i){return[...new Set(i)]}function xw(i){let e={},r=Object.keys(i).sort();for(let s of r)e[s]=i[s];return e}function Cw(i,e){let r=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(xw(o));return r.has(u)||(r.add(u),s.push({key:u,link:o})),s},[])}var Dw=new Set([100,101,204,205]);function Ow(i,e){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname="_root.data":e&&hr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function d0(){let i=te.useContext(ts);return um(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Iw(){let i=te.useContext(kl);return um(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var cm=te.createContext(void 0);cm.displayName="FrameworkContext";function m0(){let i=te.useContext(cm);return um(i,"You must render this element inside a <HydratedRouter> element"),i}function Nw(i,e){let r=te.useContext(cm),[s,o]=te.useState(!1),[u,f]=te.useState(!1),{onFocus:c,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:d}=e,y=te.useRef(null);te.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let _=w=>{w.forEach(R=>{f(R.isIntersecting)})},A=new IntersectionObserver(_,{threshold:.5});return y.current&&A.observe(y.current),()=>{A.disconnect()}}},[i]),te.useEffect(()=>{if(s){let _=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(_)}}},[s]);let b=()=>{o(!0)},v=()=>{o(!1),f(!1)};return r?i!=="intent"?[u,y,{}]:[u,y,{onFocus:yl(c,b),onBlur:yl(p,v),onMouseEnter:yl(g,b),onMouseLeave:yl(E,v),onTouchStart:yl(d,b)}]:[!1,y,{}]}function yl(i,e){return r=>{i&&i(r),r.defaultPrevented||e(r)}}function Mw({page:i,...e}){let{router:r}=d0(),s=te.useMemo(()=>ta(r.routes,i,r.basename),[r.routes,i,r.basename]);return s?te.createElement(Lw,{page:i,matches:s,...e}):null}function Vw(i){let{manifest:e,routeModules:r}=m0(),[s,o]=te.useState([]);return te.useEffect(()=>{let u=!1;return Sw(i,e,r).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,r]),s}function Lw({page:i,matches:e,...r}){let s=ga(),{manifest:o,routeModules:u}=m0(),{basename:f}=d0(),{loaderData:c,matches:p}=Iw(),g=te.useMemo(()=>jv(i,e,p,o,s,"data"),[i,e,p,o,s]),E=te.useMemo(()=>jv(i,e,p,o,s,"assets"),[i,e,p,o,s]),d=te.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let v=new Set,_=!1;if(e.forEach(w=>{var D;let R=o.routes[w.route.id];!R||!R.hasLoader||(!g.some(V=>V.route.id===w.route.id)&&w.route.id in c&&((D=u[w.route.id])!=null&&D.shouldRevalidate)||R.hasClientLoader?_=!0:v.add(w.route.id))}),v.size===0)return[];let A=Ow(i,f);return _&&v.size>0&&A.searchParams.set("_routes",e.filter(w=>v.has(w.route.id)).map(w=>w.route.id).join(",")),[A.pathname+A.search]},[f,c,s,o,g,e,i,u]),y=te.useMemo(()=>Aw(E,o),[E,o]),b=Vw(E);return te.createElement(te.Fragment,null,d.map(v=>te.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),y.map(v=>te.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),b.map(({key:v,link:_})=>te.createElement("link",{key:v,..._})))}function jw(...i){return e=>{i.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var p0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{p0&&(window.__reactRouterVersion="7.5.3")}catch{}function kw(i,e){return T1({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:H2({window:e==null?void 0:e.window}),hydrationData:Pw(),routes:i,mapRouteProperties:aw,hydrationRouteProperties:sw,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Pw(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:Uw(i.errors)}),i}function Uw(i){if(!i)return null;let e=Object.entries(i),r={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")r[s]=new Sc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",r[s]=f}catch{}}if(r[s]==null){let u=new Error(o.message);u.stack="",r[s]=u}}else r[s]=o;return r}var g0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ws=te.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:c,target:p,to:g,preventScrollReset:E,viewTransition:d,...y},b){let{basename:v}=te.useContext(br),_=typeof g=="string"&&g0.test(g),A,w=!1;if(typeof g=="string"&&_&&(A=g,p0))try{let x=new URL(window.location.href),O=g.startsWith("//")?new URL(x.protocol+g):new URL(g),k=hr(O.pathname,v);O.origin===x.origin&&k!=null?g=k+O.search+O.hash:w=!0}catch{It(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=q1(g,{relative:o}),[D,V,j]=Nw(s,y),L=qw(g,{replace:f,state:c,target:p,preventScrollReset:E,relative:o,viewTransition:d});function I(x){e&&e(x),x.defaultPrevented||L(x)}let S=te.createElement("a",{...y,...j,href:A||R,onClick:w||u?e:I,ref:jw(b,V),target:p,"data-discover":!_&&r==="render"?"true":void 0});return D&&!_?te.createElement(te.Fragment,null,S,te.createElement(Mw,{page:R})):S});Ws.displayName="Link";var zw=te.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:c,children:p,...g},E){let d=Pl(f,{relative:g.relative}),y=ga(),b=te.useContext(kl),{navigator:v,basename:_}=te.useContext(br),A=b!=null&&Yw(d)&&c===!0,w=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,R=y.pathname,D=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(R=R.toLowerCase(),D=D?D.toLowerCase():null,w=w.toLowerCase()),D&&_&&(D=hr(D,_)||D);const V=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let j=R===w||!o&&R.startsWith(w)&&R.charAt(V)==="/",L=D!=null&&(D===w||!o&&D.startsWith(w)&&D.charAt(w.length)==="/"),I={isActive:j,isPending:L,isTransitioning:A},S=j?e:void 0,x;typeof s=="function"?x=s(I):x=[s,j?"active":null,L?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(I):u;return te.createElement(Ws,{...g,"aria-current":S,className:x,ref:E,style:O,to:f,viewTransition:c},typeof p=="function"?p(I):p)});zw.displayName="NavLink";var $w=te.forwardRef(({discover:i="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:o,state:u,method:f=mc,action:c,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:d,...y},b)=>{let v=Gw(),_=Qw(c,{relative:g}),A=f.toLowerCase()==="get"?"get":"post",w=typeof c=="string"&&g0.test(c),R=D=>{if(p&&p(D),D.defaultPrevented)return;D.preventDefault();let V=D.nativeEvent.submitter,j=(V==null?void 0:V.getAttribute("formmethod"))||f;v(V||D.currentTarget,{fetcherKey:e,method:j,navigate:r,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:d})};return te.createElement("form",{ref:b,method:A,action:_,onSubmit:s?p:R,...y,"data-discover":!w&&i==="render"?"true":void 0})});$w.displayName="Form";function Bw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y0(i){let e=te.useContext(ts);return Ke(e,Bw(i)),e}function qw(i,{target:e,replace:r,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let c=f0(),p=ga(),g=Pl(i,{relative:u});return te.useCallback(E=>{if(vw(E,e)){E.preventDefault();let d=r!==void 0?r:la(p)===la(g);c(i,{replace:d,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,c,g,r,s,e,i,o,u,f])}var Hw=0,Fw=()=>`__${String(++Hw)}__`;function Gw(){let{router:i}=y0("useSubmit"),{basename:e}=te.useContext(br),r=nw();return te.useCallback(async(s,o={})=>{let{action:u,method:f,encType:c,formData:p,body:g}=Ew(s,e);if(o.navigate===!1){let E=o.fetcherKey||Fw();await i.fetch(E,r,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||c,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,r])}function Qw(i,{relative:e}={}){let{basename:r}=te.useContext(br),s=te.useContext(Er);Ke(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Pl(i||".",{relative:e})},f=ga();if(i==null){u.search=f.search;let c=new URLSearchParams(u.search),p=c.getAll("index");if(p.some(E=>E==="")){c.delete("index"),p.filter(d=>d).forEach(d=>c.append("index",d));let E=c.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:qr([r,u.pathname])),la(u)}function Yw(i,e={}){let r=te.useContext(am);Ke(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=y0("useViewTransitionState"),o=Pl(i,{relative:e.relative});if(!r.isTransitioning)return!1;let u=hr(r.currentLocation.pathname,s)||r.currentLocation.pathname,f=hr(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Tc(o.pathname,f)!=null||Tc(o.pathname,u)!=null}new TextEncoder;[...Dw];const Kw="/riffrack/assets/logo-white-Dt16JD9r.svg",Xw="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.7713%205.72691C13.7713%205.97254%2013.7713%206.77312%2013.7713%207.91049H17.6818L17.2579%2011.3964H13.7713C13.7713%2016.7724%2013.7713%2023.9765%2013.7713%2023.9765H9.14357C9.14357%2023.9765%209.14357%2016.8678%209.14357%2011.3964H6.73218V7.91049H9.14357C9.14357%206.52805%209.14357%205.54504%209.14357%205.27134C9.14357%203.96727%209.04532%203.34852%209.59943%202.33799C10.1538%201.32751%2011.7176%20-0.00814899%2014.4222%200.0240073C17.1275%200.0573354%2018.2678%200.317585%2018.2678%200.317585L17.6818%204.03276C17.6818%204.03276%2015.9544%203.57662%2015.1064%203.73918C14.2596%203.90179%2013.7713%204.42341%2013.7713%205.72691Z'%20fill='white'/%3e%3c/svg%3e",Zw="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_2_64)'%3e%3cpath%20d='M14.7343%2010.1625L23.4766%200H21.4048L13.814%208.82375L7.751%200H0.758003L9.92638%2013.3433L0.758003%2024H2.82988L10.8463%2014.6818L17.249%2024H24.242L14.7337%2010.1625H14.7343ZM11.8966%2013.4606L10.9676%2012.132L3.57632%201.55962H6.75857L12.7231%2010.092L13.652%2011.4206L21.4057%2022.5112H18.2238L11.8966%2013.4612V13.4606Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_2_64'%3e%3crect%20width='24'%20height='24'%20fill='white'%20transform='translate(0.5)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Jw="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.3254%205.037C17.3364%203.88716%2016.8182%202.40156%2016.8595%200.889085L13.1638%200.799805C13.1638%200.799805%2013.1638%200.957485%2013.1638%201.17012V15.9904C13.2154%2020.679%205.80751%2020.5652%206.39359%2015.3827C6.75191%2013.322%208.96615%2012.0539%2010.9337%2012.7708V8.99988C6.65015%208.25396%202.59079%2011.6634%202.63351%2016.0069C3.00791%2025.4269%2016.519%2025.4281%2016.8938%2016.0069C16.7995%2015.6697%2016.8523%209.39229%2016.8389%208.86285C18.5194%209.90853%2020.4746%2010.4312%2022.4549%2010.3643V6.4698C20.6242%206.4698%2019.2271%205.98308%2018.3254%205.037Z'%20fill='white'/%3e%3c/svg%3e",Ww="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.5%2022C10.3558%2022%208.81273%2021.9989%207.6097%2021.8823C6.42045%2021.767%205.6597%2021.5455%205.05258%2021.1639C4.35868%2020.728%203.77192%2020.1413%203.33591%2019.4474C2.95455%2018.8403%202.73288%2018.0795%202.61773%2016.8903C2.50106%2015.6873%202.5%2014.1442%202.5%2012C2.5%209.85576%202.50106%208.31273%202.61773%207.1097C2.73288%205.92045%202.95455%205.1597%203.33591%204.55258C3.7719%203.85866%204.35866%203.2719%205.05258%202.83591C5.6597%202.45455%206.42045%202.23288%207.6097%202.11773C8.81258%202.00106%2010.3556%202%2012.5%202C14.6442%202%2016.1873%202.00106%2017.3903%202.11773C18.5795%202.23288%2019.3403%202.45455%2019.9474%202.83591C20.6413%203.27192%2021.228%203.85868%2021.6639%204.55258C22.0455%205.1597%2022.267%205.92045%2022.3823%207.1097C22.4989%208.31273%2022.5%209.85576%2022.5%2012C22.5%2014.1442%2022.4989%2015.6873%2022.3823%2016.8903C22.267%2018.0795%2022.0455%2018.8403%2021.6639%2019.4474C21.228%2020.1413%2020.6413%2020.728%2019.9474%2021.1639C19.3403%2021.5455%2018.5795%2021.767%2017.3903%2021.8823C16.1873%2021.9989%2014.6442%2022%2012.5%2022Z'%20fill='white'%20stroke='white'%20stroke-width='2'/%3e%3cpath%20d='M12.5%2017C14.7091%2017%2016.5%2015.2091%2016.5%2013C16.5%2010.7909%2014.7091%209%2012.5%209C10.2909%209%208.5%2010.7909%208.5%2013C8.5%2015.2091%2010.2909%2017%2012.5%2017Z'%20fill='white'%20stroke='black'%20stroke-width='2'/%3e%3cpath%20d='M17.375%208.25C17.9963%208.25%2018.5%207.74632%2018.5%207.125C18.5%206.50368%2017.9963%206%2017.375%206C16.7537%206%2016.25%206.50368%2016.25%207.125C16.25%207.74632%2016.7537%208.25%2017.375%208.25Z'%20fill='black'/%3e%3c/svg%3e",eT=()=>K.jsxs("footer",{children:[K.jsx("img",{className:"footer-logo",src:Kw,alt:"Riff Raff Logo"}),K.jsx("p",{children:"Your one stop shop for all your musical needs"}),K.jsxs("div",{className:"footer-socials",children:[K.jsx("a",{className:"social-link",href:"https://www.facebook.com",target:"_blank",rel:"noopener noreferrer",children:K.jsx("img",{src:Xw,alt:"facebook link"})}),K.jsx("a",{className:"social-link",href:"https://www.tiktok.com",target:"_blank",rel:"noopener noreferrer",children:K.jsx("img",{src:Jw,alt:"tiktok link"})}),K.jsx("a",{className:"social-link",href:"https://www.twitter.com",target:"_blank",rel:"noopener noreferrer",children:K.jsx("img",{src:Zw,alt:"twitter link"})}),K.jsx("a",{className:"social-link",href:"https://www.instagram.com",target:"_blank",rel:"noopener noreferrer",children:K.jsx("img",{src:Ww,alt:"instagram link"})})]}),K.jsx(Ws,{to:"/login",children:"Admin"})]}),tT="/riffrack/assets/logo-Dpl8A6mJ.svg",nT="data:image/svg+xml,%3csvg%20width='51'%20height='51'%20viewBox='0%200%2051%2051'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M36.125%2038.25C33.7663%2038.25%2031.875%2040.1413%2031.875%2042.5C31.875%2043.6272%2032.3228%2044.7082%2033.1198%2045.5052C33.9168%2046.3022%2034.9978%2046.75%2036.125%2046.75C37.2522%2046.75%2038.3332%2046.3022%2039.1302%2045.5052C39.9272%2044.7082%2040.375%2043.6272%2040.375%2042.5C40.375%2041.3728%2039.9272%2040.2918%2039.1302%2039.4948C38.3332%2038.6978%2037.2522%2038.25%2036.125%2038.25ZM2.125%204.25V8.5H6.375L14.025%2024.6287L11.135%2029.835C10.8162%2030.43%2010.625%2031.1313%2010.625%2031.875C10.625%2033.0022%2011.0728%2034.0832%2011.8698%2034.8802C12.6668%2035.6772%2013.7478%2036.125%2014.875%2036.125H40.375V31.875H15.7675C15.6266%2031.875%2015.4915%2031.819%2015.3918%2031.7194C15.2922%2031.6198%2015.2362%2031.4846%2015.2362%2031.3438C15.2362%2031.2375%2015.2575%2031.1525%2015.3%2031.0888L17.2125%2027.625H33.0438C34.6375%2027.625%2036.04%2026.7325%2036.7625%2025.4363L44.37%2011.6875C44.5187%2011.3475%2044.625%2010.9862%2044.625%2010.625C44.625%2010.0614%2044.4011%209.52091%2044.0026%209.1224C43.6041%208.72388%2043.0636%208.5%2042.5%208.5H11.0712L9.07375%204.25M14.875%2038.25C12.5162%2038.25%2010.625%2040.1413%2010.625%2042.5C10.625%2043.6272%2011.0728%2044.7082%2011.8698%2045.5052C12.6668%2046.3022%2013.7478%2046.75%2014.875%2046.75C16.0022%2046.75%2017.0832%2046.3022%2017.8802%2045.5052C18.6772%2044.7082%2019.125%2043.6272%2019.125%2042.5C19.125%2041.3728%2018.6772%2040.2918%2017.8802%2039.4948C17.0832%2038.6978%2016.0022%2038.25%2014.875%2038.25Z'%20fill='black'/%3e%3c/svg%3e",rT=()=>K.jsx("header",{children:K.jsxs("nav",{className:"header-nav",children:[K.jsx(Ws,{to:"/",children:K.jsx("img",{src:tT,alt:"RiffRack Logo"})}),K.jsx(Ws,{to:"cart",children:K.jsx("img",{src:nT,alt:"Cart Link"})})]})});function iT(){return K.jsxs("div",{className:"app-container",children:[K.jsx(rT,{}),K.jsx("main",{children:K.jsx(hw,{})}),K.jsx(eT,{})]})}const kv=i=>{let e;const r=new Set,s=(g,E)=>{const d=typeof g=="function"?g(e):g;if(!Object.is(d,e)){const y=e;e=E??(typeof d!="object"||d===null)?d:Object.assign({},e,d),r.forEach(b=>b(e,y))}},o=()=>e,c={setState:s,getState:o,getInitialState:()=>p,subscribe:g=>(r.add(g),()=>r.delete(g))},p=e=i(s,o,c);return c},aT=i=>i?kv(i):kv,sT=i=>i;function oT(i,e=sT){const r=ov.useSyncExternalStore(i.subscribe,()=>e(i.getState()),()=>e(i.getInitialState()));return ov.useDebugValue(r),r}const Pv=i=>{const e=aT(i),r=s=>oT(e,s);return Object.assign(r,e),r},fm=i=>i?Pv(i):Pv,lT=()=>{};var Uv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=function(i){const e=[];let r=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},uT=function(i){const e=[];let r=0,s=0;for(;r<i.length;){const o=i[r++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[r++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[r++],f=i[r++],c=i[r++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|c&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[r++],f=i[r++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},_0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,c=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,d=(u&3)<<4|c>>4;let y=(c&15)<<2|g>>6,b=g&63;p||(b=64,f||(y=64)),s.push(r[E],r[d],r[y],r[b])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(v0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):uT(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=r[i.charAt(o++)],c=o<i.length?r[i.charAt(o)]:0;++o;const g=o<i.length?r[i.charAt(o)]:64;++o;const d=o<i.length?r[i.charAt(o)]:64;if(++o,u==null||c==null||g==null||d==null)throw new cT;const y=u<<2|c>>4;if(s.push(y),g!==64){const b=c<<4&240|g>>2;if(s.push(b),d!==64){const v=g<<6&192|d;s.push(v)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class cT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fT=function(i){const e=v0(i);return _0.encodeByteArray(e,!0)},Rc=function(i){return fT(i).replace(/\./g,"")},hT=function(i){try{return _0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=()=>dT().__FIREBASE_DEFAULTS__,pT=()=>{if(typeof process>"u"||typeof Uv>"u")return;const i=Uv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},gT=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&hT(i[1]);return e&&JSON.parse(e)},hm=()=>{try{return lT()||mT()||pT()||gT()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},yT=i=>{var e,r;return(r=(e=hm())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[i]},vT=i=>{const e=yT(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},b0=()=>{var i;return(i=hm())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Rc(JSON.stringify(r)),Rc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wT(){var i;const e=(i=hm())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TT(){return!wT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ST(){try{return typeof indexedDB=="object"}catch{return!1}}function AT(){return new Promise((i,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="FirebaseError";class lo extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=RT,Object.setPrototypeOf(this,lo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,E0.prototype.create)}}class E0{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?xT(u,s):"Error",c=`${this.serviceName}: ${f} (${o}).`;return new lo(o,c,s)}}function xT(i,e){return i.replace(CT,(r,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const CT=/\{\$([^}]+)}/g;function xc(i,e){if(i===e)return!0;const r=Object.keys(i),s=Object.keys(e);for(const o of r){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(zv(u)&&zv(f)){if(!xc(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!r.includes(o))return!1;return!0}function zv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(i){return i&&i._delegate?i._delegate:i}class Dl{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new _T;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IT(e))try{this.getOrInitializeService({instanceIdentifier:Ya})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ya){return this.instances.has(e)}getOptions(e=Ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[u,f]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(u);s===c&&f.resolve(o)}return o}onInit(e,r){var s;const o=this.normalizeInstanceIdentifier(r),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const o of s)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:OT(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ya){return this.component?this.component.multipleInstances?e:Ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OT(i){return i===Ya?void 0:i}function IT(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new DT(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(at||(at={}));const MT={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},VT=at.INFO,LT={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},jT=(i,e,...r)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=LT[e];if(o)console[o](`[${s}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class w0{constructor(e){this.name=e,this._logLevel=VT,this._logHandler=jT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const kT=(i,e)=>e.some(r=>i instanceof r);let $v,Bv;function PT(){return $v||($v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UT(){return Bv||(Bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T0=new WeakMap,Md=new WeakMap,S0=new WeakMap,bd=new WeakMap,dm=new WeakMap;function zT(i){const e=new Promise((r,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{r(ra(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&T0.set(r,i)}).catch(()=>{}),dm.set(e,i),e}function $T(i){if(Md.has(i))return;const e=new Promise((r,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{r(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Md.set(i,e)}let Vd={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return Md.get(i);if(e==="objectStoreNames")return i.objectStoreNames||S0.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ra(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function BT(i){Vd=i(Vd)}function qT(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=i.call(Ed(this),e,...r);return S0.set(s,e.sort?e.sort():[e]),ra(s)}:UT().includes(i)?function(...e){return i.apply(Ed(this),e),ra(T0.get(this))}:function(...e){return ra(i.apply(Ed(this),e))}}function HT(i){return typeof i=="function"?qT(i):(i instanceof IDBTransaction&&$T(i),kT(i,PT())?new Proxy(i,Vd):i)}function ra(i){if(i instanceof IDBRequest)return zT(i);if(bd.has(i))return bd.get(i);const e=HT(i);return e!==i&&(bd.set(i,e),dm.set(e,i)),e}const Ed=i=>dm.get(i);function FT(i,e,{blocked:r,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),c=ra(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ra(f.result),p.oldVersion,p.newVersion,ra(f.transaction),p)}),r&&f.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),c.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),c}const GT=["get","getKey","getAll","getAllKeys","count"],QT=["put","add","delete","clear"],wd=new Map;function qv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(wd.get(e))return wd.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,o=QT.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(o||GT.includes(r)))return;const u=async function(f,...c){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(c.shift())),(await Promise.all([g[r](...c),o&&p.done]))[0]};return wd.set(e,u),u}BT(i=>({...i,get:(e,r,s)=>qv(e,r)||i.get(e,r,s),has:(e,r)=>!!qv(e,r)||i.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(KT(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function KT(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ld="@firebase/app",Hv="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new w0("@firebase/app"),XT="@firebase/app-compat",ZT="@firebase/analytics-compat",JT="@firebase/analytics",WT="@firebase/app-check-compat",eS="@firebase/app-check",tS="@firebase/auth",nS="@firebase/auth-compat",rS="@firebase/database",iS="@firebase/data-connect",aS="@firebase/database-compat",sS="@firebase/functions",oS="@firebase/functions-compat",lS="@firebase/installations",uS="@firebase/installations-compat",cS="@firebase/messaging",fS="@firebase/messaging-compat",hS="@firebase/performance",dS="@firebase/performance-compat",mS="@firebase/remote-config",pS="@firebase/remote-config-compat",gS="@firebase/storage",yS="@firebase/storage-compat",vS="@firebase/firestore",_S="@firebase/vertexai",bS="@firebase/firestore-compat",ES="firebase",wS="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="[DEFAULT]",TS={[Ld]:"fire-core",[XT]:"fire-core-compat",[JT]:"fire-analytics",[ZT]:"fire-analytics-compat",[eS]:"fire-app-check",[WT]:"fire-app-check-compat",[tS]:"fire-auth",[nS]:"fire-auth-compat",[rS]:"fire-rtdb",[iS]:"fire-data-connect",[aS]:"fire-rtdb-compat",[sS]:"fire-fn",[oS]:"fire-fn-compat",[lS]:"fire-iid",[uS]:"fire-iid-compat",[cS]:"fire-fcm",[fS]:"fire-fcm-compat",[hS]:"fire-perf",[dS]:"fire-perf-compat",[mS]:"fire-rc",[pS]:"fire-rc-compat",[gS]:"fire-gcs",[yS]:"fire-gcs-compat",[vS]:"fire-fst",[bS]:"fire-fst-compat",[_S]:"fire-vertex","fire-js":"fire-js",[ES]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new Map,SS=new Map,kd=new Map;function Fv(i,e){try{i.container.addComponent(e)}catch(r){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function Dc(i){const e=i.name;if(kd.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;kd.set(e,i);for(const r of Cc.values())Fv(r,i);for(const r of SS.values())Fv(r,i);return!0}function AS(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}function RS(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ia=new E0("app","Firebase",xS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,r,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Dl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ia.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=wS;function A0(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:jd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ia.create("bad-app-name",{appName:String(o)});if(r||(r=b0()),!r)throw ia.create("no-options");const u=Cc.get(o);if(u){if(xc(r,u.options)&&xc(s,u.config))return u;throw ia.create("duplicate-app",{appName:o})}const f=new NT(o);for(const p of kd.values())f.addComponent(p);const c=new CS(r,s,f);return Cc.set(o,c),c}function OS(i=jd){const e=Cc.get(i);if(!e&&i===jd&&b0())return A0();if(!e)throw ia.create("no-app",{appName:i});return e}function Zs(i,e,r){var s;let o=(s=TS[i])!==null&&s!==void 0?s:i;r&&(o+=`-${r}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const c=[`Unable to register library "${o}" with version "${e}":`];u&&c.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&c.push("and"),f&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(c.join(" "));return}Dc(new Dl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="firebase-heartbeat-database",NS=1,Ol="firebase-heartbeat-store";let Td=null;function R0(){return Td||(Td=FT(IS,NS,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ol)}catch(r){console.warn(r)}}}}).catch(i=>{throw ia.create("idb-open",{originalErrorMessage:i.message})})),Td}async function MS(i){try{const r=(await R0()).transaction(Ol),s=await r.objectStore(Ol).get(x0(i));return await r.done,s}catch(e){if(e instanceof lo)bi.warn(e.message);else{const r=ia.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(r.message)}}}async function Gv(i,e){try{const s=(await R0()).transaction(Ol,"readwrite");await s.objectStore(Ol).put(e,x0(i)),await s.done}catch(r){if(r instanceof lo)bi.warn(r.message);else{const s=ia.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});bi.warn(s.message)}}}function x0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=1024,LS=30;class jS{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new PS(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Qv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>LS){const f=US(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){bi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Qv(),{heartbeatsToSend:s,unsentEntries:o}=kS(this._heartbeatsCache.heartbeats),u=Rc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return bi.warn(r),""}}}function Qv(){return new Date().toISOString().substring(0,10)}function kS(i,e=VS){const r=[];let s=i.slice();for(const o of i){const u=r.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Yv(r)>e){u.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),Yv(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class PS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ST()?AT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await MS(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return Gv(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return Gv(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Yv(i){return Rc(JSON.stringify({version:2,heartbeats:i})).length}function US(i){if(i.length===0)return-1;let e=0,r=i[0].date;for(let s=1;s<i.length;s++)i[s].date<r&&(r=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(i){Dc(new Dl("platform-logger",e=>new YT(e),"PRIVATE")),Dc(new Dl("heartbeat",e=>new jS(e),"PRIVATE")),Zs(Ld,Hv,i),Zs(Ld,Hv,"esm2017"),Zs("fire-js","")}zS("");var Kv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aa,C0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function x(){}x.prototype=S.prototype,I.D=S.prototype,I.prototype=new x,I.prototype.constructor=I,I.C=function(O,k,$){for(var U=Array(arguments.length-2),he=2;he<arguments.length;he++)U[he-2]=arguments[he];return S.prototype[k].apply(O,U)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,r),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,x){x||(x=0);var O=Array(16);if(typeof S=="string")for(var k=0;16>k;++k)O[k]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(k=0;16>k;++k)O[k]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=I.g[0],x=I.g[1],k=I.g[2];var $=I.g[3],U=S+($^x&(k^$))+O[0]+3614090360&4294967295;S=x+(U<<7&4294967295|U>>>25),U=$+(k^S&(x^k))+O[1]+3905402710&4294967295,$=S+(U<<12&4294967295|U>>>20),U=k+(x^$&(S^x))+O[2]+606105819&4294967295,k=$+(U<<17&4294967295|U>>>15),U=x+(S^k&($^S))+O[3]+3250441966&4294967295,x=k+(U<<22&4294967295|U>>>10),U=S+($^x&(k^$))+O[4]+4118548399&4294967295,S=x+(U<<7&4294967295|U>>>25),U=$+(k^S&(x^k))+O[5]+1200080426&4294967295,$=S+(U<<12&4294967295|U>>>20),U=k+(x^$&(S^x))+O[6]+2821735955&4294967295,k=$+(U<<17&4294967295|U>>>15),U=x+(S^k&($^S))+O[7]+4249261313&4294967295,x=k+(U<<22&4294967295|U>>>10),U=S+($^x&(k^$))+O[8]+1770035416&4294967295,S=x+(U<<7&4294967295|U>>>25),U=$+(k^S&(x^k))+O[9]+2336552879&4294967295,$=S+(U<<12&4294967295|U>>>20),U=k+(x^$&(S^x))+O[10]+4294925233&4294967295,k=$+(U<<17&4294967295|U>>>15),U=x+(S^k&($^S))+O[11]+2304563134&4294967295,x=k+(U<<22&4294967295|U>>>10),U=S+($^x&(k^$))+O[12]+1804603682&4294967295,S=x+(U<<7&4294967295|U>>>25),U=$+(k^S&(x^k))+O[13]+4254626195&4294967295,$=S+(U<<12&4294967295|U>>>20),U=k+(x^$&(S^x))+O[14]+2792965006&4294967295,k=$+(U<<17&4294967295|U>>>15),U=x+(S^k&($^S))+O[15]+1236535329&4294967295,x=k+(U<<22&4294967295|U>>>10),U=S+(k^$&(x^k))+O[1]+4129170786&4294967295,S=x+(U<<5&4294967295|U>>>27),U=$+(x^k&(S^x))+O[6]+3225465664&4294967295,$=S+(U<<9&4294967295|U>>>23),U=k+(S^x&($^S))+O[11]+643717713&4294967295,k=$+(U<<14&4294967295|U>>>18),U=x+($^S&(k^$))+O[0]+3921069994&4294967295,x=k+(U<<20&4294967295|U>>>12),U=S+(k^$&(x^k))+O[5]+3593408605&4294967295,S=x+(U<<5&4294967295|U>>>27),U=$+(x^k&(S^x))+O[10]+38016083&4294967295,$=S+(U<<9&4294967295|U>>>23),U=k+(S^x&($^S))+O[15]+3634488961&4294967295,k=$+(U<<14&4294967295|U>>>18),U=x+($^S&(k^$))+O[4]+3889429448&4294967295,x=k+(U<<20&4294967295|U>>>12),U=S+(k^$&(x^k))+O[9]+568446438&4294967295,S=x+(U<<5&4294967295|U>>>27),U=$+(x^k&(S^x))+O[14]+3275163606&4294967295,$=S+(U<<9&4294967295|U>>>23),U=k+(S^x&($^S))+O[3]+4107603335&4294967295,k=$+(U<<14&4294967295|U>>>18),U=x+($^S&(k^$))+O[8]+1163531501&4294967295,x=k+(U<<20&4294967295|U>>>12),U=S+(k^$&(x^k))+O[13]+2850285829&4294967295,S=x+(U<<5&4294967295|U>>>27),U=$+(x^k&(S^x))+O[2]+4243563512&4294967295,$=S+(U<<9&4294967295|U>>>23),U=k+(S^x&($^S))+O[7]+1735328473&4294967295,k=$+(U<<14&4294967295|U>>>18),U=x+($^S&(k^$))+O[12]+2368359562&4294967295,x=k+(U<<20&4294967295|U>>>12),U=S+(x^k^$)+O[5]+4294588738&4294967295,S=x+(U<<4&4294967295|U>>>28),U=$+(S^x^k)+O[8]+2272392833&4294967295,$=S+(U<<11&4294967295|U>>>21),U=k+($^S^x)+O[11]+1839030562&4294967295,k=$+(U<<16&4294967295|U>>>16),U=x+(k^$^S)+O[14]+4259657740&4294967295,x=k+(U<<23&4294967295|U>>>9),U=S+(x^k^$)+O[1]+2763975236&4294967295,S=x+(U<<4&4294967295|U>>>28),U=$+(S^x^k)+O[4]+1272893353&4294967295,$=S+(U<<11&4294967295|U>>>21),U=k+($^S^x)+O[7]+4139469664&4294967295,k=$+(U<<16&4294967295|U>>>16),U=x+(k^$^S)+O[10]+3200236656&4294967295,x=k+(U<<23&4294967295|U>>>9),U=S+(x^k^$)+O[13]+681279174&4294967295,S=x+(U<<4&4294967295|U>>>28),U=$+(S^x^k)+O[0]+3936430074&4294967295,$=S+(U<<11&4294967295|U>>>21),U=k+($^S^x)+O[3]+3572445317&4294967295,k=$+(U<<16&4294967295|U>>>16),U=x+(k^$^S)+O[6]+76029189&4294967295,x=k+(U<<23&4294967295|U>>>9),U=S+(x^k^$)+O[9]+3654602809&4294967295,S=x+(U<<4&4294967295|U>>>28),U=$+(S^x^k)+O[12]+3873151461&4294967295,$=S+(U<<11&4294967295|U>>>21),U=k+($^S^x)+O[15]+530742520&4294967295,k=$+(U<<16&4294967295|U>>>16),U=x+(k^$^S)+O[2]+3299628645&4294967295,x=k+(U<<23&4294967295|U>>>9),U=S+(k^(x|~$))+O[0]+4096336452&4294967295,S=x+(U<<6&4294967295|U>>>26),U=$+(x^(S|~k))+O[7]+1126891415&4294967295,$=S+(U<<10&4294967295|U>>>22),U=k+(S^($|~x))+O[14]+2878612391&4294967295,k=$+(U<<15&4294967295|U>>>17),U=x+($^(k|~S))+O[5]+4237533241&4294967295,x=k+(U<<21&4294967295|U>>>11),U=S+(k^(x|~$))+O[12]+1700485571&4294967295,S=x+(U<<6&4294967295|U>>>26),U=$+(x^(S|~k))+O[3]+2399980690&4294967295,$=S+(U<<10&4294967295|U>>>22),U=k+(S^($|~x))+O[10]+4293915773&4294967295,k=$+(U<<15&4294967295|U>>>17),U=x+($^(k|~S))+O[1]+2240044497&4294967295,x=k+(U<<21&4294967295|U>>>11),U=S+(k^(x|~$))+O[8]+1873313359&4294967295,S=x+(U<<6&4294967295|U>>>26),U=$+(x^(S|~k))+O[15]+4264355552&4294967295,$=S+(U<<10&4294967295|U>>>22),U=k+(S^($|~x))+O[6]+2734768916&4294967295,k=$+(U<<15&4294967295|U>>>17),U=x+($^(k|~S))+O[13]+1309151649&4294967295,x=k+(U<<21&4294967295|U>>>11),U=S+(k^(x|~$))+O[4]+4149444226&4294967295,S=x+(U<<6&4294967295|U>>>26),U=$+(x^(S|~k))+O[11]+3174756917&4294967295,$=S+(U<<10&4294967295|U>>>22),U=k+(S^($|~x))+O[2]+718787259&4294967295,k=$+(U<<15&4294967295|U>>>17),U=x+($^(k|~S))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(k+(U<<21&4294967295|U>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+$&4294967295}s.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var x=S-this.blockSize,O=this.B,k=this.h,$=0;$<S;){if(k==0)for(;$<=x;)o(this,I,$),$+=this.blockSize;if(typeof I=="string"){for(;$<S;)if(O[k++]=I.charCodeAt($++),k==this.blockSize){o(this,O),k=0;break}}else for(;$<S;)if(O[k++]=I[$++],k==this.blockSize){o(this,O),k=0;break}}this.h=k,this.o+=S},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var x=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=x&255,x/=256;for(this.u(I),I=Array(16),S=x=0;4>S;++S)for(var O=0;32>O;O+=8)I[x++]=this.g[S]>>>O&255;return I};function u(I,S){var x=c;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=S(I)}function f(I,S){this.h=S;for(var x=[],O=!0,k=I.length-1;0<=k;k--){var $=I[k]|0;O&&$==S||(x[k]=$,O=!1)}this.g=x}var c={};function p(I){return-128<=I&&128>I?u(I,function(S){return new f([S|0],0>S?-1:0)}):new f([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return A(g(-I));for(var S=[],x=1,O=0;I>=x;O++)S[O]=I/x|0,x*=4294967296;return new f(S,0)}function E(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return A(E(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=g(Math.pow(S,8)),O=d,k=0;k<I.length;k+=8){var $=Math.min(8,I.length-k),U=parseInt(I.substring(k,k+$),S);8>$?($=g(Math.pow(S,$)),O=O.j($).add(g(U))):(O=O.j(x),O=O.add(g(U)))}return O}var d=p(0),y=p(1),b=p(16777216);i=f.prototype,i.m=function(){if(_(this))return-A(this).m();for(var I=0,S=1,x=0;x<this.g.length;x++){var O=this.i(x);I+=(0<=O?O:4294967296+O)*S,S*=4294967296}return I},i.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(_(this))return"-"+A(this).toString(I);for(var S=g(Math.pow(I,6)),x=this,O="";;){var k=V(x,S).g;x=w(x,k.j(S));var $=((0<x.g.length?x.g[0]:x.h)>>>0).toString(I);if(x=k,v(x))return $+O;for(;6>$.length;)$="0"+$;O=$+O}},i.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function _(I){return I.h==-1}i.l=function(I){return I=w(this,I),_(I)?-1:v(I)?0:1};function A(I){for(var S=I.g.length,x=[],O=0;O<S;O++)x[O]=~I.g[O];return new f(x,~I.h).add(y)}i.abs=function(){return _(this)?A(this):this},i.add=function(I){for(var S=Math.max(this.g.length,I.g.length),x=[],O=0,k=0;k<=S;k++){var $=O+(this.i(k)&65535)+(I.i(k)&65535),U=($>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);O=U>>>16,$&=65535,U&=65535,x[k]=U<<16|$}return new f(x,x[x.length-1]&-2147483648?-1:0)};function w(I,S){return I.add(A(S))}i.j=function(I){if(v(this)||v(I))return d;if(_(this))return _(I)?A(this).j(A(I)):A(A(this).j(I));if(_(I))return A(this.j(A(I)));if(0>this.l(b)&&0>I.l(b))return g(this.m()*I.m());for(var S=this.g.length+I.g.length,x=[],O=0;O<2*S;O++)x[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<I.g.length;k++){var $=this.i(O)>>>16,U=this.i(O)&65535,he=I.i(k)>>>16,pe=I.i(k)&65535;x[2*O+2*k]+=U*pe,R(x,2*O+2*k),x[2*O+2*k+1]+=$*pe,R(x,2*O+2*k+1),x[2*O+2*k+1]+=U*he,R(x,2*O+2*k+1),x[2*O+2*k+2]+=$*he,R(x,2*O+2*k+2)}for(O=0;O<S;O++)x[O]=x[2*O+1]<<16|x[2*O];for(O=S;O<2*S;O++)x[O]=0;return new f(x,0)};function R(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function D(I,S){this.g=I,this.h=S}function V(I,S){if(v(S))throw Error("division by zero");if(v(I))return new D(d,d);if(_(I))return S=V(A(I),S),new D(A(S.g),A(S.h));if(_(S))return S=V(I,A(S)),new D(A(S.g),S.h);if(30<I.g.length){if(_(I)||_(S))throw Error("slowDivide_ only works with positive integers.");for(var x=y,O=S;0>=O.l(I);)x=j(x),O=j(O);var k=L(x,1),$=L(O,1);for(O=L(O,2),x=L(x,2);!v(O);){var U=$.add(O);0>=U.l(I)&&(k=k.add(x),$=U),O=L(O,1),x=L(x,1)}return S=w(I,k.j(S)),new D(k,S)}for(k=d;0<=I.l(S);){for(x=Math.max(1,Math.floor(I.m()/S.m())),O=Math.ceil(Math.log(x)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),$=g(x),U=$.j(S);_(U)||0<U.l(I);)x-=O,$=g(x),U=$.j(S);v($)&&($=y),k=k.add($),I=w(I,U)}return new D(k,I)}i.A=function(I){return V(this,I).h},i.and=function(I){for(var S=Math.max(this.g.length,I.g.length),x=[],O=0;O<S;O++)x[O]=this.i(O)&I.i(O);return new f(x,this.h&I.h)},i.or=function(I){for(var S=Math.max(this.g.length,I.g.length),x=[],O=0;O<S;O++)x[O]=this.i(O)|I.i(O);return new f(x,this.h|I.h)},i.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),x=[],O=0;O<S;O++)x[O]=this.i(O)^I.i(O);return new f(x,this.h^I.h)};function j(I){for(var S=I.g.length+1,x=[],O=0;O<S;O++)x[O]=I.i(O)<<1|I.i(O-1)>>>31;return new f(x,I.h)}function L(I,S){var x=S>>5;S%=32;for(var O=I.g.length-x,k=[],$=0;$<O;$++)k[$]=0<S?I.i($+x)>>>S|I.i($+x+1)<<32-S:I.i($+x);return new f(k,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,C0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,aa=f}).apply(typeof Kv<"u"?Kv:typeof self<"u"?self:typeof window<"u"?window:{});var oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D0,bl,O0,gc,Pd,I0,N0,M0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,C,N){return h==Array.prototype||h==Object.prototype||(h[C]=N.value),h};function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof oc=="object"&&oc];for(var C=0;C<h.length;++C){var N=h[C];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var s=r(this);function o(h,C){if(C)e:{var N=s;h=h.split(".");for(var z=0;z<h.length-1;z++){var X=h[z];if(!(X in N))break e;N=N[X]}h=h[h.length-1],z=N[h],C=C(z),C!=z&&C!=null&&e(N,h,{configurable:!0,writable:!0,value:C})}}function u(h,C){h instanceof String&&(h+="");var N=0,z=!1,X={next:function(){if(!z&&N<h.length){var ie=N++;return{value:C(ie,h[ie]),done:!1}}return z=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}o("Array.prototype.values",function(h){return h||function(){return u(this,function(C,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},c=this||self;function p(h){var C=typeof h;return C=C!="object"?C:h?Array.isArray(h)?"array":C:"null",C=="array"||C=="object"&&typeof h.length=="number"}function g(h){var C=typeof h;return C=="object"&&h!=null||C=="function"}function E(h,C,N){return h.call.apply(h.bind,arguments)}function d(h,C,N){if(!h)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,z),h.apply(C,X)}}return function(){return h.apply(C,arguments)}}function y(h,C,N){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:d,y.apply(null,arguments)}function b(h,C){var N=Array.prototype.slice.call(arguments,1);return function(){var z=N.slice();return z.push.apply(z,arguments),h.apply(this,z)}}function v(h,C){function N(){}N.prototype=C.prototype,h.aa=C.prototype,h.prototype=new N,h.prototype.constructor=h,h.Qb=function(z,X,ie){for(var ve=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)ve[tt-2]=arguments[tt];return C.prototype[X].apply(z,ve)}}function _(h){const C=h.length;if(0<C){const N=Array(C);for(let z=0;z<C;z++)N[z]=h[z];return N}return[]}function A(h,C){for(let N=1;N<arguments.length;N++){const z=arguments[N];if(p(z)){const X=h.length||0,ie=z.length||0;h.length=X+ie;for(let ve=0;ve<ie;ve++)h[X+ve]=z[ve]}else h.push(z)}}class w{constructor(C,N){this.i=C,this.j=N,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function R(h){return/^[\s\xa0]*$/.test(h)}function D(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function V(h){return V[" "](h),h}V[" "]=function(){};var j=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function L(h,C,N){for(const z in h)C.call(N,h[z],z,h)}function I(h,C){for(const N in h)C.call(void 0,h[N],N,h)}function S(h){const C={};for(const N in h)C[N]=h[N];return C}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,C){let N,z;for(let X=1;X<arguments.length;X++){z=arguments[X];for(N in z)h[N]=z[N];for(let ie=0;ie<x.length;ie++)N=x[ie],Object.prototype.hasOwnProperty.call(z,N)&&(h[N]=z[N])}}function k(h){var C=1;h=h.split(":");const N=[];for(;0<C&&h.length;)N.push(h.shift()),C--;return h.length&&N.push(h.join(":")),N}function $(h){c.setTimeout(()=>{throw h},0)}function U(){var h=Re;let C=null;return h.g&&(C=h.g,h.g=h.g.next,h.g||(h.h=null),C.next=null),C}class he{constructor(){this.h=this.g=null}add(C,N){const z=pe.get();z.set(C,N),this.h?this.h.next=z:this.g=z,this.h=z}}var pe=new w(()=>new G,h=>h.reset());class G{constructor(){this.next=this.g=this.h=null}set(C,N){this.h=C,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ye=!1,Re=new he,B=()=>{const h=c.Promise.resolve(void 0);se=()=>{h.then(re)}};var re=()=>{for(var h;h=U();){try{h.h.call(h.g)}catch(N){$(N)}var C=pe;C.j(h),100>C.h&&(C.h++,h.next=C.g,C.g=h)}ye=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(h,C){this.type=h,this.g=this.target=C,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,C=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const N=()=>{};c.addEventListener("test",N,C),c.removeEventListener("test",N,C)}catch{}return h}();function ke(h,C){if(ce.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var N=this.type=h.type,z=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=C,C=h.relatedTarget){if(j){e:{try{V(C.nodeName);var X=!0;break e}catch{}X=!1}X||(C=null)}}else N=="mouseover"?C=h.fromElement:N=="mouseout"&&(C=h.toElement);this.relatedTarget=C,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:xe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ke.aa.h.call(this)}}v(ke,ce);var xe={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),pt=0;function Gn(h,C,N,z,X){this.listener=h,this.proxy=null,this.src=C,this.type=N,this.capture=!!z,this.ha=X,this.key=++pt,this.da=this.fa=!1}function St(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function fn(h){this.src=h,this.g={},this.h=0}fn.prototype.add=function(h,C,N,z,X){var ie=h.toString();h=this.g[ie],h||(h=this.g[ie]=[],this.h++);var ve=Yr(h,C,z,X);return-1<ve?(C=h[ve],N||(C.fa=!1)):(C=new Gn(C,this.src,ie,!!z,X),C.fa=N,h.push(C)),C};function wr(h,C){var N=C.type;if(N in h.g){var z=h.g[N],X=Array.prototype.indexOf.call(z,C,void 0),ie;(ie=0<=X)&&Array.prototype.splice.call(z,X,1),ie&&(St(C),h.g[N].length==0&&(delete h.g[N],h.h--))}}function Yr(h,C,N,z){for(var X=0;X<h.length;++X){var ie=h[X];if(!ie.da&&ie.listener==C&&ie.capture==!!N&&ie.ha==z)return X}return-1}var _n="closure_lm_"+(1e6*Math.random()|0),_a={};function is(h,C,N,z,X){if(Array.isArray(C)){for(var ie=0;ie<C.length;ie++)is(h,C[ie],N,z,X);return null}return N=Ri(N),h&&h[wt]?h.K(C,N,g(z)?!!z.capture:!1,X):bn(h,C,N,!1,z,X)}function bn(h,C,N,z,X,ie){if(!C)throw Error("Invalid event type");var ve=g(X)?!!X.capture:!!X,tt=Qn(h);if(tt||(h[_n]=tt=new fn(h)),N=tt.add(C,N,z,ve,ie),N.proxy)return N;if(z=mo(),N.proxy=z,z.src=h,z.listener=N,h.addEventListener)_e||(X=ve),X===void 0&&(X=!1),h.addEventListener(C.toString(),z,X);else if(h.attachEvent)h.attachEvent(Kr(C.toString()),z);else if(h.addListener&&h.removeListener)h.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return N}function mo(){function h(N){return C.call(h.src,h.listener,N)}const C=dr;return h}function ba(h,C,N,z,X){if(Array.isArray(C))for(var ie=0;ie<C.length;ie++)ba(h,C[ie],N,z,X);else z=g(z)?!!z.capture:!!z,N=Ri(N),h&&h[wt]?(h=h.i,C=String(C).toString(),C in h.g&&(ie=h.g[C],N=Yr(ie,N,z,X),-1<N&&(St(ie[N]),Array.prototype.splice.call(ie,N,1),ie.length==0&&(delete h.g[C],h.h--)))):h&&(h=Qn(h))&&(C=h.g[C.toString()],h=-1,C&&(h=Yr(C,N,z,X)),(N=-1<h?C[h]:null)&&Si(N))}function Si(h){if(typeof h!="number"&&h&&!h.da){var C=h.src;if(C&&C[wt])wr(C.i,h);else{var N=h.type,z=h.proxy;C.removeEventListener?C.removeEventListener(N,z,h.capture):C.detachEvent?C.detachEvent(Kr(N),z):C.addListener&&C.removeListener&&C.removeListener(z),(N=Qn(C))?(wr(N,h),N.h==0&&(N.src=null,C[_n]=null)):St(h)}}}function Kr(h){return h in _a?_a[h]:_a[h]="on"+h}function dr(h,C){if(h.da)h=!0;else{C=new ke(C,this);var N=h.listener,z=h.ha||h.src;h.fa&&Si(h),h=N.call(z,C)}return h}function Qn(h){return h=h[_n],h instanceof fn?h:null}var Ai="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ri(h){return typeof h=="function"?h:(h[Ai]||(h[Ai]=function(C){return h.handleEvent(C)}),h[Ai])}function lt(){me.call(this),this.i=new fn(this),this.M=this,this.F=null}v(lt,me),lt.prototype[wt]=!0,lt.prototype.removeEventListener=function(h,C,N,z){ba(this,h,C,N,z)};function He(h,C){var N,z=h.F;if(z)for(N=[];z;z=z.F)N.push(z);if(h=h.M,z=C.type||C,typeof C=="string")C=new ce(C,h);else if(C instanceof ce)C.target=C.target||h;else{var X=C;C=new ce(z,h),O(C,X)}if(X=!0,N)for(var ie=N.length-1;0<=ie;ie--){var ve=C.g=N[ie];X=hn(ve,z,!0,C)&&X}if(ve=C.g=h,X=hn(ve,z,!0,C)&&X,X=hn(ve,z,!1,C)&&X,N)for(ie=0;ie<N.length;ie++)ve=C.g=N[ie],X=hn(ve,z,!1,C)&&X}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var h=this.i,C;for(C in h.g){for(var N=h.g[C],z=0;z<N.length;z++)St(N[z]);delete h.g[C],h.h--}}this.F=null},lt.prototype.K=function(h,C,N,z){return this.i.add(String(h),C,!1,N,z)},lt.prototype.L=function(h,C,N,z){return this.i.add(String(h),C,!0,N,z)};function hn(h,C,N,z){if(C=h.i.g[String(C)],!C)return!0;C=C.concat();for(var X=!0,ie=0;ie<C.length;++ie){var ve=C[ie];if(ve&&!ve.da&&ve.capture==N){var tt=ve.listener,Bt=ve.ha||ve.src;ve.fa&&wr(h.i,ve),X=tt.call(Bt,z)!==!1&&X}}return X&&!z.defaultPrevented}function Lt(h,C,N){if(typeof h=="function")N&&(h=y(h,N));else if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:c.setTimeout(h,C||0)}function as(h){h.g=Lt(()=>{h.g=null,h.i&&(h.i=!1,as(h))},h.l);const C=h.h;h.h=null,h.m.apply(null,C)}class Yn extends me{constructor(C,N){super(),this.m=C,this.l=N,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:as(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(h){me.call(this),this.h=h,this.g={}}v(Tr,me);var Sr=[];function Ar(h){L(h.g,function(C,N){this.g.hasOwnProperty(N)&&Si(C)},h),h.g={}}Tr.prototype.N=function(){Tr.aa.N.call(this),Ar(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=c.JSON.stringify,Xr=c.JSON.parse,Kn=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function xi(){}xi.prototype.h=null;function Zr(h){return h.h||(h.h=h.i())}function Ea(){}var Xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mr(){ce.call(this,"d")}v(mr,ce);function Ci(){ce.call(this,"c")}v(Ci,ce);var En={},Rr=null;function xr(){return Rr=Rr||new lt}En.La="serverreachability";function Di(h){ce.call(this,En.La,h)}v(Di,ce);function H(h){const C=xr();He(C,new Di(C))}En.STAT_EVENT="statevent";function Y(h,C){ce.call(this,En.STAT_EVENT,h),this.stat=C}v(Y,ce);function J(h){const C=xr();He(C,new Y(C,h))}En.Ma="timingevent";function le(h,C){ce.call(this,En.Ma,h),this.size=C}v(le,ce);function ge(h,C){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},C)}function Ee(){this.g=!0}Ee.prototype.xa=function(){this.g=!1};function Ie(h,C,N,z,X,ie){h.info(function(){if(h.g)if(ie)for(var ve="",tt=ie.split("&"),Bt=0;Bt<tt.length;Bt++){var nt=tt[Bt].split("=");if(1<nt.length){var Xt=nt[0];nt=nt[1];var qt=Xt.split("_");ve=2<=qt.length&&qt[1]=="type"?ve+(Xt+"="+nt+"&"):ve+(Xt+"=redacted&")}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+z+") [attempt "+X+"]: "+C+`
`+N+`
`+ve})}function we(h,C,N,z,X,ie,ve){h.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+X+"]: "+C+`
`+N+`
`+ie+" "+ve})}function Se(h,C,N,z){h.info(function(){return"XMLHTTP TEXT ("+C+"): "+Me(h,N)+(z?" "+z:"")})}function Ce(h,C){h.info(function(){return"TIMEOUT: "+C})}Ee.prototype.info=function(){};function Me(h,C){if(!h.g)return C;if(!C)return null;try{var N=JSON.parse(C);if(N){for(h=0;h<N.length;h++)if(Array.isArray(N[h])){var z=N[h];if(!(2>z.length)){var X=z[1];if(Array.isArray(X)&&!(1>X.length)){var ie=X[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ve=1;ve<X.length;ve++)X[ve]=""}}}}return Nn(N)}catch{return C}}var Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Le={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xe;function ct(){}v(ct,xi),ct.prototype.g=function(){return new XMLHttpRequest},ct.prototype.i=function(){return{}},Xe=new ct;function st(h,C,N,z){this.j=h,this.i=C,this.l=N,this.R=z||1,this.U=new Tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new et}function et(){this.i=null,this.g="",this.h=!1}var Qe={},Zn={};function $t(h,C,N){h.L=1,h.v=Sa(Ln(C)),h.m=N,h.P=!0,wn(h,null)}function wn(h,C){h.F=Date.now(),Mn(h),h.A=Ln(h.v);var N=h.A,z=h.R;Array.isArray(z)||(z=[String(z)]),_o(N.i,"t",z),h.C=0,N=h.j.J,h.h=new et,h.g=tu(h.j,N?C:null,!h.m),0<h.O&&(h.M=new Yn(y(h.Y,h,h.g),h.O)),C=h.U,N=h.g,z=h.ca;var X="readystatechange";Array.isArray(X)||(X&&(Sr[0]=X.toString()),X=Sr);for(var ie=0;ie<X.length;ie++){var ve=is(N,X[ie],z||C.handleEvent,!1,C.h||C);if(!ve)break;C.g[ve.key]=ve}C=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,C)):(h.u="GET",h.g.ea(h.A,h.u,null,C)),H(),Ie(h.i,h.u,h.A,h.l,h.R,h.m)}st.prototype.ca=function(h){h=h.target;const C=this.M;C&&nr(h)==3?C.j():this.Y(h)},st.prototype.Y=function(h){try{if(h==this.g)e:{const qt=nr(this.g);var C=this.g.Ba();const ai=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||Ql(this.g)))){this.J||qt!=4||C==7||(C==8||0>=ai?H(3):H(2)),dn(this);var N=this.g.Z();this.X=N;t:if(tn(this)){var z=Ql(this.g);h="";var X=z.length,ie=nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),Tn(this);var ve="";break t}this.h.i=new c.TextDecoder}for(C=0;C<X;C++)this.h.h=!0,h+=this.h.i.decode(z[C],{stream:!(ie&&C==X-1)});z.length=0,this.h.g+=h,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=N==200,we(this.i,this.u,this.A,this.l,this.R,qt,N),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Bt=this.g;if((tt=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(tt)){var nt=tt;break t}}nt=null}if(N=nt)Se(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jt(this,N);else{this.o=!1,this.s=3,J(12),ze(this),Tn(this);break e}}if(this.P){N=!0;let rn;for(;!this.J&&this.C<ve.length;)if(rn=Cr(this,ve),rn==Zn){qt==4&&(this.s=4,J(14),N=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Qe){this.s=4,J(15),Se(this.i,this.l,ve,"[Invalid Chunk]"),N=!1;break}else Se(this.i,this.l,rn,null),jt(this,rn);if(tn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||ve.length!=0||this.h.h||(this.s=1,J(16),N=!1),this.o=this.o&&N,!N)Se(this.i,this.l,ve,"[Invalid Chunked Response]"),ze(this),Tn(this);else if(0<ve.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Na(Xt),Xt.M=!0,J(11))}}else Se(this.i,this.l,ve,null),jt(this,ve);qt==4&&ze(this),this.o&&!this.J&&(qt==4?Jl(this.j,this):(this.o=!1,Mn(this)))}else yf(this.g),N==400&&0<ve.indexOf("Unknown SID")?(this.s=3,J(12)):(this.s=0,J(13)),ze(this),Tn(this)}}}catch{}finally{}};function tn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Cr(h,C){var N=h.C,z=C.indexOf(`
`,N);return z==-1?Zn:(N=Number(C.substring(N,z)),isNaN(N)?Qe:(z+=1,z+N>C.length?Zn:(C=C.slice(z,z+N),h.C=z+N,C)))}st.prototype.cancel=function(){this.J=!0,ze(this)};function Mn(h){h.S=Date.now()+h.I,Oi(h,h.I)}function Oi(h,C){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ge(y(h.ba,h),C)}function dn(h){h.B&&(c.clearTimeout(h.B),h.B=null)}st.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ce(this.i,this.A),this.L!=2&&(H(),J(17)),ze(this),this.s=2,Tn(this)):Oi(this,this.S-h)};function Tn(h){h.j.G==0||h.J||Jl(h.j,h)}function ze(h){dn(h);var C=h.M;C&&typeof C.ma=="function"&&C.ma(),h.M=null,Ar(h.U),h.g&&(C=h.g,h.g=null,C.abort(),C.ma())}function jt(h,C){try{var N=h.j;if(N.G!=0&&(N.g==h||Jn(N.h,h))){if(!h.K&&Jn(N.h,h)&&N.G==3){try{var z=N.Da.g.parse(C)}catch{z=null}if(Array.isArray(z)&&z.length==3){var X=z;if(X[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<h.F)ms(N),hs(N);else break e;So(N),J(18)}}else N.za=X[1],0<N.za-N.T&&37500>X[2]&&N.F&&N.v==0&&!N.C&&(N.C=ge(y(N.Za,N),6e3));if(1>=bt(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else ii(N,11)}else if((h.K||N.g==h)&&ms(N),!R(C))for(X=N.Da.g.parse(C),C=0;C<X.length;C++){let nt=X[C];if(N.T=nt[0],nt=nt[1],N.G==2)if(nt[0]=="c"){N.K=nt[1],N.ia=nt[2];const Xt=nt[3];Xt!=null&&(N.la=Xt,N.j.info("VER="+N.la));const qt=nt[4];qt!=null&&(N.Aa=qt,N.j.info("SVER="+N.Aa));const ai=nt[5];ai!=null&&typeof ai=="number"&&0<ai&&(z=1.5*ai,N.L=z,N.j.info("backChannelRequestTimeoutMs_="+z)),z=N;const rn=h.g;if(rn){const jr=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var ie=z.h;ie.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Jr(ie,ie.h),ie.h=null))}if(z.D){const Ro=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ro&&(z.ya=Ro,gt(z.I,z.D,Ro))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-h.F,N.j.info("Handshake RTT: "+N.R+"ms")),z=N;var ve=h;if(z.qa=eu(z,z.J?z.ia:null,z.W),ve.K){nn(z.h,ve);var tt=ve,Bt=z.L;Bt&&(tt.I=Bt),tt.B&&(dn(tt),Mn(tt)),z.g=ve}else Xl(z);0<N.i.length&&ds(N)}else nt[0]!="stop"&&nt[0]!="close"||ii(N,7);else N.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?ii(N,7):wo(N):nt[0]!="noop"&&N.l&&N.l.ta(nt),N.v=0)}}H(4)}catch{}}var Vn=class{constructor(h,C){this.g=h,this.map=C}};function Rn(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function bt(h){return h.h?1:h.g?h.g.size:0}function Jn(h,C){return h.h?h.h==C:h.g?h.g.has(C):!1}function Jr(h,C){h.g?h.g.add(C):h.h=C}function nn(h,C){h.h&&h.h==C?h.h=null:h.g&&h.g.has(C)&&h.g.delete(C)}Rn.prototype.cancel=function(){if(this.i=po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function po(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let C=h.i;for(const N of h.g.values())C=C.concat(N.D);return C}return _(h.i)}function df(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var C=[],N=h.length,z=0;z<N;z++)C.push(h[z]);return C}C=[],N=0;for(z in h)C[N++]=h[z];return C}function ss(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var C=[];h=h.length;for(var N=0;N<h;N++)C.push(N);return C}C=[],N=0;for(const z in h)C[N++]=z;return C}}}function go(h,C){if(h.forEach&&typeof h.forEach=="function")h.forEach(C,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,C,void 0);else for(var N=ss(h),z=df(h),X=z.length,ie=0;ie<X;ie++)C.call(void 0,z[ie],N&&N[ie],h)}var wa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mf(h,C){if(h){h=h.split("&");for(var N=0;N<h.length;N++){var z=h[N].indexOf("="),X=null;if(0<=z){var ie=h[N].substring(0,z);X=h[N].substring(z+1)}else ie=h[N];C(ie,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function kt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof kt){this.h=h.h,Ta(this,h.j),this.o=h.o,this.g=h.g,Ii(this,h.s),this.l=h.l;var C=h.i,N=new ei;N.i=C.i,C.g&&(N.g=new Map(C.g),N.h=C.h),Wr(this,N),this.m=h.m}else h&&(C=String(h).match(wa))?(this.h=!1,Ta(this,C[1]||"",!0),this.o=Wn(C[2]||""),this.g=Wn(C[3]||"",!0),Ii(this,C[4]),this.l=Wn(C[5]||"",!0),Wr(this,C[6]||"",!0),this.m=Wn(C[7]||"")):(this.h=!1,this.i=new ei(null,this.h))}kt.prototype.toString=function(){var h=[],C=this.j;C&&h.push(Aa(C,yo,!0),":");var N=this.g;return(N||C=="file")&&(h.push("//"),(C=this.o)&&h.push(Aa(C,yo,!0),"@"),h.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&h.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&h.push("/"),h.push(Aa(N,N.charAt(0)=="/"?pf:vo,!0))),(N=this.i.toString())&&h.push("?",N),(N=this.m)&&h.push("#",Aa(N,os)),h.join("")};function Ln(h){return new kt(h)}function Ta(h,C,N){h.j=N?Wn(C,!0):C,h.j&&(h.j=h.j.replace(/:$/,""))}function Ii(h,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);h.s=C}else h.s=null}function Wr(h,C,N){C instanceof ei?(h.i=C,Fl(h.i,h.h)):(N||(C=Aa(C,gf)),h.i=new ei(C,h.h))}function gt(h,C,N){h.i.set(C,N)}function Sa(h){return gt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Wn(h,C){return h?C?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Aa(h,C,N){return typeof h=="string"?(h=encodeURI(h).replace(C,Hl),N&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Hl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var yo=/[#\/\?@]/g,vo=/[#\?:]/g,pf=/[#\?]/g,gf=/[#\?@]/g,os=/#/g;function ei(h,C){this.h=this.g=null,this.i=h||null,this.j=!!C}function er(h){h.g||(h.g=new Map,h.h=0,h.i&&mf(h.i,function(C,N){h.add(decodeURIComponent(C.replace(/\+/g," ")),N)}))}i=ei.prototype,i.add=function(h,C){er(this),this.i=null,h=Or(this,h);var N=this.g.get(h);return N||this.g.set(h,N=[]),N.push(C),this.h+=1,this};function ti(h,C){er(h),C=Or(h,C),h.g.has(C)&&(h.i=null,h.h-=h.g.get(C).length,h.g.delete(C))}function ni(h,C){return er(h),C=Or(h,C),h.g.has(C)}i.forEach=function(h,C){er(this),this.g.forEach(function(N,z){N.forEach(function(X){h.call(C,X,z,this)},this)},this)},i.na=function(){er(this);const h=Array.from(this.g.values()),C=Array.from(this.g.keys()),N=[];for(let z=0;z<C.length;z++){const X=h[z];for(let ie=0;ie<X.length;ie++)N.push(C[z])}return N},i.V=function(h){er(this);let C=[];if(typeof h=="string")ni(this,h)&&(C=C.concat(this.g.get(Or(this,h))));else{h=Array.from(this.g.values());for(let N=0;N<h.length;N++)C=C.concat(h[N])}return C},i.set=function(h,C){return er(this),this.i=null,h=Or(this,h),ni(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[C]),this.h+=1,this},i.get=function(h,C){return h?(h=this.V(h),0<h.length?String(h[0]):C):C};function _o(h,C,N){ti(h,C),0<N.length&&(h.i=null,h.g.set(Or(h,C),_(N)),h.h+=N.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],C=Array.from(this.g.keys());for(var N=0;N<C.length;N++){var z=C[N];const ie=encodeURIComponent(String(z)),ve=this.V(z);for(z=0;z<ve.length;z++){var X=ie;ve[z]!==""&&(X+="="+encodeURIComponent(String(ve[z]))),h.push(X)}}return this.i=h.join("&")};function Or(h,C){return C=String(C),h.j&&(C=C.toLowerCase()),C}function Fl(h,C){C&&!h.j&&(er(h),h.i=null,h.g.forEach(function(N,z){var X=z.toLowerCase();z!=X&&(ti(this,z),_o(this,X,N))},h)),h.j=C}function Ra(h,C){const N=new Ee;if(c.Image){const z=new Image;z.onload=b(tr,N,"TestLoadImage: loaded",!0,C,z),z.onerror=b(tr,N,"TestLoadImage: error",!1,C,z),z.onabort=b(tr,N,"TestLoadImage: abort",!1,C,z),z.ontimeout=b(tr,N,"TestLoadImage: timeout",!1,C,z),c.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=h}else C(!1)}function pr(h,C){const N=new Ee,z=new AbortController,X=setTimeout(()=>{z.abort(),tr(N,"TestPingServer: timeout",!1,C)},1e4);fetch(h,{signal:z.signal}).then(ie=>{clearTimeout(X),ie.ok?tr(N,"TestPingServer: ok",!0,C):tr(N,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(X),tr(N,"TestPingServer: error",!1,C)})}function tr(h,C,N,z,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),z(N)}catch{}}function xa(){this.g=new Kn}function Ir(h,C,N){const z=N||"";try{go(h,function(X,ie){let ve=X;g(X)&&(ve=Nn(X)),C.push(z+ie+"="+encodeURIComponent(ve))})}catch(X){throw C.push(z+"type="+encodeURIComponent("_badmap")),X}}function Ni(h){this.l=h.Ub||null,this.j=h.eb||!1}v(Ni,xi),Ni.prototype.g=function(){return new ri(this.l,this.j)},Ni.prototype.i=function(h){return function(){return h}}({});function ri(h,C){lt.call(this),this.D=h,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(ri,lt),i=ri.prototype,i.open=function(h,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=C,this.readyState=1,Mr(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(C.body=h),(this.D||c).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nr(this)),this.readyState=0},i.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Mr(this)),this.g&&(this.readyState=3,Mr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function bo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}i.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var C=h.value?h.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!h.done}))&&(this.response=this.responseText+=C)}h.done?Nr(this):Mr(this),this.readyState==3&&bo(this)}},i.Ra=function(h){this.g&&(this.response=this.responseText=h,Nr(this))},i.Qa=function(h){this.g&&(this.response=h,Nr(this))},i.ga=function(){this.g&&Nr(this)};function Nr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Mr(h)}i.setRequestHeader=function(h,C){this.u.append(h,C)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],C=this.h.entries();for(var N=C.next();!N.done;)N=N.value,h.push(N[0]+": "+N[1]),N=C.next();return h.join(`\r
`)};function Mr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Eo(h){let C="";return L(h,function(N,z){C+=z,C+=":",C+=N,C+=`\r
`}),C}function Kt(h,C,N){e:{for(z in N){var z=!1;break e}z=!0}z||(N=Eo(N),typeof h=="string"?N!=null&&encodeURIComponent(String(N)):gt(h,C,N))}function ft(h){lt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(ft,lt);var ls=/^https?$/i,Ca=["POST","PUT"];i=ft.prototype,i.Ha=function(h){this.J=h},i.ea=function(h,C,N,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);C=C?C.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xe.g(),this.v=this.o?Zr(this.o):Zr(Xe),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(C,String(h),!0),this.B=!1}catch(ie){Gl(this,ie);return}if(h=N||"",N=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var X in z)N.set(X,z[X]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ie of z.keys())N.set(ie,z.get(ie));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(N.keys()).find(ie=>ie.toLowerCase()=="content-type"),X=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ca,C,void 0))||z||X||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of N)this.g.setRequestHeader(ie,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Da(this),this.u=!0,this.g.send(h),this.u=!1}catch(ie){Gl(this,ie)}};function Gl(h,C){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=C,h.m=5,us(h),Vr(h)}function us(h){h.A||(h.A=!0,He(h,"complete"),He(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,He(this,"complete"),He(this,"abort"),Vr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vr(this,!0)),ft.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?cs(this):this.bb())},i.bb=function(){cs(this)};function cs(h){if(h.h&&typeof f<"u"&&(!h.v[1]||nr(h)!=4||h.Z()!=2)){if(h.u&&nr(h)==4)Lt(h.Ea,0,h);else if(He(h,"readystatechange"),nr(h)==4){h.h=!1;try{const ve=h.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var N;if(!(N=C)){var z;if(z=ve===0){var X=String(h.D).match(wa)[1]||null;!X&&c.self&&c.self.location&&(X=c.self.location.protocol.slice(0,-1)),z=!ls.test(X?X.toLowerCase():"")}N=z}if(N)He(h,"complete"),He(h,"success");else{h.m=6;try{var ie=2<nr(h)?h.g.statusText:""}catch{ie=""}h.l=ie+" ["+h.Z()+"]",us(h)}}finally{Vr(h)}}}}function Vr(h,C){if(h.g){Da(h);const N=h.g,z=h.v[0]?()=>{}:null;h.g=null,h.v=null,C||He(h,"ready");try{N.onreadystatechange=z}catch{}}}function Da(h){h.I&&(c.clearTimeout(h.I),h.I=null)}i.isActive=function(){return!!this.g};function nr(h){return h.g?h.g.readyState:0}i.Z=function(){try{return 2<nr(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(h){if(this.g){var C=this.g.responseText;return h&&C.indexOf(h)==0&&(C=C.substring(h.length)),Xr(C)}};function Ql(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function yf(h){const C={};h=(h.g&&2<=nr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<h.length;z++){if(R(h[z]))continue;var N=k(h[z]);const X=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ie=C[X]||[];C[X]=ie,ie.push(N)}I(C,function(z){return z.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oa(h,C,N){return N&&N.internalChannelParams&&N.internalChannelParams[h]||C}function fs(h){this.Aa=0,this.i=[],this.j=new Ee,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oa("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oa("baseRetryDelayMs",5e3,h),this.cb=Oa("retryDelaySeedMs",1e4,h),this.Wa=Oa("forwardChannelMaxRetries",2,h),this.wa=Oa("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Rn(h&&h.concurrentRequestLimit),this.Da=new xa,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=fs.prototype,i.la=8,i.G=1,i.connect=function(h,C,N,z){J(0),this.W=h,this.H=C||{},N&&z!==void 0&&(this.H.OSID=N,this.H.OAID=z),this.F=this.X,this.I=eu(this,null,this.W),ds(this)};function wo(h){if(Yl(h),h.G==3){var C=h.U++,N=Ln(h.I);if(gt(N,"SID",h.K),gt(N,"RID",C),gt(N,"TYPE","terminate"),Ia(h,N),C=new st(h,h.j,C),C.L=2,C.v=Sa(Ln(N)),N=!1,c.navigator&&c.navigator.sendBeacon)try{N=c.navigator.sendBeacon(C.v.toString(),"")}catch{}!N&&c.Image&&(new Image().src=C.v,N=!0),N||(C.g=tu(C.j,null),C.g.ea(C.v)),C.F=Date.now(),Mn(C)}Wl(h)}function hs(h){h.g&&(Na(h),h.g.cancel(),h.g=null)}function Yl(h){hs(h),h.u&&(c.clearTimeout(h.u),h.u=null),ms(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function ds(h){if(!Dr(h.h)&&!h.s){h.s=!0;var C=h.Ga;se||B(),ye||(se(),ye=!0),Re.add(C,h),h.B=0}}function vf(h,C){return bt(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=C.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ge(y(h.Ga,h,C),Ao(h,h.B)),h.B++,!0)}i.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const X=new st(this,this.j,h);let ie=this.o;if(this.S&&(ie?(ie=S(ie),O(ie,this.S)):ie=this.S),this.m!==null||this.O||(X.H=ie,ie=null),this.P)e:{for(var C=0,N=0;N<this.i.length;N++){t:{var z=this.i[N];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(C+=z,4096<C){C=N;break e}if(C===4096||N===this.i.length-1){C=N+1;break e}}C=1e3}else C=1e3;C=Kl(this,X,C),N=Ln(this.I),gt(N,"RID",h),gt(N,"CVER",22),this.D&&gt(N,"X-HTTP-Session-Id",this.D),Ia(this,N),ie&&(this.O?C="headers="+encodeURIComponent(String(Eo(ie)))+"&"+C:this.m&&Kt(N,this.m,ie)),Jr(this.h,X),this.Ua&&gt(N,"TYPE","init"),this.P?(gt(N,"$req",C),gt(N,"SID","null"),X.T=!0,$t(X,N,null)):$t(X,N,C),this.G=2}}else this.G==3&&(h?To(this,h):this.i.length==0||Dr(this.h)||To(this))};function To(h,C){var N;C?N=C.l:N=h.U++;const z=Ln(h.I);gt(z,"SID",h.K),gt(z,"RID",N),gt(z,"AID",h.T),Ia(h,z),h.m&&h.o&&Kt(z,h.m,h.o),N=new st(h,h.j,N,h.B+1),h.m===null&&(N.H=h.o),C&&(h.i=C.D.concat(h.i)),C=Kl(h,N,1e3),N.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Jr(h.h,N),$t(N,z,C)}function Ia(h,C){h.H&&L(h.H,function(N,z){gt(C,z,N)}),h.l&&go({},function(N,z){gt(C,z,N)})}function Kl(h,C,N){N=Math.min(h.i.length,N);var z=h.l?y(h.l.Na,h.l,h):null;e:{var X=h.i;let ie=-1;for(;;){const ve=["count="+N];ie==-1?0<N?(ie=X[0].g,ve.push("ofs="+ie)):ie=0:ve.push("ofs="+ie);let tt=!0;for(let Bt=0;Bt<N;Bt++){let nt=X[Bt].g;const Xt=X[Bt].map;if(nt-=ie,0>nt)ie=Math.max(0,X[Bt].g-100),tt=!1;else try{Ir(Xt,ve,"req"+nt+"_")}catch{z&&z(Xt)}}if(tt){z=ve.join("&");break e}}}return h=h.i.splice(0,N),C.D=h,z}function Xl(h){if(!h.g&&!h.u){h.Y=1;var C=h.Fa;se||B(),ye||(se(),ye=!0),Re.add(C,h),h.v=0}}function So(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ge(y(h.Fa,h),Ao(h,h.v)),h.v++,!0)}i.Fa=function(){if(this.u=null,Zl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ge(y(this.ab,this),h)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,J(10),hs(this),Zl(this))};function Na(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function Zl(h){h.g=new st(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var C=Ln(h.qa);gt(C,"RID","rpc"),gt(C,"SID",h.K),gt(C,"AID",h.T),gt(C,"CI",h.F?"0":"1"),!h.F&&h.ja&&gt(C,"TO",h.ja),gt(C,"TYPE","xmlhttp"),Ia(h,C),h.m&&h.o&&Kt(C,h.m,h.o),h.L&&(h.g.I=h.L);var N=h.g;h=h.ia,N.L=1,N.v=Sa(Ln(C)),N.m=null,N.P=!0,wn(N,h)}i.Za=function(){this.C!=null&&(this.C=null,hs(this),So(this),J(19))};function ms(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Jl(h,C){var N=null;if(h.g==C){ms(h),Na(h),h.g=null;var z=2}else if(Jn(h.h,C))N=C.D,nn(h.h,C),z=1;else return;if(h.G!=0){if(C.o)if(z==1){N=C.m?C.m.length:0,C=Date.now()-C.F;var X=h.B;z=xr(),He(z,new le(z,N)),ds(h)}else Xl(h);else if(X=C.s,X==3||X==0&&0<C.X||!(z==1&&vf(h,C)||z==2&&So(h)))switch(N&&0<N.length&&(C=h.h,C.i=C.i.concat(N)),X){case 1:ii(h,5);break;case 4:ii(h,10);break;case 3:ii(h,6);break;default:ii(h,2)}}}function Ao(h,C){let N=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(N*=2),N*C}function ii(h,C){if(h.j.info("Error code "+C),C==2){var N=y(h.fb,h),z=h.Xa;const X=!z;z=new kt(z||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ta(z,"https"),Sa(z),X?Ra(z.toString(),N):pr(z.toString(),N)}else J(2);h.G=0,h.l&&h.l.sa(C),Wl(h),Yl(h)}i.fb=function(h){h?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function Wl(h){if(h.G=0,h.ka=[],h.l){const C=po(h.h);(C.length!=0||h.i.length!=0)&&(A(h.ka,C),A(h.ka,h.i),h.h.i.length=0,_(h.i),h.i.length=0),h.l.ra()}}function eu(h,C,N){var z=N instanceof kt?Ln(N):new kt(N);if(z.g!="")C&&(z.g=C+"."+z.g),Ii(z,z.s);else{var X=c.location;z=X.protocol,C=C?C+"."+X.hostname:X.hostname,X=+X.port;var ie=new kt(null);z&&Ta(ie,z),C&&(ie.g=C),X&&Ii(ie,X),N&&(ie.l=N),z=ie}return N=h.D,C=h.ya,N&&C&&gt(z,N,C),gt(z,"VER",h.la),Ia(h,z),z}function tu(h,C,N){if(C&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=h.Ca&&!h.pa?new ft(new Ni({eb:N})):new ft(h.pa),C.Ha(h.J),C}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function nu(){}i=nu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ps(){}ps.prototype.g=function(h,C){return new Sn(h,C)};function Sn(h,C){lt.call(this),this.g=new fs(C),this.l=h,this.h=C&&C.messageUrlParams||null,h=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(h?h["X-WebChannel-Content-Type"]=C.messageContentType:h={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(h?h["X-WebChannel-Client-Profile"]=C.va:h={"X-WebChannel-Client-Profile":C.va}),this.g.S=h,(h=C&&C.Sb)&&!R(h)&&(this.g.m=h),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!R(C)&&(this.g.D=C,h=this.h,h!==null&&C in h&&(h=this.h,C in h&&delete h[C])),this.j=new Lr(this)}v(Sn,lt),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){wo(this.g)},Sn.prototype.o=function(h){var C=this.g;if(typeof h=="string"){var N={};N.__data__=h,h=N}else this.u&&(N={},N.__data__=Nn(h),h=N);C.i.push(new Vn(C.Ya++,h)),C.G==3&&ds(C)},Sn.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,Sn.aa.N.call(this)};function ru(h){mr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var C=h.__sm__;if(C){e:{for(const N in C){h=N;break e}h=void 0}(this.i=h)&&(h=this.i,C=C!==null&&h in C?C[h]:void 0),this.data=C}else this.data=h}v(ru,mr);function iu(){Ci.call(this),this.status=1}v(iu,Ci);function Lr(h){this.g=h}v(Lr,nu),Lr.prototype.ua=function(){He(this.g,"a")},Lr.prototype.ta=function(h){He(this.g,new ru(h))},Lr.prototype.sa=function(h){He(this.g,new iu)},Lr.prototype.ra=function(){He(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,M0=function(){return new ps},N0=function(){return xr()},I0=En,Pd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,gc=Ae,Le.COMPLETE="complete",O0=Le,Ea.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,bl=Ea,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,D0=ft}).apply(typeof oc<"u"?oc:typeof self<"u"?self:typeof window<"u"?window:{});const Xv="@firebase/firestore",Zv="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new w0("@firebase/firestore");function Gs(){return Ja.logLevel}function be(i,...e){if(Ja.logLevel<=at.DEBUG){const r=e.map(mm);Ja.debug(`Firestore (${uo}): ${i}`,...r)}}function Ei(i,...e){if(Ja.logLevel<=at.ERROR){const r=e.map(mm);Ja.error(`Firestore (${uo}): ${i}`,...r)}}function eo(i,...e){if(Ja.logLevel<=at.WARN){const r=e.map(mm);Ja.warn(`Firestore (${uo}): ${i}`,...r)}}function mm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(i,e,r){let s="Unexpected state";typeof e=="string"?s=e:r=e,V0(i,s,r)}function V0(i,e,r){let s=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw Ei(s),new Error(s)}function ht(i,e,r,s){let o="Unexpected state";typeof r=="string"?o=r:s=r,i||V0(e,o,s)}function Be(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends lo{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $S{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(yn.UNAUTHENTICATED))}shutdown(){}}class BS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class qS{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ht(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,r(p)):Promise.resolve();let u=new sa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new sa,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},c=p=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>c(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?c(p):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new sa)}},0),f()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ht(typeof s.accessToken=="string",31837,{l:s}),new L0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class HS{constructor(e,r,s){this.P=e,this.T=r,this.I=s,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class FS{constructor(e,r,s){this.P=e,this.T=r,this.I=s}getToken(){return Promise.resolve(new HS(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GS{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,RS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){ht(this.o===void 0,3512);const s=u=>{u.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,be("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?r(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ht(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Jv(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=QS(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<r&&(s+=e.charAt(o[u]%62))}return s}}function Ge(i,e){return i<e?-1:i>e?1:0}function Ud(i,e){let r=0;for(;r<i.length&&r<e.length;){const s=i.codePointAt(r),o=e.codePointAt(r);if(s!==o){if(s<128&&o<128)return Ge(s,o);{const u=j0(),f=YS(u.encode(Wv(i,r)),u.encode(Wv(e,r)));return f!==0?f:Ge(s,o)}}r+=s>65535?2:1}return Ge(i.length,e.length)}function Wv(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function YS(i,e){for(let r=0;r<i.length&&r<e.length;++r)if(i[r]!==e[r])return Ge(i[r],e[r]);return Ge(i.length,e.length)}function to(i,e,r){return i.length===e.length&&i.every((s,o)=>r(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=-62135596800,t_=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor((e-1e3*r)*t_);return new Qt(r,s)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Oe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Oe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<e_)throw new Oe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t_}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-e_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new Qt(0,0))}static max(){return new $e(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="__name__";class Br{constructor(e,r,s){r===void 0?r=0:r>e.length&&Pe(637,{offset:r,range:e.length}),s===void 0?s=e.length-r:s>e.length-r&&Pe(1746,{length:s,range:e.length-r}),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return Br.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Br?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let o=0;o<s;o++){const u=Br.compareSegments(e.get(o),r.get(o));if(u!==0)return u}return Ge(e.length,r.length)}static compareSegments(e,r){const s=Br.isNumericId(e),o=Br.isNumericId(r);return s&&!o?-1:!s&&o?1:s&&o?Br.extractNumericId(e).compare(Br.extractNumericId(r)):Ud(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return aa.fromString(e.substring(4,e.length-2))}}class Rt extends Br{construct(e,r,s){return new Rt(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new Oe(de.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(o=>o.length>0))}return new Rt(r)}static emptyPath(){return new Rt([])}}const KS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Br{construct(e,r,s){return new un(e,r,s)}static isValidIdentifier(e){return KS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n_}static keyField(){return new un([n_])}static fromServerFormat(e){const r=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Oe(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let f=!1;for(;o<e.length;){const c=e[o];if(c==="\\"){if(o+1===e.length)throw new Oe(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Oe(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else c==="`"?(f=!f,o++):c!=="."||f?(s+=c,o++):(u(),o++)}if(u(),f)throw new Oe(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(r)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Rt.fromString(e))}static fromName(e){return new Ne(Rt.fromString(e).popFirst(5))}static empty(){return new Ne(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Rt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=-1;function XS(i,e){const r=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=$e.fromTimestamp(s===1e9?new Qt(r+1,0):new Qt(r,s));return new ca(o,Ne.empty(),e)}function ZS(i){return new ca(i.readTime,i.key,Il)}class ca{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new ca($e.min(),Ne.empty(),Il)}static max(){return new ca($e.max(),Ne.empty(),Il)}}function JS(i,e){let r=i.readTime.compareTo(e.readTime);return r!==0?r:(r=Ne.comparator(i.documentKey,e.documentKey),r!==0?r:Ge(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(i){if(i.code!==de.FAILED_PRECONDITION||i.message!==WS)throw i;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new fe((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(r,u).next(s,o)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof fe?r:fe.resolve(r)}catch(r){return fe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):fe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):fe.reject(r)}static resolve(e){return new fe((r,s)=>{r(e)})}static reject(e){return new fe((r,s)=>{s(e)})}static waitFor(e){return new fe((r,s)=>{let o=0,u=0,f=!1;e.forEach(c=>{++o,c.next(()=>{++u,f&&u===o&&r()},p=>s(p))}),f=!0,u===o&&r()})}static or(e){let r=fe.resolve(!1);for(const s of e)r=r.next(o=>o?fe.resolve(o):s());return r}static forEach(e,r){const s=[];return e.forEach((o,u)=>{s.push(r.call(this,o,u))}),this.waitFor(s)}static mapArray(e,r){return new fe((s,o)=>{const u=e.length,f=new Array(u);let c=0;for(let p=0;p<u;p++){const g=p;r(e[g]).next(E=>{f[g]=E,++c,c===u&&s(f)},E=>o(E))}})}static doWhile(e,r){return new fe((s,o)=>{const u=()=>{e()===!0?r().next(()=>{u()},o):s()};u()})}}function tA(i){const e=i.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function fo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>r.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Qc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=-1;function Yc(i){return i==null}function Oc(i){return i===0&&1/i==-1/0}function nA(i){return typeof i=="number"&&Number.isInteger(i)&&!Oc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="";function rA(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=r_(e)),e=iA(i.get(r),e);return r_(e)}function iA(i,e){let r=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":r+="";break;case P0:r+="";break;default:r+=u}}return r}function r_(i){return i+P0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function ya(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function U0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,r){this.comparator=e,this.root=r||ln.EMPTY}insert(e,r){return new Ct(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return r+s.left.size;o<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lc(this.root,e,this.comparator,!0)}}class lc{constructor(e,r,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=r?s(e.key,r):1,r&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,r,s,o,u){this.key=e,this.value=r,this.color=s??ln.RED,this.left=o??ln.EMPTY,this.right=u??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,o,u){return new ln(e??this.key,r??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,r,s),null):u===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,r,s,o,u){return this}insert(e,r,s){return new ln(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new a_(this.data.getIterator())}getIteratorFrom(e){return new a_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Yt(this.comparator);return r.data=e,r}}class a_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Fn([])}unionWith(e){let r=new Yt(un.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Fn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(r,s)=>r.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new z0("Invalid base64 string: "+u):u}}(e);return new cn(r)}static fromUint8Array(e){const r=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new cn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const aA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fa(i){if(ht(!!i,39018),typeof i=="string"){let e=0;const r=aA.exec(i);if(ht(!!r,46558,{timestamp:i}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Vt(i.seconds),nanos:Vt(i.nanos)}}function Vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ha(i){return typeof i=="string"?cn.fromBase64String(i):cn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="server_timestamp",B0="__type__",q0="__previous_value__",H0="__local_write_time__";function gm(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[B0])===null||r===void 0?void 0:r.stringValue)===$0}function Kc(i){const e=i.mapValue.fields[q0];return gm(e)?Kc(e):e}function Nl(i){const e=fa(i.mapValue.fields[H0].timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,r,s,o,u,f,c,p,g){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=c,this.longPollingOptions=p,this.useFetchStreams=g}}const Ic="(default)";class Ml{constructor(e,r){this.projectId=e,this.database=r||Ic}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Ic}isEqual(e){return e instanceof Ml&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="__type__",oA="__max__",uc={mapValue:{}},G0="__vector__",Nc="value";function da(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?gm(i)?4:uA(i)?9007199254740991:lA(i)?10:11:Pe(28295,{value:i})}function Gr(i,e){if(i===e)return!0;const r=da(i);if(r!==da(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Nl(i).isEqual(Nl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=fa(o.timestampValue),c=fa(u.timestampValue);return f.seconds===c.seconds&&f.nanos===c.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ha(o.bytesValue).isEqual(ha(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Vt(o.geoPointValue.latitude)===Vt(u.geoPointValue.latitude)&&Vt(o.geoPointValue.longitude)===Vt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Vt(o.integerValue)===Vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Vt(o.doubleValue),c=Vt(u.doubleValue);return f===c?Oc(f)===Oc(c):isNaN(f)&&isNaN(c)}return!1}(i,e);case 9:return to(i.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},c=u.mapValue.fields||{};if(i_(f)!==i_(c))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(c[p]===void 0||!Gr(f[p],c[p])))return!1;return!0}(i,e);default:return Pe(52216,{left:i})}}function Vl(i,e){return(i.values||[]).find(r=>Gr(r,e))!==void 0}function no(i,e){if(i===e)return 0;const r=da(i),s=da(e);if(r!==s)return Ge(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ge(i.booleanValue,e.booleanValue);case 2:return function(u,f){const c=Vt(u.integerValue||u.doubleValue),p=Vt(f.integerValue||f.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(i,e);case 3:return s_(i.timestampValue,e.timestampValue);case 4:return s_(Nl(i),Nl(e));case 5:return Ud(i.stringValue,e.stringValue);case 6:return function(u,f){const c=ha(u),p=ha(f);return c.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const c=u.split("/"),p=f.split("/");for(let g=0;g<c.length&&g<p.length;g++){const E=Ge(c[g],p[g]);if(E!==0)return E}return Ge(c.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const c=Ge(Vt(u.latitude),Vt(f.latitude));return c!==0?c:Ge(Vt(u.longitude),Vt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return o_(i.arrayValue,e.arrayValue);case 10:return function(u,f){var c,p,g,E;const d=u.fields||{},y=f.fields||{},b=(c=d[Nc])===null||c===void 0?void 0:c.arrayValue,v=(p=y[Nc])===null||p===void 0?void 0:p.arrayValue,_=Ge(((g=b==null?void 0:b.values)===null||g===void 0?void 0:g.length)||0,((E=v==null?void 0:v.values)===null||E===void 0?void 0:E.length)||0);return _!==0?_:o_(b,v)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===uc.mapValue&&f===uc.mapValue)return 0;if(u===uc.mapValue)return 1;if(f===uc.mapValue)return-1;const c=u.fields||{},p=Object.keys(c),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let d=0;d<p.length&&d<E.length;++d){const y=Ud(p[d],E[d]);if(y!==0)return y;const b=no(c[p[d]],g[E[d]]);if(b!==0)return b}return Ge(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Pe(23264,{Pe:r})}}function s_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ge(i,e);const r=fa(i),s=fa(e),o=Ge(r.seconds,s.seconds);return o!==0?o:Ge(r.nanos,s.nanos)}function o_(i,e){const r=i.values||[],s=e.values||[];for(let o=0;o<r.length&&o<s.length;++o){const u=no(r[o],s[o]);if(u)return u}return Ge(r.length,s.length)}function ro(i){return zd(i)}function zd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const s=fa(r);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(r){return ha(r).toBase64()}(i.bytesValue):"referenceValue"in i?function(r){return Ne.fromName(r).toString()}(i.referenceValue):"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let s="[",o=!0;for(const u of r.values||[])o?o=!1:s+=",",s+=zd(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(r){const s=Object.keys(r.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${zd(r.fields[f])}`;return o+"}"}(i.mapValue):Pe(61005,{value:i})}function yc(i){switch(da(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kc(i);return e?16+yc(e):16;case 5:return 2*i.stringValue.length;case 6:return ha(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+yc(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ya(s.fields,(u,f)=>{o+=u.length+yc(f)}),o}(i.mapValue);default:throw Pe(13486,{value:i})}}function $d(i){return!!i&&"integerValue"in i}function ym(i){return!!i&&"arrayValue"in i}function l_(i){return!!i&&"nullValue"in i}function u_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function vc(i){return!!i&&"mapValue"in i}function lA(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[F0])===null||r===void 0?void 0:r.stringValue)===G0}function Tl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ya(i.mapValue.fields,(r,s)=>e.mapValue.fields[r]=Tl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Tl(i.arrayValue.values[r]);return e}return Object.assign({},i)}function uA(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===oA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!vc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tl(r)}setAll(e){let r=un.emptyPath(),s={},o=[];e.forEach((f,c)=>{if(!r.isImmediateParentOf(c)){const p=this.getFieldsMap(r);this.applyChanges(p,s,o),s={},o=[],r=c.popLast()}f?s[c.lastSegment()]=Tl(f):o.push(c.lastSegment())});const u=this.getFieldsMap(r);this.applyChanges(u,s,o)}delete(e){const r=this.field(e.popLast());vc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=r.mapValue.fields[e.get(s)];vc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=o),r=o}return r.mapValue.fields}applyChanges(e,r,s){ya(r,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new In(Tl(this.value))}}function Q0(i){const e=[];return ya(i.fields,(r,s)=>{const o=new un([r]);if(vc(s)){const u=Q0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,r,s,o,u,f,c){this.key=e,this.documentType=r,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=c}static newInvalidDocument(e){return new vn(e,0,$e.min(),$e.min(),$e.min(),In.empty(),0)}static newFoundDocument(e,r,s,o){return new vn(e,1,r,$e.min(),s,o,0)}static newNoDocument(e,r){return new vn(e,2,r,$e.min(),$e.min(),In.empty(),0)}static newUnknownDocument(e,r){return new vn(e,3,r,$e.min(),$e.min(),In.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,r){this.position=e,this.inclusive=r}}function c_(i,e,r){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=Ne.comparator(Ne.fromName(f.referenceValue),r.key):s=no(f,r.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function f_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Gr(i.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,r="asc"){this.field=e,this.dir=r}}function cA(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Y0=class{};class Gt extends Y0{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,s):new hA(e,r,s):r==="array-contains"?new pA(e,s):r==="in"?new gA(e,s):r==="not-in"?new yA(e,s):r==="array-contains-any"?new vA(e,s):new Gt(e,r,s)}static createKeyFieldInFilter(e,r,s){return r==="in"?new dA(e,s):new mA(e,s)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(no(r,this.value)):r!==null&&da(this.value)===da(r)&&this.matchesComparison(no(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qr extends Y0{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new Qr(e,r)}matches(e){return K0(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function K0(i){return i.op==="and"}function X0(i){return fA(i)&&K0(i)}function fA(i){for(const e of i.filters)if(e instanceof Qr)return!1;return!0}function Bd(i){if(i instanceof Gt)return i.field.canonicalString()+i.op.toString()+ro(i.value);if(X0(i))return i.filters.map(e=>Bd(e)).join(",");{const e=i.filters.map(r=>Bd(r)).join(",");return`${i.op}(${e})`}}function Z0(i,e){return i instanceof Gt?function(s,o){return o instanceof Gt&&s.op===o.op&&s.field.isEqual(o.field)&&Gr(s.value,o.value)}(i,e):i instanceof Qr?function(s,o){return o instanceof Qr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,c)=>u&&Z0(f,o.filters[c]),!0):!1}(i,e):void Pe(19439)}function J0(i){return i instanceof Gt?function(r){return`${r.field.canonicalString()} ${r.op} ${ro(r.value)}`}(i):i instanceof Qr?function(r){return r.op.toString()+" {"+r.getFilters().map(J0).join(" ,")+"}"}(i):"Filter"}class hA extends Gt{constructor(e,r,s){super(e,r,s),this.key=Ne.fromName(s.referenceValue)}matches(e){const r=Ne.comparator(e.key,this.key);return this.matchesComparison(r)}}class dA extends Gt{constructor(e,r){super(e,"in",r),this.keys=W0("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class mA extends Gt{constructor(e,r){super(e,"not-in",r),this.keys=W0("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function W0(i,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(s=>Ne.fromName(s.referenceValue))}class pA extends Gt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return ym(r)&&Vl(r.arrayValue,this.value)}}class gA extends Gt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Vl(this.value.arrayValue,r)}}class yA extends Gt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Vl(this.value.arrayValue,r)}}class vA extends Gt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!ym(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Vl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,r=null,s=[],o=[],u=null,f=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=c,this.Ie=null}}function h_(i,e=null,r=[],s=[],o=null,u=null,f=null){return new _A(i,e,r,s,o,u,f)}function vm(i){const e=Be(i);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Bd(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Yc(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>ro(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>ro(s)).join(",")),e.Ie=r}return e.Ie}function _m(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!cA(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!Z0(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!f_(i.startAt,e.startAt)&&f_(i.endAt,e.endAt)}function qd(i){return Ne.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,r=null,s=[],o=[],u=null,f="F",c=null,p=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=c,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function bA(i,e,r,s,o,u,f,c){return new Xc(i,e,r,s,o,u,f,c)}function eb(i){return new Xc(i)}function d_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function EA(i){return i.collectionGroup!==null}function Sl(i){const e=Be(i);if(e.Ee===null){e.Ee=[];const r=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),r.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let c=new Yt(un.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(c=c.add(g.field))})}),c})(e).forEach(u=>{r.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Vc(u,s))}),r.has(un.keyField().canonicalString())||e.Ee.push(new Vc(un.keyField(),s))}return e.Ee}function Hr(i){const e=Be(i);return e.de||(e.de=wA(e,Sl(i))),e.de}function wA(i,e){if(i.limitType==="F")return h_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Vc(o.field,u)});const r=i.endAt?new Mc(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Mc(i.startAt.position,i.startAt.inclusive):null;return h_(i.path,i.collectionGroup,e,i.filters,i.limit,r,s)}}function Hd(i,e,r){return new Xc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function Zc(i,e){return _m(Hr(i),Hr(e))&&i.limitType===e.limitType}function tb(i){return`${vm(Hr(i))}|lt:${i.limitType}`}function Qs(i){return`Query(target=${function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(o=>J0(o)).join(", ")}]`),Yc(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(o=>ro(o)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(o=>ro(o)).join(",")),`Target(${s})`}(Hr(i))}; limitType=${i.limitType})`}function Jc(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ne.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Sl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,c,p){const g=c_(f,c,p);return f.inclusive?g<=0:g<0}(s.startAt,Sl(s),o)||s.endAt&&!function(f,c,p){const g=c_(f,c,p);return f.inclusive?g>=0:g>0}(s.endAt,Sl(s),o))}(i,e)}function TA(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function nb(i){return(e,r)=>{let s=!1;for(const o of Sl(i)){const u=SA(o,e,r);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function SA(i,e,r){const s=i.field.isKeyField()?Ne.comparator(e.key,r.key):function(u,f,c){const p=f.data.field(u),g=c.data.field(u);return p!==null&&g!==null?no(p,g):Pe(42886)}(i.field,e,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Pe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,r){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,r]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,r]);o.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[r]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ya(this.inner,(r,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return U0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=new Ct(Ne.comparator);function wi(){return AA}const rb=new Ct(Ne.comparator);function El(...i){let e=rb;for(const r of i)e=e.insert(r.key,r);return e}function ib(i){let e=rb;return i.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Za(){return Al()}function ab(){return Al()}function Al(){return new ns(i=>i.toString(),(i,e)=>i.isEqual(e))}const RA=new Ct(Ne.comparator),xA=new Yt(Ne.comparator);function We(...i){let e=xA;for(const r of i)e=e.add(r);return e}const CA=new Yt(Ge);function DA(){return CA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oc(e)?"-0":e}}function sb(i){return{integerValue:""+i}}function OA(i,e){return nA(e)?sb(e):bm(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this._=void 0}}function IA(i,e,r){return i instanceof Lc?function(o,u){const f={fields:{[B0]:{stringValue:$0},[H0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&gm(u)&&(u=Kc(u)),u&&(f.fields[q0]=u),{mapValue:f}}(r,e):i instanceof Ll?lb(i,e):i instanceof jl?ub(i,e):function(o,u){const f=ob(o,u),c=m_(f)+m_(o.Re);return $d(f)&&$d(o.Re)?sb(c):bm(o.serializer,c)}(i,e)}function NA(i,e,r){return i instanceof Ll?lb(i,e):i instanceof jl?ub(i,e):r}function ob(i,e){return i instanceof jc?function(s){return $d(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Lc extends Wc{}class Ll extends Wc{constructor(e){super(),this.elements=e}}function lb(i,e){const r=cb(e);for(const s of i.elements)r.some(o=>Gr(o,s))||r.push(s);return{arrayValue:{values:r}}}class jl extends Wc{constructor(e){super(),this.elements=e}}function ub(i,e){let r=cb(e);for(const s of i.elements)r=r.filter(o=>!Gr(o,s));return{arrayValue:{values:r}}}class jc extends Wc{constructor(e,r){super(),this.serializer=e,this.Re=r}}function m_(i){return Vt(i.integerValue||i.doubleValue)}function cb(i){return ym(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function MA(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Ll&&o instanceof Ll||s instanceof jl&&o instanceof jl?to(s.elements,o.elements,Gr):s instanceof jc&&o instanceof jc?Gr(s.Re,o.Re):s instanceof Lc&&o instanceof Lc}(i.transform,e.transform)}class VA{constructor(e,r){this.version=e,this.transformResults=r}}class _r{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _c(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ef{}function fb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Em(i.key,_r.none()):new Ul(i.key,i.data,_r.none());{const r=i.data,s=In.empty();let o=new Yt(un.comparator);for(let u of e.fields)if(!o.has(u)){let f=r.field(u);f===null&&u.length>1&&(u=u.popLast(),f=r.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new va(i.key,s,new Fn(o.toArray()),_r.none())}}function LA(i,e,r){i instanceof Ul?function(o,u,f){const c=o.value.clone(),p=g_(o.fieldTransforms,u,f.transformResults);c.setAll(p),u.convertToFoundDocument(f.version,c).setHasCommittedMutations()}(i,e,r):i instanceof va?function(o,u,f){if(!_c(o.precondition,u))return void u.convertToUnknownDocument(f.version);const c=g_(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(hb(o)),p.setAll(c),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,r):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,r)}function Rl(i,e,r,s){return i instanceof Ul?function(u,f,c,p){if(!_c(u.precondition,f))return c;const g=u.value.clone(),E=y_(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,r,s):i instanceof va?function(u,f,c,p){if(!_c(u.precondition,f))return c;const g=y_(u.fieldTransforms,p,f),E=f.data;return E.setAll(hb(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),c===null?null:c.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(d=>d.field))}(i,e,r,s):function(u,f,c){return _c(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):c}(i,e,r)}function jA(i,e){let r=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=ob(s.transform,o||null);u!=null&&(r===null&&(r=In.empty()),r.set(s.field,u))}return r||null}function p_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&to(s,o,(u,f)=>MA(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ul extends ef{constructor(e,r,s,o=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class va extends ef{constructor(e,r,s,o,u=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function hb(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);e.set(r,s)}}),e}function g_(i,e,r){const s=new Map;ht(i.length===r.length,32656,{Ve:r.length,me:i.length});for(let o=0;o<r.length;o++){const u=i[o],f=u.transform,c=e.data.field(u.field);s.set(u.field,NA(f,c,r[o]))}return s}function y_(i,e,r){const s=new Map;for(const o of i){const u=o.transform,f=r.data.field(o.field);s.set(o.field,IA(u,f,e))}return s}class Em extends ef{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kA extends ef{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,r,s,o){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&LA(u,e,s[o])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Rl(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Rl(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=ab();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let c=this.applyToLocalView(f,u.mutatedFields);c=r.has(o.key)?null:c;const p=fb(f,c);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument($e.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),We())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(r,s)=>p_(r,s))&&to(this.baseMutations,e.baseMutations,(r,s)=>p_(r,s))}}class wm{constructor(e,r,s,o){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=o}static from(e,r,s){ht(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return RA}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new wm(e,r,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,it;function $A(i){switch(i){case de.OK:return Pe(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Pe(15467,{code:i})}}function db(i){if(i===void 0)return Ei("GRPC error has no .code"),de.UNKNOWN;switch(i){case zt.OK:return de.OK;case zt.CANCELLED:return de.CANCELLED;case zt.UNKNOWN:return de.UNKNOWN;case zt.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case zt.INTERNAL:return de.INTERNAL;case zt.UNAVAILABLE:return de.UNAVAILABLE;case zt.UNAUTHENTICATED:return de.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case zt.NOT_FOUND:return de.NOT_FOUND;case zt.ALREADY_EXISTS:return de.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return de.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case zt.ABORTED:return de.ABORTED;case zt.OUT_OF_RANGE:return de.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return de.UNIMPLEMENTED;case zt.DATA_LOSS:return de.DATA_LOSS;default:return Pe(39323,{code:i})}}(it=zt||(zt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=new aa([4294967295,4294967295],0);function v_(i){const e=j0().encode(i),r=new C0;return r.update(e),new Uint8Array(r.digest())}function __(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new aa([r,s],0),new aa([o,u],0)]}class Tm{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new wl(`Invalid padding: ${r}`);if(s<0)throw new wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${s}`);if(e.length===0&&r!==0)throw new wl(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=aa.fromNumber(this.pe)}we(e,r,s){let o=e.add(r.multiply(aa.fromNumber(s)));return o.compare(BA)===1&&(o=new aa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=v_(e),[s,o]=__(r);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,r,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Tm(u,o,r);return s.forEach(c=>f.insert(c)),f}insert(e){if(this.pe===0)return;const r=v_(e),[s,o]=__(r);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const r=Math.floor(e/8),s=e%8;this.bitmap[r]|=1<<s}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,r,s,o,u){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const o=new Map;return o.set(e,zl.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new tf($e.min(),o,new Ct(Ge),wi(),We())}}class zl{constructor(e,r,s,o,u){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new zl(s,r,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,r,s,o){this.De=e,this.removedTargetIds=r,this.key=s,this.ve=o}}class mb{constructor(e,r){this.targetId=e,this.Ce=r}}class pb{constructor(e,r,s=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=o}}class b_{constructor(){this.Fe=0,this.Me=E_(),this.xe=cn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=We(),r=We(),s=We();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:r=r.add(o);break;case 1:s=s.add(o);break;default:Pe(38017,{changeType:u})}}),new zl(this.xe,this.Oe,e,r,s)}Qe(){this.Ne=!1,this.Me=E_()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ht(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class qA{constructor(e){this.ze=e,this.je=new Map,this.He=wi(),this.Je=cc(),this.Ye=cc(),this.Ze=new Ct(Ge)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const s=this.rt(r);switch(e.state){case 0:this.it(r)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(r);break;case 3:this.it(r)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),s.ke(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((s,o)=>{this.it(o)&&r(o)})}ot(e){const r=e.targetId,s=e.Ce.count,o=this._t(r);if(o){const u=o.target;if(qd(u))if(s===0){const f=new Ne(u.path);this.tt(r,f,vn.newNoDocument(f,$e.min()))}else ht(s===1,20013,{expectedCount:s});else{const f=this.ut(r);if(f!==s){const c=this.ct(e),p=c?this.lt(c,e,f):1;if(p!==0){this.st(r);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,g)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=r;let f,c;try{f=ha(s).toUint8Array()}catch(p){if(p instanceof z0)return eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{c=new Tm(f,o,u)}catch(p){return eo(p instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return c.pe===0?null:c}lt(e,r,s){return r.Ce.count===s-this.Tt(e,r.targetId)?0:2}Tt(e,r){const s=this.ze.getRemoteKeysForTarget(r);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),c=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(c)||(this.tt(r,u,null),o++)}),o}It(e){const r=new Map;this.je.forEach((u,f)=>{const c=this._t(f);if(c){if(u.current&&qd(c.target)){const p=new Ne(c.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,vn.newNoDocument(p,e))}u.Le&&(r.set(f,u.qe()),u.Qe())}});let s=We();this.Ye.forEach((u,f)=>{let c=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new tf(e,r,this.Ze,this.He,s);return this.He=wi(),this.Je=cc(),this.Ye=cc(),this.Ze=new Ct(Ge),o}et(e,r){if(!this.it(e))return;const s=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,s),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,r)?o.$e(r,1):o.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),s&&(this.He=this.He.insert(r,s))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new b_,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new Yt(Ge),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new Yt(Ge),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||be("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new b_),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function cc(){return new Ct(Ne.comparator)}function E_(){return new Ct(Ne.comparator)}const HA={asc:"ASCENDING",desc:"DESCENDING"},FA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GA={and:"AND",or:"OR"};class QA{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Fd(i,e){return i.useProto3Json||Yc(e)?e:{value:e}}function kc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function YA(i,e){return kc(i,e.toTimestamp())}function Fr(i){return ht(!!i,49232),$e.fromTimestamp(function(r){const s=fa(r);return new Qt(s.seconds,s.nanos)}(i))}function Sm(i,e){return Gd(i,e).canonicalString()}function Gd(i,e){const r=function(o){return new Rt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?r:r.child(e)}function yb(i){const e=Rt.fromString(i);return ht(wb(e),10190,{key:e.toString()}),e}function Qd(i,e){return Sm(i.databaseId,e.path)}function Sd(i,e){const r=yb(e);if(r.get(1)!==i.databaseId.projectId)throw new Oe(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Oe(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new Ne(_b(r))}function vb(i,e){return Sm(i.databaseId,e)}function KA(i){const e=yb(i);return e.length===4?Rt.emptyPath():_b(e)}function Yd(i){return new Rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function _b(i){return ht(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function w_(i,e,r){return{name:Qd(i,e),fields:r.value.mapValue.fields}}function XA(i,e){let r;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Pe(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(ht(E===void 0||typeof E=="string",58123),cn.fromBase64String(E||"")):(ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),cn.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,c=f&&function(g){const E=g.code===void 0?de.UNKNOWN:db(g.code);return new Oe(E,g.message||"")}(f);r=new pb(s,o,u,c||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sd(i,s.document.name),u=Fr(s.document.updateTime),f=s.document.createTime?Fr(s.document.createTime):$e.min(),c=new In({mapValue:{fields:s.document.fields}}),p=vn.newFoundDocument(o,u,f,c),g=s.targetIds||[],E=s.removedTargetIds||[];r=new bc(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Sd(i,s.document),u=s.readTime?Fr(s.readTime):$e.min(),f=vn.newNoDocument(o,u),c=s.removedTargetIds||[];r=new bc([],c,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Sd(i,s.document),u=s.removedTargetIds||[];r=new bc([],u,o,null)}else{if(!("filter"in e))return Pe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new zA(o,u),c=s.targetId;r=new mb(c,f)}}return r}function ZA(i,e){let r;if(e instanceof Ul)r={update:w_(i,e.key,e.value)};else if(e instanceof Em)r={delete:Qd(i,e.key)};else if(e instanceof va)r={update:w_(i,e.key,e.data),updateMask:sR(e.fieldMask)};else{if(!(e instanceof kA))return Pe(16599,{ft:e.type});r={verify:Qd(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const c=f.transform;if(c instanceof Lc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ll)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof jl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof jc)return{fieldPath:f.field.canonicalString(),increment:c.Re};throw Pe(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(r.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:YA(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Pe(27497)}(i,e.precondition)),r}function JA(i,e){return i&&i.length>0?(ht(e!==void 0,14353),i.map(r=>function(o,u){let f=o.updateTime?Fr(o.updateTime):Fr(u);return f.isEqual($e.min())&&(f=Fr(u)),new VA(f,o.transformResults||[])}(r,e))):[]}function WA(i,e){return{documents:[vb(i,e.path)]}}function eR(i,e){const r={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=vb(i,o);const u=function(g){if(g.length!==0)return Eb(Qr.create(g,"and"))}(e.filters);u&&(r.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(y){return{field:Ys(y.field),direction:rR(y.dir)}}(E))}(e.orderBy);f&&(r.structuredQuery.orderBy=f);const c=Fd(i,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:r,parent:o}}function tR(i){let e=KA(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let o=null;if(s>0){ht(s===1,65062);const E=r.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];r.where&&(u=function(d){const y=bb(d);return y instanceof Qr&&X0(y)?y.getFilters():[y]}(r.where));let f=[];r.orderBy&&(f=function(d){return d.map(y=>function(v){return new Vc(Ks(v.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(y))}(r.orderBy));let c=null;r.limit&&(c=function(d){let y;return y=typeof d=="object"?d.value:d,Yc(y)?null:y}(r.limit));let p=null;r.startAt&&(p=function(d){const y=!!d.before,b=d.values||[];return new Mc(b,y)}(r.startAt));let g=null;return r.endAt&&(g=function(d){const y=!d.before,b=d.values||[];return new Mc(b,y)}(r.endAt)),bA(e,o,f,u,c,"F",p,g)}function nR(i,e){const r=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:o})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function bb(i){return i.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Ks(r.unaryFilter.field);return Gt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ks(r.unaryFilter.field);return Gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ks(r.unaryFilter.field);return Gt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ks(r.unaryFilter.field);return Gt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(i):i.fieldFilter!==void 0?function(r){return Gt.create(Ks(r.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(r){return Qr.create(r.compositeFilter.filters.map(s=>bb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(r.compositeFilter.op))}(i):Pe(30097,{filter:i})}function rR(i){return HA[i]}function iR(i){return FA[i]}function aR(i){return GA[i]}function Ys(i){return{fieldPath:i.canonicalString()}}function Ks(i){return un.fromServerFormat(i.fieldPath)}function Eb(i){return i instanceof Gt?function(r){if(r.op==="=="){if(u_(r.value))return{unaryFilter:{field:Ys(r.field),op:"IS_NAN"}};if(l_(r.value))return{unaryFilter:{field:Ys(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(u_(r.value))return{unaryFilter:{field:Ys(r.field),op:"IS_NOT_NAN"}};if(l_(r.value))return{unaryFilter:{field:Ys(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ys(r.field),op:iR(r.op),value:r.value}}}(i):i instanceof Qr?function(r){const s=r.getFilters().map(o=>Eb(o));return s.length===1?s[0]:{compositeFilter:{op:aR(r.op),filters:s}}}(i):Pe(54877,{filter:i})}function sR(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function wb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,r,s,o,u=$e.min(),f=$e.min(),c=cn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=c,this.expectedCount=p}withSequenceNumber(e){return new na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.wt=e}}function lR(i){const e=tR({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Hd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.yn=new cR}addToCollectionParentIndex(e,r){return this.yn.add(r),fe.resolve()}getCollectionParents(e,r){return fe.resolve(this.yn.getEntries(r))}addFieldIndex(e,r){return fe.resolve()}deleteFieldIndex(e,r){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,r){return fe.resolve()}getDocumentsMatchingTarget(e,r){return fe.resolve(null)}getIndexType(e,r){return fe.resolve(0)}getFieldIndexes(e,r){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,r){return fe.resolve(ca.min())}getMinOffsetFromCollectionGroup(e,r){return fe.resolve(ca.min())}updateCollectionGroup(e,r,s){return fe.resolve()}updateIndexEntries(e,r){return fe.resolve()}}class cR{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r]||new Yt(Rt.comparator),u=!o.has(s);return this.index[r]=o.add(s),u}has(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Yt(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Tb=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(Tb,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new io(0)}static ir(){return new io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="LruGarbageCollector",fR=1048576;function A_([i,e],[r,s]){const o=Ge(i,r);return o===0?Ge(e,s):o}class hR{constructor(e){this.cr=e,this.buffer=new Yt(A_),this.lr=0}hr(){return++this.lr}Pr(e){const r=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();A_(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class dR{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){be(S_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){fo(r)?be(S_,"Ignoring IndexedDB error during garbage collection: ",r):await co(r)}await this.Ir(3e5)})}}class mR{constructor(e,r){this.Er=e,this.params=r}calculateTargetCount(e,r){return this.Er.dr(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(r===0)return fe.resolve(Qc.le);const s=new hR(r);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.Er.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.Er.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(T_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T_):this.Rr(e,r))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,r){let s,o,u,f,c,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),o=this.params.maximumSequenceNumbersToCollect):o=d,f=Date.now(),this.nthSequenceNumber(e,o))).next(d=>(s=d,c=Date.now(),this.removeTargets(e,s,r))).next(d=>(u=d,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(d=>(g=Date.now(),Gs()<=at.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(c-f)+`ms
	Removed ${u} targets in `+(p-c)+`ms
	Removed ${d} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:d})))}}function pR(i,e){return new mR(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.changes=new ns(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?fe.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,r,s,o){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,r))).next(o=>(s!==null&&Rl(s.mutation,o,Fn.empty(),Qt.now()),o))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,We()).next(()=>s))}getLocalViewOfDocuments(e,r,s=We()){const o=Za();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,s).next(u=>{let f=El();return u.forEach((c,p)=>{f=f.insert(c,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,r){const s=Za();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,We()))}populateOverlays(e,r,s){const o=[];return s.forEach(u=>{r.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,c)=>{r.set(f,c)})})}computeViews(e,r,s,o){let u=wi();const f=Al(),c=function(){return Al()}();return r.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof va)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Rl(E.mutation,g,E.mutation.getFieldMask(),Qt.now())):f.set(g.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),r.forEach((g,E)=>{var d;return c.set(g,new yR(E,(d=f.get(g))!==null&&d!==void 0?d:null))}),c))}recalculateAndSaveOverlays(e,r){const s=Al();let o=new Ct((f,c)=>f-c),u=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(f=>{for(const c of f)c.keys().forEach(p=>{const g=r.get(p);if(g===null)return;let E=s.get(p)||Fn.empty();E=c.applyToLocalView(g,E),s.set(p,E);const d=(o.get(c.batchId)||We()).add(p);o=o.insert(c.batchId,d)})}).next(()=>{const f=[],c=o.getReverseIterator();for(;c.hasNext();){const p=c.getNext(),g=p.key,E=p.value,d=ab();E.forEach(y=>{if(!u.has(y)){const b=fb(r.get(y),s.get(y));b!==null&&d.set(y,b),u=u.add(y)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,d))}return fe.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,o){return function(f){return Ne.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):EA(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,o):this.getDocumentsMatchingCollectionQuery(e,r,s,o)}getNextDocuments(e,r,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,o-u.size):fe.resolve(Za());let c=Il,p=u;return f.next(g=>fe.forEach(g,(E,d)=>(c<d.largestBatchId&&(c=d.largestBatchId),u.get(E)?fe.resolve():this.remoteDocumentCache.getEntry(e,E).next(y=>{p=p.insert(E,y)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,We())).next(E=>({batchId:c,changes:ib(E)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ne(r)).next(s=>{let o=El();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,r,s,o){const u=r.collectionGroup;let f=El();return this.indexManager.getCollectionParents(e,u).next(c=>fe.forEach(c,p=>{const g=function(d,y){return new Xc(y,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((d,y)=>{f=f.insert(d,y)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,r,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,vn.newInvalidDocument(E)))});let c=El();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Rl(E.mutation,g,Fn.empty(),Qt.now()),Jc(r,g)&&(c=c.insert(p,g))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,r){return fe.resolve(this.Fr.get(r))}saveBundleMetadata(e,r){return this.Fr.set(r.id,function(o){return{id:o.id,version:o.version,createTime:Fr(o.createTime)}}(r)),fe.resolve()}getNamedQuery(e,r){return fe.resolve(this.Mr.get(r))}saveNamedQuery(e,r){return this.Mr.set(r.name,function(o){return{name:o.name,query:lR(o.bundledQuery),readTime:Fr(o.readTime)}}(r)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this.overlays=new Ct(Ne.comparator),this.Or=new Map}getOverlay(e,r){return fe.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Za();return fe.forEach(r,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((o,u)=>{this.St(e,r,u)}),fe.resolve()}removeOverlaysForBatchId(e,r,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),fe.resolve()}getOverlaysForCollection(e,r,s){const o=Za(),u=r.length+1,f=new Ne(r.child("")),c=this.overlays.getIteratorFrom(f);for(;c.hasNext();){const p=c.getNext().value,g=p.getKey();if(!r.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return fe.resolve(o)}getOverlaysForCollectionGroup(e,r,s,o){let u=new Ct((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===r&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Za(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const c=Za(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>c.set(g,E)),!(c.size()>=o)););return fe.resolve(c)}St(e,r,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new UA(r,s));let u=this.Or.get(r);u===void 0&&(u=We(),this.Or.set(r,u)),this.Or.set(r,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this.Nr=new Yt(en.Br),this.Lr=new Yt(en.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,r){const s=new en(e,r);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Qr(new en(e,r))}$r(e,r){e.forEach(s=>this.removeReference(s,r))}Ur(e){const r=new Ne(new Rt([])),s=new en(r,e),o=new en(r,e+1),u=[];return this.Lr.forEachInRange([s,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const r=new Ne(new Rt([])),s=new en(r,e),o=new en(r,e+1);let u=We();return this.Lr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const r=new en(e,0),s=this.Nr.firstAfterOrEqual(r);return s!==null&&e.isEqual(s.key)}}class en{constructor(e,r){this.key=e,this.Gr=r}static Br(e,r){return Ne.comparator(e.key,r.key)||Ge(e.Gr,r.Gr)}static kr(e,r){return Ge(e.Gr,r.Gr)||Ne.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Yt(en.Br)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new PA(u,r,s,o);this.mutationQueue.push(f);for(const c of o)this.zr=this.zr.add(new en(c.key,u)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return fe.resolve(f)}lookupMutationBatch(e,r){return fe.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(e,r){const s=r+1,o=this.Hr(s),u=o<0?0:o;return fe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?pm:this.Jn-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new en(r,0),o=new en(r,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],f=>{const c=this.jr(f.Gr);u.push(c)}),fe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Yt(Ge);return r.forEach(o=>{const u=new en(o,0),f=new en(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],c=>{s=s.add(c.Gr)})}),fe.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,o=s.length+1;let u=s;Ne.isDocumentKey(u)||(u=u.child(""));const f=new en(new Ne(u),0);let c=new Yt(Ge);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(c=c.add(p.Gr)),!0)},f),fe.resolve(this.Jr(c))}Jr(e){const r=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&r.push(o)}),r}removeMutationBatch(e,r){ht(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return fe.forEach(r.mutations,o=>{const u=new en(o.key,r.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,r){const s=new en(r,0),o=this.zr.firstAfterOrEqual(s);return fe.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Yr(e,r){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const r=this.Hr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.Zr=e,this.docs=function(){return new Ct(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,o=this.docs.get(s),u=o?o.size:0,f=this.Zr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return fe.resolve(s?s.document.mutableCopy():vn.newInvalidDocument(r))}getEntries(e,r){let s=wi();return r.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():vn.newInvalidDocument(o))}),fe.resolve(s)}getDocumentsMatchingQuery(e,r,s,o){let u=wi();const f=r.path,c=new Ne(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(c);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||JS(ZS(E),s)<=0||(o.has(E.key)||Jc(r,E))&&(u=u.insert(E.key,E.mutableCopy()))}return fe.resolve(u)}getAllFromCollectionGroup(e,r,s,o){Pe(9500)}Xr(e,r){return fe.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new SR(this)}getSize(e){return fe.resolve(this.size)}}class SR extends gR{constructor(e){super(),this.vr=e}applyChanges(e){const r=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?r.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),fe.waitFor(r)}getFromCache(e,r){return this.vr.getEntry(e,r)}getAllFromCache(e,r){return this.vr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.persistence=e,this.ei=new ns(r=>vm(r),_m),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.ti=0,this.ni=new Am,this.targetCount=0,this.ri=io.rr()}forEachTarget(e,r){return this.ei.forEach((s,o)=>r(o)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.ti&&(this.ti=r),fe.resolve()}ar(e){this.ei.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ri=new io(r),this.highestTargetId=r),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,r){return this.ar(r),this.targetCount+=1,fe.resolve()}updateTargetData(e,r){return this.ar(r),fe.resolve()}removeTargetData(e,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,r,s){let o=0;const u=[];return this.ei.forEach((f,c)=>{c.sequenceNumber<=r&&s.get(c.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),fe.waitFor(u).next(()=>o)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,r){const s=this.ei.get(r)||null;return fe.resolve(s)}addMatchingKeys(e,r,s){return this.ni.qr(r,s),fe.resolve()}removeMatchingKeys(e,r,s){this.ni.$r(r,s);const o=this.persistence.referenceDelegate,u=[];return o&&r.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),fe.waitFor(u)}removeMatchingKeysForTargetId(e,r){return this.ni.Ur(r),fe.resolve()}getMatchingKeysForTargetId(e,r){const s=this.ni.Wr(r);return fe.resolve(s)}containsKey(e,r){return fe.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,r){this.ii={},this.overlays={},this.si=new Qc(0),this.oi=!1,this.oi=!0,this._i=new ER,this.referenceDelegate=e(this),this.ai=new AR(this),this.indexManager=new uR,this.remoteDocumentCache=function(o){return new TR(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new oR(r),this.ci=new _R(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new bR,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.ii[e.toKey()];return s||(s=new wR(r,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,r,s){be("MemoryPersistence","Starting transaction:",e);const o=new RR(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,r){return fe.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,r)))}}class RR extends eA{constructor(e){super(),this.currentSequenceNumber=e}}class Rm{constructor(e){this.persistence=e,this.Ti=new Am,this.Ii=null}static Ei(e){return new Rm(e)}get di(){if(this.Ii)return this.Ii;throw Pe(60996)}addReference(e,r,s){return this.Ti.addReference(s,r),this.di.delete(s.toString()),fe.resolve()}removeReference(e,r,s){return this.Ti.removeReference(s,r),this.di.add(s.toString()),fe.resolve()}markPotentiallyOrphaned(e,r){return this.di.add(r.toString()),fe.resolve()}removeTarget(e,r){this.Ti.Ur(r.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(e,r))}li(){this.Ii=new Set}hi(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.di,s=>{const o=Ne.fromPath(s);return this.Ai(e,o).next(u=>{u||r.removeEntry(o,$e.min())})}).next(()=>(this.Ii=null,r.apply(e)))}updateLimboDocument(e,r){return this.Ai(e,r).next(s=>{s?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(e){return 0}Ai(e,r){return fe.or([()=>fe.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Pi(e,r)])}}class Pc{constructor(e,r){this.persistence=e,this.Ri=new ns(s=>rA(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=pR(this,r)}static Ei(e,r){return new Pc(e,r)}li(){}hi(e){return fe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}dr(e){const r=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>r.next(o=>s+o))}Vr(e){let r=0;return this.Ar(e,s=>{r++}).next(()=>r)}Ar(e,r){return fe.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(u=>u?fe.resolve():r(o)))}removeTargets(e,r,s){return this.persistence.getTargetCache().removeTargets(e,r,s)}removeOrphanedDocuments(e,r){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,f=>this.gr(e,f,r).next(c=>{c||(s++,u.removeEntry(f,$e.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,r){return this.Ri.set(r,e.currentSequenceNumber),fe.resolve()}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,r,s){return this.Ri.set(s,e.currentSequenceNumber),fe.resolve()}removeReference(e,r,s){return this.Ri.set(s,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,r){return this.Ri.set(r,e.currentSequenceNumber),fe.resolve()}ui(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=yc(e.data.value)),r}gr(e,r,s){return fe.or([()=>this.persistence.Pi(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const o=this.Ri.get(r);return fe.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,r,s,o){this.targetId=e,this.fromCache=r,this.ls=s,this.hs=o}static Ps(e,r){let s=We(),o=We();for(const u of r.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new xm(e,r.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return TT()?8:tA(ET())>0?6:4}()}initialize(e,r){this.As=e,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(e,r,s,o){const u={result:null};return this.Rs(e,r).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(e,r,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new xR;return this.fs(e,r,f).next(c=>{if(u.result=c,this.Is)return this.gs(e,r,f,c.size)})}).next(()=>u.result)}gs(e,r,s,o){return s.documentReadCount<this.Es?(Gs()<=at.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",Qs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),fe.resolve()):(Gs()<=at.DEBUG&&be("QueryEngine","Query:",Qs(r),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Gs()<=at.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",Qs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(r))):fe.resolve())}Rs(e,r){if(d_(r))return fe.resolve(null);let s=Hr(r);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(r.limit!==null&&o===1&&(r=Hd(r,null,"F"),s=Hr(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=We(...u);return this.As.getDocuments(e,f).next(c=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.ps(r,c);return this.ys(r,g,f,p.readTime)?this.Rs(e,Hd(r,null,"F")):this.ws(e,g,r,p)}))})))}Vs(e,r,s,o){return d_(r)||o.isEqual($e.min())?fe.resolve(null):this.As.getDocuments(e,s).next(u=>{const f=this.ps(r,u);return this.ys(r,f,s,o)?fe.resolve(null):(Gs()<=at.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qs(r)),this.ws(e,f,r,XS(o,Il)).next(c=>c))})}ps(e,r){let s=new Yt(nb(e));return r.forEach((o,u)=>{Jc(e,u)&&(s=s.add(u))}),s}ys(e,r,s,o){if(e.limit===null)return!1;if(s.size!==r.size)return!0;const u=e.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,r,s){return Gs()<=at.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Qs(r)),this.As.getDocumentsMatchingQuery(e,r,ca.min(),s)}ws(e,r,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(u=>(r.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="LocalStore",DR=3e8;class OR{constructor(e,r,s,o){this.persistence=e,this.bs=r,this.serializer=o,this.Ss=new Ct(Ge),this.Ds=new ns(u=>vm(u),_m),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vR(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ss))}}function IR(i,e,r,s){return new OR(i,e,r,s)}async function Ab(i,e){const r=Be(i);return await r.persistence.runTransaction("Handle user change","readonly",s=>{let o;return r.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,r.Fs(e),r.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],c=[];let p=We();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){c.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return r.localDocuments.getDocuments(s,p).next(g=>({Ms:g,removedBatchIds:f,addedBatchIds:c}))})})}function NR(i,e){const r=Be(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=r.Cs.newChangeBuffer({trackRemovals:!0});return function(c,p,g,E){const d=g.batch,y=d.keys();let b=fe.resolve();return y.forEach(v=>{b=b.next(()=>E.getEntry(p,v)).next(_=>{const A=g.docVersions.get(v);ht(A!==null,48541),_.version.compareTo(A)<0&&(d.applyToRemoteDocument(_,g),_.isValidDocument()&&(_.setReadTime(g.commitVersion),E.addEntry(_)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(p,d))}(r,s,e,u).next(()=>u.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(c){let p=We();for(let g=0;g<c.mutationResults.length;++g)c.mutationResults[g].transformResults.length>0&&(p=p.add(c.batch.mutations[g].key));return p}(e))).next(()=>r.localDocuments.getDocuments(s,o))})}function Rb(i){const e=Be(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.ai.getLastRemoteSnapshotVersion(r))}function MR(i,e){const r=Be(i),s=e.snapshotVersion;let o=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=r.Cs.newChangeBuffer({trackRemovals:!0});o=r.Ss;const c=[];e.targetChanges.forEach((E,d)=>{const y=o.get(d);if(!y)return;c.push(r.ai.removeMatchingKeys(u,E.removedDocuments,d).next(()=>r.ai.addMatchingKeys(u,E.addedDocuments,d)));let b=y.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(d)!==null?b=b.withResumeToken(cn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):E.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(E.resumeToken,s)),o=o.insert(d,b),function(_,A,w){return _.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=DR?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(y,b,E)&&c.push(r.ai.updateTargetData(u,b))});let p=wi(),g=We();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(u,E))}),c.push(VR(u,f,e.documentUpdates).next(E=>{p=E.xs,g=E.Os})),!s.isEqual($e.min())){const E=r.ai.getLastRemoteSnapshotVersion(u).next(d=>r.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));c.push(E)}return fe.waitFor(c).next(()=>f.apply(u)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(r.Ss=o,u))}function VR(i,e,r){let s=We(),o=We();return r.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=wi();return r.forEach((c,p)=>{const g=u.get(c);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(c)),p.isNoDocument()&&p.version.isEqual($e.min())?(e.removeEntry(c,p.readTime),f=f.insert(c,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(c,p)):be(Cm,"Ignoring outdated watch update for ",c,". Current version:",g.version," Watch version:",p.version)}),{xs:f,Os:o}})}function LR(i,e){const r=Be(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=pm),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function jR(i,e){const r=Be(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return r.ai.getTargetData(s,e).next(u=>u?(o=u,fe.resolve(o)):r.ai.allocateTargetId(s).next(f=>(o=new na(e,f,"TargetPurposeListen",s.currentSequenceNumber),r.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=r.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(s.targetId,s),r.Ds.set(e,s.targetId)),s})}async function Kd(i,e,r){const s=Be(i),o=s.Ss.get(e),u=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!fo(f))throw f;be(Cm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function R_(i,e,r){const s=Be(i);let o=$e.min(),u=We();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const d=Be(p),y=d.Ds.get(E);return y!==void 0?fe.resolve(d.Ss.get(y)):d.ai.getTargetData(g,E)}(s,f,Hr(e)).next(c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,c.targetId).next(p=>{u=p})}).next(()=>s.bs.getDocumentsMatchingQuery(f,e,r?o:$e.min(),r?u:We())).next(c=>(kR(s,TA(e),c),{documents:c,Ns:u})))}function kR(i,e,r){let s=i.vs.get(e)||$e.min();r.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.vs.set(e,s)}class x_{constructor(){this.activeTargetIds=DA()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PR{constructor(){this.So=new x_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e,r=!0){return r&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,r,s){this.Do[e]=r}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new x_,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="ConnectivityMonitor";class D_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){be(C_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){be(C_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc=null;function Xd(){return fc===null?fc=function(){return 268435456+Math.round(2147483648*Math.random())}():fc++,"0x"+fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="RestConnection",zR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $R{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===Ic?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,r,s,o,u){const f=Xd(),c=this.$o(e,r.toUriEncodedString());be(Ad,`Sending RPC '${e}' ${f}:`,c,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,o,u),this.Ko(e,c,p,s).then(g=>(be(Ad,`Received RPC '${e}' ${f}: `,g),g),g=>{throw eo(Ad,`RPC '${e}' ${f} failed with error: `,g,"url: ",c,"request:",s),g})}Wo(e,r,s,o,u,f){return this.Qo(e,r,s,o,u)}Uo(e,r,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}$o(e,r){const s=zR[e];return`${this.Lo}/v1/${r}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class qR extends $R{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,r,s,o){const u=Xd();return new Promise((f,c)=>{const p=new D0;p.setWithCredentials(!0),p.listenOnce(O0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case gc.NO_ERROR:const E=p.getResponseJson();be(gn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case gc.TIMEOUT:be(gn,`RPC '${e}' ${u} timed out`),c(new Oe(de.DEADLINE_EXCEEDED,"Request time out"));break;case gc.HTTP_ERROR:const d=p.getStatus();if(be(gn,`RPC '${e}' ${u} failed with status:`,d,"response text:",p.getResponseText()),d>0){let y=p.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y==null?void 0:y.error;if(b&&b.status&&b.message){const v=function(A){const w=A.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(w)>=0?w:de.UNKNOWN}(b.status);c(new Oe(v,b.message))}else c(new Oe(de.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new Oe(de.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{s_:e,streamId:u,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{be(gn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);be(gn,`RPC '${e}' ${u} sending request:`,o),p.send(r,"POST",g,s,15)})}a_(e,r,s){const o=Xd(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=M0(),c=N0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,r,s),p.encodeInitMessageHeaders=!0;const E=u.join("");be(gn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const d=f.createWebChannel(E,p);let y=!1,b=!1;const v=new BR({Go:A=>{b?be(gn,`Not sending because RPC '${e}' stream ${o} is closed:`,A):(y||(be(gn,`Opening RPC '${e}' stream ${o} transport.`),d.open(),y=!0),be(gn,`RPC '${e}' stream ${o} sending:`,A),d.send(A))},zo:()=>d.close()}),_=(A,w,R)=>{A.listen(w,D=>{try{R(D)}catch(V){setTimeout(()=>{throw V},0)}})};return _(d,bl.EventType.OPEN,()=>{b||(be(gn,`RPC '${e}' stream ${o} transport opened.`),v.t_())}),_(d,bl.EventType.CLOSE,()=>{b||(b=!0,be(gn,`RPC '${e}' stream ${o} transport closed`),v.r_())}),_(d,bl.EventType.ERROR,A=>{b||(b=!0,eo(gn,`RPC '${e}' stream ${o} transport errored. Name:`,A.name,"Message:",A.message),v.r_(new Oe(de.UNAVAILABLE,"The operation could not be completed")))}),_(d,bl.EventType.MESSAGE,A=>{var w;if(!b){const R=A.data[0];ht(!!R,16349);const D=R,V=(D==null?void 0:D.error)||((w=D[0])===null||w===void 0?void 0:w.error);if(V){be(gn,`RPC '${e}' stream ${o} received error:`,V);const j=V.status;let L=function(x){const O=zt[x];if(O!==void 0)return db(O)}(j),I=V.message;L===void 0&&(L=de.INTERNAL,I="Unknown error status: "+j+" with message "+V.message),b=!0,v.r_(new Oe(L,I)),d.close()}else be(gn,`RPC '${e}' stream ${o} received:`,R),v.i_(R)}}),_(c,I0.STAT_EVENT,A=>{A.stat===Pd.PROXY?be(gn,`RPC '${e}' stream ${o} detected buffering proxy`):A.stat===Pd.NOPROXY&&be(gn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{v.n_()},0),v}}function Rd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(i){return new QA(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,r,s=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=r,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const r=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,r-s);o>0&&be("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="PersistentStream";class Cb{constructor(e,r,s,o,u,f,c,p){this.bi=e,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=c,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new xb(e,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():r&&r.code===de.RESOURCE_EXHAUSTED?(Ei(r.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===r&&this.B_(s,o)},s=>{e(()=>{const o=new Oe(de.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,r){const s=this.N_(this.m_);this.stream=this.k_(e,r),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return be(O_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return r=>{this.bi.enqueueAndForget(()=>this.m_===e?r():(be(O_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HR extends Cb{constructor(e,r,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,o,f),this.serializer=u}k_(e,r){return this.connection.a_("Listen",e,r)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const r=XA(this.serializer,e),s=function(u){if(!("targetChange"in u))return $e.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?$e.min():f.readTime?Fr(f.readTime):$e.min()}(e);return this.listener.Q_(r,s)}U_(e){const r={};r.database=Yd(this.serializer),r.addTarget=function(u,f){let c;const p=f.target;if(c=qd(p)?{documents:WA(u,p)}:{query:eR(u,p).gt},c.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){c.resumeToken=gb(u,f.resumeToken);const g=Fd(u,f.expectedCount);g!==null&&(c.expectedCount=g)}else if(f.snapshotVersion.compareTo($e.min())>0){c.readTime=kc(u,f.snapshotVersion.toTimestamp());const g=Fd(u,f.expectedCount);g!==null&&(c.expectedCount=g)}return c}(this.serializer,e);const s=nR(this.serializer,e);s&&(r.labels=s),this.F_(r)}K_(e){const r={};r.database=Yd(this.serializer),r.removeTarget=e,this.F_(r)}}class FR extends Cb{constructor(e,r,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,r){return this.connection.a_("Write",e,r)}q_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const r=JA(e.writeResults,e.commitTime),s=Fr(e.commitTime);return this.listener.j_(s,r)}H_(){const e={};e.database=Yd(this.serializer),this.F_(e)}G_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>ZA(this.serializer,s))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{}class QR extends GR{constructor(e,r,s,o){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new Oe(de.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,r,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(e,Gd(r,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Oe(de.UNKNOWN,u.toString())})}Wo(e,r,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,c])=>this.connection.Wo(e,Gd(r,s),o,f,c,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Oe(de.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class YR{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ei(r),this.ea=!1):be("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="RemoteStore";class KR{constructor(e,r,s,o,u){this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{s.enqueueAndForget(async()=>{rs(this)&&(be(Wa,"Restarting streams for network reachability change."),await async function(p){const g=Be(p);g.aa.add(4),await $l(g),g.la.set("Unknown"),g.aa.delete(4),await rf(g)}(this))})}),this.la=new YR(s,o)}}async function rf(i){if(rs(i))for(const e of i.ua)await e(!0)}async function $l(i){for(const e of i.ua)await e(!1)}function Db(i,e){const r=Be(i);r._a.has(e.targetId)||(r._a.set(e.targetId,e),Nm(r)?Im(r):ho(r).b_()&&Om(r,e))}function Dm(i,e){const r=Be(i),s=ho(r);r._a.delete(e),s.b_()&&Ob(r,e),r._a.size===0&&(s.b_()?s.v_():rs(r)&&r.la.set("Unknown"))}function Om(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ho(i).U_(e)}function Ob(i,e){i.ha.Ke(e),ho(i).K_(e)}function Im(i){i.ha=new qA({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),ho(i).start(),i.la.ta()}function Nm(i){return rs(i)&&!ho(i).w_()&&i._a.size>0}function rs(i){return Be(i).aa.size===0}function Ib(i){i.ha=void 0}async function XR(i){i.la.set("Online")}async function ZR(i){i._a.forEach((e,r)=>{Om(i,e)})}async function JR(i,e){Ib(i),Nm(i)?(i.la.ia(e),Im(i)):i.la.set("Unknown")}async function WR(i,e,r){if(i.la.set("Online"),e instanceof pb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const c of u.targetIds)o._a.has(c)&&(await o.remoteSyncer.rejectListen(c,f),o._a.delete(c),o.ha.removeTarget(c))}(i,e)}catch(s){be(Wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Uc(i,s)}else if(e instanceof bc?i.ha.Xe(e):e instanceof mb?i.ha.ot(e):i.ha.nt(e),!r.isEqual($e.min()))try{const s=await Rb(i.localStore);r.compareTo(s)>=0&&await function(u,f){const c=u.ha.It(f);return c.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u._a.get(g);E&&u._a.set(g,E.withResumeToken(p.resumeToken,f))}}),c.targetMismatches.forEach((p,g)=>{const E=u._a.get(p);if(!E)return;u._a.set(p,E.withResumeToken(cn.EMPTY_BYTE_STRING,E.snapshotVersion)),Ob(u,p);const d=new na(E.target,p,g,E.sequenceNumber);Om(u,d)}),u.remoteSyncer.applyRemoteEvent(c)}(i,r)}catch(s){be(Wa,"Failed to raise snapshot:",s),await Uc(i,s)}}async function Uc(i,e,r){if(!fo(e))throw e;i.aa.add(1),await $l(i),i.la.set("Offline"),r||(r=()=>Rb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{be(Wa,"Retrying IndexedDB access"),await r(),i.aa.delete(1),await rf(i)})}function Nb(i,e){return e().catch(r=>Uc(i,r,e))}async function af(i){const e=Be(i),r=ma(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:pm;for(;ex(e);)try{const o=await LR(e.localStore,s);if(o===null){e.oa.length===0&&r.v_();break}s=o.batchId,tx(e,o)}catch(o){await Uc(e,o)}Mb(e)&&Vb(e)}function ex(i){return rs(i)&&i.oa.length<10}function tx(i,e){i.oa.push(e);const r=ma(i);r.b_()&&r.W_&&r.G_(e.mutations)}function Mb(i){return rs(i)&&!ma(i).w_()&&i.oa.length>0}function Vb(i){ma(i).start()}async function nx(i){ma(i).H_()}async function rx(i){const e=ma(i);for(const r of i.oa)e.G_(r.mutations)}async function ix(i,e,r){const s=i.oa.shift(),o=wm.from(s,e,r);await Nb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await af(i)}async function ax(i,e){e&&ma(i).W_&&await async function(s,o){if(function(f){return $A(f)&&f!==de.ABORTED}(o.code)){const u=s.oa.shift();ma(s).D_(),await Nb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await af(s)}}(i,e),Mb(i)&&Vb(i)}async function I_(i,e){const r=Be(i);r.asyncQueue.verifyOperationInProgress(),be(Wa,"RemoteStore received new credentials");const s=rs(r);r.aa.add(3),await $l(r),s&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.aa.delete(3),await rf(r)}async function sx(i,e){const r=Be(i);e?(r.aa.delete(2),await rf(r)):e||(r.aa.add(2),await $l(r),r.la.set("Unknown"))}function ho(i){return i.Pa||(i.Pa=function(r,s,o){const u=Be(r);return u.Y_(),new HR(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:XR.bind(null,i),Jo:ZR.bind(null,i),Zo:JR.bind(null,i),Q_:WR.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),Nm(i)?Im(i):i.la.set("Unknown")):(await i.Pa.stop(),Ib(i))})),i.Pa}function ma(i){return i.Ta||(i.Ta=function(r,s,o){const u=Be(r);return u.Y_(),new FR(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:nx.bind(null,i),Zo:ax.bind(null,i),z_:rx.bind(null,i),j_:ix.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await af(i)):(await i.Ta.stop(),i.oa.length>0&&(be(Wa,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,r,s,o,u){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new sa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,o,u){const f=Date.now()+s,c=new Mm(e,r,f,o,u);return c.start(s),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vm(i,e){if(Ei("AsyncQueue",`${e}: ${i}`),fo(i))return new Oe(de.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{static emptySet(e){return new Js(e.comparator)}constructor(e){this.comparator=e?(r,s)=>e(r,s)||Ne.comparator(r.key,s.key):(r,s)=>Ne.comparator(r.key,s.key),this.keyedMap=El(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Js)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const s=new Js;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(){this.Ia=new Ct(Ne.comparator)}track(e){const r=e.doc.key,s=this.Ia.get(r);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(r,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(r,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(r):e.type===1&&s.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):Pe(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(r,e)}da(){const e=[];return this.Ia.inorderTraversal((r,s)=>{e.push(s)}),e}}class ao{constructor(e,r,s,o,u,f,c,p,g){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=c,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,r,s,o,u){const f=[];return r.forEach(c=>{f.push({type:0,doc:c})}),new ao(e,r,Js.emptySet(r),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==s[o].type||!r[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class lx{constructor(){this.queries=M_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,s){const o=Be(r),u=o.queries;o.queries=M_(),u.forEach((f,c)=>{for(const p of c.Ra)p.onError(s)})})(this,new Oe(de.ABORTED,"Firestore shutting down"))}}function M_(){return new ns(i=>tb(i),Zc)}async function ux(i,e){const r=Be(i);let s=3;const o=e.query;let u=r.queries.get(o);u?!u.Va()&&e.ma()&&(s=2):(u=new ox,s=e.ma()?0:1);try{switch(s){case 0:u.Aa=await r.onListen(o,!0);break;case 1:u.Aa=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(f){const c=Vm(f,`Initialization of query '${Qs(e.query)}' failed`);return void e.onError(c)}r.queries.set(o,u),u.Ra.push(e),e.ga(r.onlineState),u.Aa&&e.pa(u.Aa)&&Lm(r)}async function cx(i,e){const r=Be(i),s=e.query;let o=3;const u=r.queries.get(s);if(u){const f=u.Ra.indexOf(e);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function fx(i,e){const r=Be(i);let s=!1;for(const o of e){const u=o.query,f=r.queries.get(u);if(f){for(const c of f.Ra)c.pa(o)&&(s=!0);f.Aa=o}}s&&Lm(r)}function hx(i,e,r){const s=Be(i),o=s.queries.get(e);if(o)for(const u of o.Ra)u.onError(r);s.queries.delete(e)}function Lm(i){i.fa.forEach(e=>{e.next()})}var Zd,V_;(V_=Zd||(Zd={})).ya="default",V_.Cache="cache";class dx{constructor(e,r,s){this.query=e,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ba?this.Da(e)&&(this.wa.next(e),r=!0):this.va(e,this.onlineState)&&(this.Ca(e),r=!0),this.Sa=e,r}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),r=!0),r}va(e,r){if(!e.fromCache||!this.ma())return!0;const s=r!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(e){e=ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Zd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this.key=e}}class jb{constructor(e){this.key=e}}class mx{constructor(e,r){this.query=e,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=We(),this.mutatedKeys=We(),this.Ua=nb(e),this.Ka=new Js(this.Ua)}get Wa(){return this.qa}Ga(e,r){const s=r?r.za:new N_,o=r?r.Ka:this.Ka;let u=r?r.mutatedKeys:this.mutatedKeys,f=o,c=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,d)=>{const y=o.get(E),b=Jc(this.query,d)?d:null,v=!!y&&this.mutatedKeys.has(y.key),_=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let A=!1;y&&b?y.data.isEqual(b.data)?v!==_&&(s.track({type:3,doc:b}),A=!0):this.ja(y,b)||(s.track({type:2,doc:b}),A=!0,(p&&this.Ua(b,p)>0||g&&this.Ua(b,g)<0)&&(c=!0)):!y&&b?(s.track({type:0,doc:b}),A=!0):y&&!b&&(s.track({type:1,doc:y}),A=!0,(p||g)&&(c=!0)),A&&(b?(f=f.add(b),u=_?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ka:f,za:s,ys:c,mutatedKeys:u}}ja(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((E,d)=>function(b,v){const _=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Vt:A})}};return _(b)-_(v)}(E.type,d.type)||this.Ua(E.doc,d.doc)),this.Ha(s),o=o!=null&&o;const c=r&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,g=p!==this.Qa;return this.Qa=p,f.length!==0||g?{snapshot:new ao(this.query,e.Ka,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new N_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=We(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const r=[];return e.forEach(s=>{this.$a.has(s)||r.push(new jb(s))}),this.$a.forEach(s=>{e.has(s)||r.push(new Lb(s))}),r}Xa(e){this.qa=e.Ns,this.$a=We();const r=this.Ga(e.documents);return this.applyChanges(r,!0)}eu(){return ao.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const jm="SyncEngine";class px{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class gx{constructor(e){this.key=e,this.tu=!1}}class yx{constructor(e,r,s,o,u,f){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new ns(c=>tb(c),Zc),this.iu=new Map,this.su=new Set,this.ou=new Ct(Ne.comparator),this._u=new Map,this.au=new Am,this.uu={},this.cu=new Map,this.lu=io.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function vx(i,e,r=!0){const s=Bb(i);let o;const u=s.ru.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await kb(s,e,r,!0),o}async function _x(i,e){const r=Bb(i);await kb(r,e,!0,!1)}async function kb(i,e,r,s){const o=await jR(i.localStore,Hr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,r);let c;return s&&(c=await bx(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&r&&Db(i.remoteStore,o),c}async function bx(i,e,r,s,o){i.Pu=(d,y,b)=>async function(_,A,w,R){let D=A.view.Ga(w);D.ys&&(D=await R_(_.localStore,A.query,!1).then(({documents:I})=>A.view.Ga(I,D)));const V=R&&R.targetChanges.get(A.targetId),j=R&&R.targetMismatches.get(A.targetId)!=null,L=A.view.applyChanges(D,_.isPrimaryClient,V,j);return j_(_,A.targetId,L.Ya),L.snapshot}(i,d,y,b);const u=await R_(i.localStore,e,!0),f=new mx(e,u.Ns),c=f.Ga(u.documents),p=zl.createSynthesizedTargetChangeForCurrentChange(r,s&&i.onlineState!=="Offline",o),g=f.applyChanges(c,i.isPrimaryClient,p);j_(i,r,g.Ya);const E=new px(e,r,f);return i.ru.set(e,E),i.iu.has(r)?i.iu.get(r).push(e):i.iu.set(r,[e]),g.snapshot}async function Ex(i,e,r){const s=Be(i),o=s.ru.get(e),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(f=>!Zc(f,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Kd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),r&&Dm(s.remoteStore,o.targetId),Jd(s,o.targetId)}).catch(co)):(Jd(s,o.targetId),await Kd(s.localStore,o.targetId,!0))}async function wx(i,e){const r=Be(i),s=r.ru.get(e),o=r.iu.get(s.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Dm(r.remoteStore,s.targetId))}async function Tx(i,e,r){const s=Ox(i);try{const o=await function(f,c){const p=Be(f),g=Qt.now(),E=c.reduce((b,v)=>b.add(v.key),We());let d,y;return p.persistence.runTransaction("Locally write mutations","readwrite",b=>{let v=wi(),_=We();return p.Cs.getEntries(b,E).next(A=>{v=A,v.forEach((w,R)=>{R.isValidDocument()||(_=_.add(w))})}).next(()=>p.localDocuments.getOverlayedDocuments(b,v)).next(A=>{d=A;const w=[];for(const R of c){const D=jA(R,d.get(R.key).overlayedDocument);D!=null&&w.push(new va(R.key,D,Q0(D.value.mapValue),_r.exists(!0)))}return p.mutationQueue.addMutationBatch(b,g,w,c)}).next(A=>{y=A;const w=A.applyToLocalDocumentSet(d,_);return p.documentOverlayCache.saveOverlays(b,A.batchId,w)})}).then(()=>({batchId:y.batchId,changes:ib(d)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,c,p){let g=f.uu[f.currentUser.toKey()];g||(g=new Ct(Ge)),g=g.insert(c,p),f.uu[f.currentUser.toKey()]=g}(s,o.batchId,r),await Bl(s,o.changes),await af(s.remoteStore)}catch(o){const u=Vm(o,"Failed to persist write");r.reject(u)}}async function Pb(i,e){const r=Be(i);try{const s=await MR(r.localStore,e);e.targetChanges.forEach((o,u)=>{const f=r._u.get(u);f&&(ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?ht(f.tu,14607):o.removedDocuments.size>0&&(ht(f.tu,42227),f.tu=!1))}),await Bl(r,s,e)}catch(s){await co(s)}}function L_(i,e,r){const s=Be(i);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const o=[];s.ru.forEach((u,f)=>{const c=f.view.ga(e);c.snapshot&&o.push(c.snapshot)}),function(f,c){const p=Be(f);p.onlineState=c;let g=!1;p.queries.forEach((E,d)=>{for(const y of d.Ra)y.ga(c)&&(g=!0)}),g&&Lm(p)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Sx(i,e,r){const s=Be(i);s.sharedClientState.updateQueryState(e,"rejected",r);const o=s._u.get(e),u=o&&o.key;if(u){let f=new Ct(Ne.comparator);f=f.insert(u,vn.newNoDocument(u,$e.min()));const c=We().add(u),p=new tf($e.min(),new Map,new Ct(Ge),f,c);await Pb(s,p),s.ou=s.ou.remove(u),s._u.delete(e),km(s)}else await Kd(s.localStore,e,!1).then(()=>Jd(s,e,r)).catch(co)}async function Ax(i,e){const r=Be(i),s=e.batch.batchId;try{const o=await NR(r.localStore,e);zb(r,s,null),Ub(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await Bl(r,o)}catch(o){await co(o)}}async function Rx(i,e,r){const s=Be(i);try{const o=await function(f,c){const p=Be(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,c).next(d=>(ht(d!==null,37113),E=d.keys(),p.mutationQueue.removeMutationBatch(g,d))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);zb(s,e,r),Ub(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),await Bl(s,o)}catch(o){await co(o)}}function Ub(i,e){(i.cu.get(e)||[]).forEach(r=>{r.resolve()}),i.cu.delete(e)}function zb(i,e,r){const s=Be(i);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(r?u.reject(r):u.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function Jd(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.iu.get(e))i.ru.delete(s),r&&i.nu.Tu(s,r);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(s=>{i.au.containsKey(s)||$b(i,s)})}function $b(i,e){i.su.delete(e.path.canonicalString());const r=i.ou.get(e);r!==null&&(Dm(i.remoteStore,r),i.ou=i.ou.remove(e),i._u.delete(r),km(i))}function j_(i,e,r){for(const s of r)s instanceof Lb?(i.au.addReference(s.key,e),xx(i,s)):s instanceof jb?(be(jm,"Document no longer in limbo: "+s.key),i.au.removeReference(s.key,e),i.au.containsKey(s.key)||$b(i,s.key)):Pe(19791,{Iu:s})}function xx(i,e){const r=e.key,s=r.path.canonicalString();i.ou.get(r)||i.su.has(s)||(be(jm,"New document in limbo: "+r),i.su.add(s),km(i))}function km(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const r=new Ne(Rt.fromString(e)),s=i.lu.next();i._u.set(s,new gx(r)),i.ou=i.ou.insert(r,s),Db(i.remoteStore,new na(Hr(eb(r.path)),s,"TargetPurposeLimboResolution",Qc.le))}}async function Bl(i,e,r){const s=Be(i),o=[],u=[],f=[];s.ru.isEmpty()||(s.ru.forEach((c,p)=>{f.push(s.Pu(p,e,r).then(g=>{var E;if((g||r)&&s.isPrimaryClient){const d=g?!g.fromCache:(E=r==null?void 0:r.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,d?"current":"not-current")}if(g){o.push(g);const d=xm.Ps(p.targetId,g);u.push(d)}}))}),await Promise.all(f),s.nu.Q_(o),await async function(p,g){const E=Be(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>fe.forEach(g,y=>fe.forEach(y.ls,b=>E.persistence.referenceDelegate.addReference(d,y.targetId,b)).next(()=>fe.forEach(y.hs,b=>E.persistence.referenceDelegate.removeReference(d,y.targetId,b)))))}catch(d){if(!fo(d))throw d;be(Cm,"Failed to update sequence numbers: "+d)}for(const d of g){const y=d.targetId;if(!d.fromCache){const b=E.Ss.get(y),v=b.snapshotVersion,_=b.withLastLimboFreeSnapshotVersion(v);E.Ss=E.Ss.insert(y,_)}}}(s.localStore,u))}async function Cx(i,e){const r=Be(i);if(!r.currentUser.isEqual(e)){be(jm,"User change. New user:",e.toKey());const s=await Ab(r.localStore,e);r.currentUser=e,function(u,f){u.cu.forEach(c=>{c.forEach(p=>{p.reject(new Oe(de.CANCELLED,f))})}),u.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Bl(r,s.Ms)}}function Dx(i,e){const r=Be(i),s=r._u.get(e);if(s&&s.tu)return We().add(s.key);{let o=We();const u=r.iu.get(e);if(!u)return o;for(const f of u){const c=r.ru.get(f);o=o.unionWith(c.view.Wa)}return o}}function Bb(i){const e=Be(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sx.bind(null,e),e.nu.Q_=fx.bind(null,e.eventManager),e.nu.Tu=hx.bind(null,e.eventManager),e}function Ox(i){const e=Be(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ax.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rx.bind(null,e),e}class zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,r){return null}fu(e,r){return null}Vu(e){return IR(this.persistence,new CR,e.initialUser,this.serializer)}Ru(e){return new Sb(Rm.Ei,this.serializer)}Au(e){return new PR}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zc.provider={build:()=>new zc};class Ix extends zc{constructor(e){super(),this.cacheSizeBytes=e}mu(e,r){ht(this.persistence.referenceDelegate instanceof Pc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new dR(s,e.asyncQueue,r)}Ru(e){const r=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new Sb(s=>Pc.Ei(s,r),this.serializer)}}class Wd{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>L_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cx.bind(null,this.syncEngine),await sx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lx}()}createDatastore(e){const r=nf(e.databaseInfo.databaseId),s=function(u){return new qR(u)}(e.databaseInfo);return function(u,f,c,p){return new QR(u,f,c,p)}(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return function(s,o,u,f,c){return new KR(s,o,u,f,c)}(this.localStore,this.datastore,e.asyncQueue,r=>L_(this.syncEngine,r,0),function(){return D_.C()?new D_:new UR}())}createSyncEngine(e,r){return function(o,u,f,c,p,g,E){const d=new yx(o,u,f,c,p,g);return E&&(d.hu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(o){const u=Be(o);be(Wa,"RemoteStore shutting down."),u.aa.add(5),await $l(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Wd.provider={build:()=>new Wd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="FirestoreClient";class Mx{constructor(e,r,s,o,u){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=o,this.user=yn.UNAUTHENTICATED,this.clientId=k0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{be(pa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(be(pa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const s=Vm(r,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function xd(i,e){i.asyncQueue.verifyOperationInProgress(),be(pa,"Initializing OfflineComponentProvider");const r=i.configuration;await e.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Ab(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function k_(i,e){i.asyncQueue.verifyOperationInProgress();const r=await Vx(i);be(pa,"Initializing OnlineComponentProvider"),await e.initialize(r,i.configuration),i.setCredentialChangeListener(s=>I_(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>I_(e.remoteStore,o)),i._onlineComponents=e}async function Vx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){be(pa,"Using user provided OfflineComponentProvider");try{await xd(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(o){return o.name==="FirebaseError"?o.code===de.FAILED_PRECONDITION||o.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(r))throw r;eo("Error using user provided cache. Falling back to memory cache: "+r),await xd(i,new zc)}}else be(pa,"Using default OfflineComponentProvider"),await xd(i,new Ix(void 0));return i._offlineComponents}async function qb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(be(pa,"Using user provided OnlineComponentProvider"),await k_(i,i._uninitializedComponentsProvider._online)):(be(pa,"Using default OnlineComponentProvider"),await k_(i,new Wd))),i._onlineComponents}function Lx(i){return qb(i).then(e=>e.syncEngine)}async function jx(i){const e=await qb(i),r=e.eventManager;return r.onListen=vx.bind(null,e.syncEngine),r.onUnlisten=Ex.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=_x.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=wx.bind(null,e.syncEngine),r}function kx(i,e,r={}){const s=new sa;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,c,p,g){const E=new Nx({next:y=>{E.yu(),f.enqueueAndForget(()=>cx(u,d)),y.fromCache&&p.source==="server"?g.reject(new Oe(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(y)},error:y=>g.reject(y)}),d=new dx(c,E,{includeMetadataChanges:!0,Fa:!0});return ux(u,d)}(await jx(i),i.asyncQueue,e,r,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(i,e,r){if(!r)throw new Oe(de.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Px(i,e,r,s){if(e===!0&&s===!0)throw new Oe(de.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function U_(i){if(!Ne.isDocumentKey(i))throw new Oe(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function z_(i){if(Ne.isDocumentKey(i))throw new Oe(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Pm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Pe(12329,{type:typeof i})}function es(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Oe(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Pm(i);throw new Oe(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="firestore.googleapis.com",$_=!0;class B_{constructor(e){var r,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Gb,this.ssl=$_}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:$_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Tb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fR)throw new Oe(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Px("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Oe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Oe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Oe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sf{constructor(e,r,s,o){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new $S;switch(s.type){case"firstParty":return new FS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Oe(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=P_.get(r);s&&(be("ComponentProvider","Removing Datastore"),P_.delete(r),s.terminate())}(this),Promise.resolve()}}function Ux(i,e,r,s={}){var o;const u=(i=es(i,sf))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),c=`${e}:${r}`;u.host!==Gb&&u.host!==c&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:c,ssl:!1,emulatorOptions:s});if(!xc(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=yn.MOCK_USER;else{g=bT(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const d=s.mockUserToken.sub||s.mockUserToken.user_id;if(!d)throw new Oe(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new yn(d)}i._authCredentials=new BS(new L0(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new of(this.firestore,e,this._query)}}class fr{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fr(this.firestore,e,this._key)}}class oa extends of{constructor(e,r,s){super(e,r,eb(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fr(this.firestore,null,new Ne(e))}withConverter(e){return new oa(this.firestore,e,this._path)}}function Qb(i,e,...r){if(i=ua(i),Fb("collection","path",e),i instanceof sf){const s=Rt.fromString(e,...r);return z_(s),new oa(i,null,s)}{if(!(i instanceof fr||i instanceof oa))throw new Oe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Rt.fromString(e,...r));return z_(s),new oa(i.firestore,null,s)}}function Um(i,e,...r){if(i=ua(i),arguments.length===1&&(e=k0.newId()),Fb("doc","path",e),i instanceof sf){const s=Rt.fromString(e,...r);return U_(s),new fr(i,null,new Ne(s))}{if(!(i instanceof fr||i instanceof oa))throw new Oe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Rt.fromString(e,...r));return U_(s),new fr(i.firestore,i instanceof oa?i.converter:null,new Ne(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="AsyncQueue";class H_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new xb(this,"async_queue_retry"),this.ju=()=>{const s=Rd();s&&be(q_,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const r=Rd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const r=Rd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new sa;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!fo(e))throw e;be(q_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const r=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,Ei("INTERNAL UNHANDLED ERROR: ",F_(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=r,r}enqueueAfterDelay(e,r,s){this.Ju(),this.zu.indexOf(e)>-1&&(r=0);const o=Mm.createAndSchedule(this,e,r,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Pe(47125,{ec:F_(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const r of this.Uu)if(r.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const r=this.Uu.indexOf(e);this.Uu.splice(r,1)}}function F_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class ql extends sf{constructor(e,r,s,o){super(e,r,s,o),this.type="firestore",this._queue=new H_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H_(e),this._firestoreClient=void 0,await e}}}function zx(i,e){const r=typeof i=="object"?i:OS(),s=typeof i=="string"?i:Ic,o=AS(r,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=vT("firestore");u&&Ux(o,...u)}return o}function Yb(i){if(i._terminated)throw new Oe(de.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||$x(i),i._firestoreClient}function $x(i){var e,r,s;const o=i._freezeSettings(),u=function(c,p,g,E){return new sA(c,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Hb(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((r=o.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new Mx(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(c){const p=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this._byteString=e}static fromBase64String(e){try{return new so(cn.fromBase64String(e))}catch(r){throw new Oe(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new so(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Oe(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Oe(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Oe(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=/^__.*__$/;class qx{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return this.fieldMask!==null?new va(e,this.data,this.fieldMask,r,this.fieldTransforms):new Ul(e,this.data,r,this.fieldTransforms)}}class Kb{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new va(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Xb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{oc:i})}}class qm{constructor(e,r,s,o,u,f){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new qm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return $c(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Xb(this.oc)&&Bx.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Hx{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||nf(e)}dc(e,r,s,o=!1){return new qm({oc:e,methodName:r,Ec:s,path:un.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zb(i){const e=i._freezeSettings(),r=nf(i._databaseId);return new Hx(i._databaseId,!!e.ignoreUndefinedProperties,r)}function Fx(i,e,r,s,o,u={}){const f=i.dc(u.merge||u.mergeFields?2:0,e,r,o);Hm("Data must be an object, but it was:",f,s);const c=Jb(s,f);let p,g;if(u.merge)p=new Fn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const d of u.mergeFields){const y=em(e,d,r);if(!f.contains(y))throw new Oe(de.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);eE(E,y)||E.push(y)}p=new Fn(E),g=f.fieldTransforms.filter(d=>p.covers(d.field))}else p=null,g=f.fieldTransforms;return new qx(new In(c),p,g)}class uf extends zm{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uf}}function Gx(i,e,r,s){const o=i.dc(1,e,r);Hm("Data must be an object, but it was:",o,s);const u=[],f=In.empty();ya(s,(p,g)=>{const E=Fm(e,p,r);g=ua(g);const d=o.hc(E);if(g instanceof uf)u.push(E);else{const y=cf(g,d);y!=null&&(u.push(E),f.set(E,y))}});const c=new Fn(u);return new Kb(f,c,o.fieldTransforms)}function Qx(i,e,r,s,o,u){const f=i.dc(1,e,r),c=[em(e,s,r)],p=[o];if(u.length%2!=0)throw new Oe(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<u.length;y+=2)c.push(em(e,u[y])),p.push(u[y+1]);const g=[],E=In.empty();for(let y=c.length-1;y>=0;--y)if(!eE(g,c[y])){const b=c[y];let v=p[y];v=ua(v);const _=f.hc(b);if(v instanceof uf)g.push(b);else{const A=cf(v,_);A!=null&&(g.push(b),E.set(b,A))}}const d=new Fn(g);return new Kb(E,d,f.fieldTransforms)}function cf(i,e){if(Wb(i=ua(i)))return Hm("Unsupported field value:",e,i),Jb(i,e);if(i instanceof zm)return function(s,o){if(!Xb(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const c of s){let p=cf(c,o.Pc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=ua(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return OA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Qt.fromDate(s);return{timestampValue:kc(o.serializer,u)}}if(s instanceof Qt){const u=new Qt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kc(o.serializer,u)}}if(s instanceof $m)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof so)return{bytesValue:gb(o.serializer,s._byteString)};if(s instanceof fr){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Bm)return function(f,c){return{mapValue:{fields:{[F0]:{stringValue:G0},[Nc]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw c.Tc("VectorValues must only contain numeric values.");return bm(c.serializer,g)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${Pm(s)}`)}(i,e)}function Jb(i,e){const r={};return U0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(i,(s,o)=>{const u=cf(o,e.uc(s));u!=null&&(r[s]=u)}),{mapValue:{fields:r}}}function Wb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Qt||i instanceof $m||i instanceof so||i instanceof fr||i instanceof zm||i instanceof Bm)}function Hm(i,e,r){if(!Wb(r)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(r)){const s=Pm(r);throw s==="an object"?e.Tc(i+" a custom object"):e.Tc(i+" "+s)}}function em(i,e,r){if((e=ua(e))instanceof lf)return e._internalPath;if(typeof e=="string")return Fm(i,e);throw $c("Field path arguments must be of type string or ",i,!1,void 0,r)}const Yx=new RegExp("[~\\*/\\[\\]]");function Fm(i,e,r){if(e.search(Yx)>=0)throw $c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new lf(...e.split("."))._internalPath}catch{throw $c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function $c(i,e,r,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new Oe(de.INVALID_ARGUMENT,c+i+p)}function eE(i,e){return i.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,r,s,o,u){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Kx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(nE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Kx extends tE{data(){return super.data()}}function nE(i,e){return typeof e=="string"?Fm(i,e):e instanceof lf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Oe(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zx{convertValue(e,r="none"){switch(da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return ya(e,(o,u)=>{s[o]=this.convertValue(u,r)}),s}convertVectorValue(e){var r,s,o;const u=(o=(s=(r=e.fields)===null||r===void 0?void 0:r[Nc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Vt(f.doubleValue));return new Bm(u)}convertGeoPoint(e){return new $m(Vt(e.latitude),Vt(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Kc(e);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Nl(e));default:return null}}convertTimestamp(e){const r=fa(e);return new Qt(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=Rt.fromString(e);ht(wb(s),9688,{name:e});const o=new Ml(s.get(1),s.get(3)),u=new Ne(s.popFirst(5));return o.isEqual(r)||Ei(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(i,e,r){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wx extends tE{constructor(e,r,s,o,u,f){super(e,r,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(nE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class Ec extends Wx{data(e={}){return super.data(e)}}class eC{constructor(e,r,s,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new hc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new Ec(this._firestore,this._userDataWriter,s.key,s,new hc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Oe(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(c=>{const p=new Ec(o._firestore,o._userDataWriter,c.doc.key,c.doc,new hc(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(c=>u||c.type!==3).map(c=>{const p=new Ec(o._firestore,o._userDataWriter,c.doc.key,c.doc,new hc(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return c.type!==0&&(g=f.indexOf(c.doc.key),f=f.delete(c.doc.key)),c.type!==1&&(f=f.add(c.doc),E=f.indexOf(c.doc.key)),{type:tC(c.type),doc:p,oldIndex:g,newIndex:E}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function tC(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:i})}}class nC extends Zx{constructor(e){super(),this.firestore=e}convertBytes(e){return new so(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,r)}}function rC(i){i=es(i,of);const e=es(i.firestore,ql),r=Yb(e),s=new nC(e);return Xx(i._query),kx(r,i._query).then(o=>new eC(e,s,i,o))}function iC(i,e,r,...s){i=es(i,fr);const o=es(i.firestore,ql),u=Zb(o);let f;return f=typeof(e=ua(e))=="string"||e instanceof lf?Qx(u,"updateDoc",i._key,e,r,s):Gx(u,"updateDoc",i._key,e),Gm(o,[f.toMutation(i._key,_r.exists(!0))])}function aC(i){return Gm(es(i.firestore,ql),[new Em(i._key,_r.none())])}function sC(i,e){const r=es(i.firestore,ql),s=Um(i),o=Jx(i.converter,e);return Gm(r,[Fx(Zb(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,_r.exists(!1))]).then(()=>s)}function Gm(i,e){return function(s,o){const u=new sa;return s.asyncQueue.enqueueAndForget(async()=>Tx(await Lx(s),o,u)),u.promise}(Yb(i),e)}(function(e,r=!0){(function(o){uo=o})(DS),Dc(new Dl("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),c=new ql(new qS(s.getProvider("auth-internal")),new GS(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Oe(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:r},u),c._setSettings(u),c},"PUBLIC").setMultipleInstances(!0)),Zs(Xv,Zv,e),Zs(Xv,Zv,"esm2017")})();var oC="firebase",lC="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zs(oC,lC,"app");const uC={apiKey:"AIzaSyD3_sv5MZQ0bDVT6OVJsGTsDpUS_utILHc",authDomain:"riffrack-d12a3.firebaseapp.com",projectId:"riffrack-d12a3",storageBucket:"riffrack-d12a3.firebasestorage.app",messagingSenderId:"963122475101",appId:"1:963122475101:web:fcfd13ad6a3097eb149db4"},cC=A0(uC),ff=zx(cC),hf="products";async function fC(){try{const i=Qb(ff,hf),r=(await rC(i)).docs.map(s=>({id:s.id,...s.data()}));return console.log("Fetched products:",r),r}catch(i){throw console.error("Error fetching products:",i),i}}async function hC(i){try{const e=Qb(ff,hf),r=await sC(e,i);return console.log("added item with id",r.id),r}catch(e){throw console.error("failed to add item",e),e}}async function rE(i){const e=i.id;if(!e)throw console.error("Product ID is required for updating."),new Error("Product ID is required for updating.");const r=Um(ff,hf,e),{id:s,price:o,...u}=i,f={price:parseFloat(String(o)),...u};try{await iC(r,f),console.log("Document successfully updated!",e)}catch(c){throw console.error("Error updating document: ",c),c}}async function iE(i){if(!i)throw console.error("Product ID is required for deletion."),new Error("Product ID is required for deletion.");const e=Um(ff,hf,i);try{await aC(e),console.log("Document successfully deleted!",i)}catch(r){throw console.error("Error deleting document: ",r),r}}const _i=fm((i,e)=>({products:[],filteredProducts:[],loading:!1,error:null,filterTerm:"",sortOption:"price-asc",fetchProducts:async()=>{i({loading:!0,error:null});try{const r=await fC();console.log("Fetched products:",r),i({products:r,loading:!1,error:null}),e().applyFilter(e().filterTerm),e().applySort(e().sortOption)}catch(r){console.error("Error fetching products:",r),i({loading:!1,error:"Failed to fetch products"})}},addProduct:async r=>{i({loading:!0,error:null});try{const s=await hC(r),o={id:s.id,...r};console.log("Added item with ID:",s.id),i(u=>{const f=[...u.products,o];let p=[...f.filter(g=>g.title.toLowerCase().includes(u.filterTerm.toLowerCase())||g.category.toLowerCase().includes(u.filterTerm.toLowerCase()))];return u.sortOption==="price-asc"?p.sort((g,E)=>g.price-E.price):u.sortOption==="price-desc"?p.sort((g,E)=>E.price-g.price):u.sortOption==="letter"&&p.sort((g,E)=>g.title.localeCompare(E.title)),{products:f,filteredProducts:p,loading:!1,error:null}})}catch(s){throw console.error("Failed to add item:",s),i({loading:!1,error:"Failed to add item"}),s}},updateProduct:async r=>{i({loading:!0,error:null});try{await rE(r),console.log("Updated product:",r),i(s=>{const o=s.products.map(c=>c.id===r.id?{...c,...r}:c);let f=[...o.filter(c=>c.title.toLowerCase().includes(s.filterTerm.toLowerCase())||c.category.toLowerCase().includes(s.filterTerm.toLowerCase()))];return s.sortOption==="price-asc"?f.sort((c,p)=>c.price-p.price):s.sortOption==="price-desc"?f.sort((c,p)=>p.price-c.price):s.sortOption==="letter"&&f.sort((c,p)=>c.title.localeCompare(p.title)),{products:o,filteredProducts:f,loading:!1,error:null}})}catch(s){throw console.error("Error updating product:",s),i({loading:!1,error:"Failed to update product"}),s}},removeProduct:async r=>{i({loading:!0,error:null});try{await iE(r),console.log("Removed product with ID:",r),i(s=>{const o=s.products.filter(c=>c.id!==r);let f=[...o.filter(c=>c.title.toLowerCase().includes(s.filterTerm.toLowerCase())||c.category.toLowerCase().includes(s.filterTerm.toLowerCase()))];return s.sortOption==="price-asc"?f.sort((c,p)=>c.price-p.price):s.sortOption==="price-desc"?f.sort((c,p)=>p.price-c.price):s.sortOption==="letter"&&f.sort((c,p)=>c.title.localeCompare(p.title)),{products:o,filteredProducts:f,loading:!1,error:null}})}catch(s){throw console.error("Error removing product:",s),i({loading:!1,error:"Failed to remove product"}),s}},applyFilter:r=>{i(s=>{const o=r.toLowerCase();let f=[...s.products.filter(c=>c.title.toLowerCase().includes(o)||c.category.toLowerCase().includes(o))];return s.sortOption==="price-asc"?f.sort((c,p)=>c.price-p.price):s.sortOption==="price-desc"?f.sort((c,p)=>p.price-c.price):s.sortOption==="letter"&&f.sort((c,p)=>c.title.localeCompare(p.title)),{filteredProducts:f,filterTerm:o}})},applySort:r=>{i(s=>{let o=[...s.filteredProducts];return r==="price-asc"?o.sort((u,f)=>u.price-f.price):r==="price-desc"?o.sort((u,f)=>f.price-u.price):r==="letter"&&o.sort((u,f)=>u.title.localeCompare(f.title)),{filteredProducts:o,sortOption:r}})}})),aE=()=>{const i=_i(f=>f.filterTerm),e=_i(f=>f.sortOption),r=_i(f=>f.applyFilter),s=_i(f=>f.applySort),o=f=>{const c=f.target.value;s(c)},u=f=>{const c=f.target.value;r(c)};return K.jsxs("div",{className:"filter-container",children:[K.jsxs("div",{className:"search-container",children:[K.jsx("label",{htmlFor:"home-search",children:"Search"}),K.jsx("input",{type:"text",value:i,id:"home-search",onChange:u})]}),K.jsxs("div",{className:"dropdown-container",children:[K.jsx("label",{htmlFor:"filter-dropdown",children:"Sort"}),K.jsxs("select",{name:"filter-dropdown",id:"filter-dropdown",value:e,onChange:o,children:[K.jsx("option",{value:"price-asc",children:"Price    "}),K.jsx("option",{value:"price-desc",children:"Price   "}),K.jsx("option",{value:"letter",children:"ABC"})]})]})]})},Bc=fm(i=>({cart:[],addToCart:e=>{i(r=>r.cart.find(o=>o.id===e.id)?{cart:r.cart.map(o=>o.id===e.id?{...o,quantity:o.quantity+1}:o)}:{cart:[...r.cart,{...e,quantity:1}]})},updateQuantity:(e,r)=>{i(s=>({cart:s.cart.map(o=>o.id===e?{...o,quantity:r}:o)}))},removeCartItem:e=>{i(r=>({cart:r.cart.filter(s=>s.id!==e)}))},getTotalPrice:()=>get().cart.reduce((r,s)=>r+s.price*s.quantity,0)})),dC=({item:i})=>{const e=Bc(s=>s.addToCart),r=()=>{e(i),console.log("added to cart")};return K.jsxs("div",{className:"card",children:[K.jsx("div",{className:"card-img-container",children:K.jsx("img",{src:i.img,alt:i.title})}),K.jsx("h2",{children:i.title}),K.jsx("p",{children:i.description}),K.jsx("p",{className:"category",children:i.category}),K.jsxs("div",{className:"product-bottom-container",children:[K.jsxs("p",{children:[i.price," $"]}),K.jsx("button",{className:"buy-button",onClick:()=>r(),children:"Buy"})]})]})},mC=()=>{const{filteredProducts:i,fetchProducts:e}=_i();return te.useEffect(()=>{e()},[e]),K.jsxs("section",{className:"home-section",children:[K.jsx("h1",{children:"Products"}),K.jsx(aE,{}),K.jsx("div",{className:"products-container",children:i.length===0?K.jsx("h2",{className:"no-products",children:"No products found"}):i.map(r=>K.jsx(dC,{item:r},r.id))})]})},pC=({item:i})=>{const{updateQuantity:e,removeCartItem:r}=Bc(),s=(o,u)=>{u>=1?e(o,u):r(o)};return K.jsxs("div",{className:"cart-card",children:[K.jsx("div",{className:"cart-image-container",children:K.jsx("img",{src:i.img,alt:i.title})}),K.jsxs("div",{className:"cart-item-text-container",children:[K.jsx("p",{className:"item-title",children:i.title}),K.jsxs("div",{className:"cart-item-bottom",children:[K.jsxs("div",{className:"cart-item-buttons",children:[K.jsx("button",{className:"quantity-button",onClick:()=>s(i.id,i.quantity-1),children:"-"}),K.jsx("p",{children:i.quantity}),K.jsx("button",{className:"quantity-button",onClick:()=>s(i.id,i.quantity+1),children:"+"})]}),K.jsxs("p",{children:[i.price*i.quantity," $"]})]})]})]})},gC=()=>{const{cart:i}=Bc(),e=Bc(r=>r.cart.reduce((s,o)=>s+o.price*o.quantity,0));return K.jsxs("section",{className:"cart-section",children:[K.jsx("h1",{children:"Cart"}),K.jsxs("div",{className:"cart-container",children:[K.jsx("div",{className:"cart-items",children:i.length===0?K.jsx("h2",{className:"cart-empty",children:"Your cart is empty"}):i.map(r=>K.jsx(pC,{item:r},r.id))}),K.jsxs("div",{className:"order-summary",children:[K.jsx("h2",{children:"Order Summary"}),K.jsxs("div",{children:[K.jsxs("div",{className:"summary-item",children:[K.jsx("p",{className:"text",children:"Subtotal"}),K.jsxs("p",{className:"number",children:[e," $"]})]}),K.jsxs("div",{className:"summary-item",children:[K.jsx("p",{className:"text",children:"Handling"}),K.jsxs("p",{className:"number",children:[e===0?0:50," $"]})]}),K.jsxs("div",{className:"summary-item",children:[K.jsx("p",{className:"text",children:"Total"}),K.jsxs("p",{className:"number",children:[i.length===0?0:e+50," $"]})]})]}),K.jsx("button",{className:"checkout-button",children:"Checkout (?)"})]})]})]})},tm=fm(i=>({isLoggedIn:!1,toggleLogIn:()=>{i(e=>({isLoggedIn:!e.isLoggedIn}))}})),yC=()=>{const i=tm(b=>b.isLoggedIn),e=tm(b=>b.toggleLogIn),[r,s]=te.useState(""),[o,u]=te.useState(""),[f,c]=te.useState(""),[p,g]=te.useState(""),[E,d]=te.useState(!1),y=()=>{if(g(""),c(""),!o||!r){o||g("Please enter a username"),r||c("Please enter a password");return}if(o!=="admin"||r!=="password"){o!=="admin"&&g("Invalid username"),r!=="password"&&c("Invalid password");return}e(),console.log("Logged in successfully",i)};return K.jsx("section",{className:"login-section",children:K.jsx("div",{className:"form-container",children:i?K.jsx(fw,{to:"/admin",replace:!0}):K.jsxs("form",{onSubmit:y,children:[K.jsxs("div",{className:"input-container",children:[K.jsx("label",{htmlFor:"username-input",children:"Username"}),K.jsx("input",{type:"text",id:"username-input",value:o,onChange:b=>{u(b.target.value)},onFocus:()=>{d(!0)}}),K.jsx("p",{className:"error",children:p})]}),K.jsxs("div",{className:"input-container",children:[K.jsx("label",{htmlFor:"password-input",children:"Password"}),K.jsx("input",{type:"password",id:"password-input",value:r,onChange:b=>{s(b.target.value)},onFocus:()=>{d(!0)}}),K.jsx("p",{className:"error",children:f})]}),K.jsx("button",{disabled:!E,type:"submit",children:"Login"})]})})})};var Cd={exports:{}},G_;function vC(){return G_||(G_=1,function(i,e){(function(r,s){i.exports=s()})(self,()=>{return r={7629:(o,u,f)=>{const c=f(375),p=f(8571),g=f(9474),E=f(1687),d=f(8652),y=f(8160),b=f(3292),v=f(6354),_=f(8901),A=f(9708),w=f(6914),R=f(2294),D=f(6133),V=f(1152),j=f(8863),L=f(2036),I={Base:class{constructor(S){this.type=S,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new R.Ids,this._preferences=null,this._refs=new D.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return c(typeof A.describe=="function","Manifest functionality disabled"),A.describe(this)}allow(...S){return y.verifyFlat(S,"allow"),this._values(S,"_valids")}alter(S){c(S&&typeof S=="object"&&!Array.isArray(S),"Invalid targets argument"),c(!this._inRuleset(),"Cannot set alterations inside a ruleset");const x=this.clone();x.$_terms.alterations=x.$_terms.alterations||[];for(const O in S){const k=S[O];c(typeof k=="function","Alteration adjuster for",O,"must be a function"),x.$_terms.alterations.push({target:O,adjuster:k})}return x.$_temp.ruleset=!1,x}artifact(S){return c(S!==void 0,"Artifact cannot be undefined"),c(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",S)}cast(S){return c(S===!1||typeof S=="string","Invalid to value"),c(S===!1||this._definition.cast[S],"Type",this.type,"does not support casting to",S),this.$_setFlag("cast",S===!1?void 0:S)}default(S,x){return this._default("default",S,x)}description(S){return c(S&&typeof S=="string","Description must be a non-empty string"),this.$_setFlag("description",S)}empty(S){const x=this.clone();return S!==void 0&&(S=x.$_compile(S,{override:!1})),x.$_setFlag("empty",S,{clone:!1})}error(S){return c(S,"Missing error"),c(S instanceof Error||typeof S=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",S)}example(S,x={}){return c(S!==void 0,"Missing example"),y.assertOptions(x,["override"]),this._inner("examples",S,{single:!0,override:x.override})}external(S,x){return typeof S=="object"&&(c(!x,"Cannot combine options with description"),x=S.description,S=S.method),c(typeof S=="function","Method must be a function"),c(x===void 0||x&&typeof x=="string","Description must be a non-empty string"),this._inner("externals",{method:S,description:x},{single:!0})}failover(S,x){return this._default("failover",S,x)}forbidden(){return this.presence("forbidden")}id(S){return S?(c(typeof S=="string","id must be a non-empty string"),c(/^[^\.]+$/.test(S),"id cannot contain period character"),this.$_setFlag("id",S)):this.$_setFlag("id",void 0)}invalid(...S){return this._values(S,"_invalids")}label(S){return c(S&&typeof S=="string","Label name must be a non-empty string"),this.$_setFlag("label",S)}meta(S){return c(S!==void 0,"Meta cannot be undefined"),this._inner("metas",S,{single:!0})}note(...S){c(S.length,"Missing notes");for(const x of S)c(x&&typeof x=="string","Notes must be non-empty strings");return this._inner("notes",S)}only(S=!0){return c(typeof S=="boolean","Invalid mode:",S),this.$_setFlag("only",S)}optional(){return this.presence("optional")}prefs(S){c(S,"Missing preferences"),c(S.context===void 0,"Cannot override context"),c(S.externals===void 0,"Cannot override externals"),c(S.warnings===void 0,"Cannot override warnings"),c(S.debug===void 0,"Cannot override debug"),y.checkPreferences(S);const x=this.clone();return x._preferences=y.preferences(x._preferences,S),x}presence(S){return c(["optional","required","forbidden"].includes(S),"Unknown presence mode",S),this.$_setFlag("presence",S)}raw(S=!0){return this.$_setFlag("result",S?"raw":void 0)}result(S){return c(["raw","strip"].includes(S),"Unknown result mode",S),this.$_setFlag("result",S)}required(){return this.presence("required")}strict(S){const x=this.clone(),O=S!==void 0&&!S;return x._preferences=y.preferences(x._preferences,{convert:O}),x}strip(S=!0){return this.$_setFlag("result",S?"strip":void 0)}tag(...S){c(S.length,"Missing tags");for(const x of S)c(x&&typeof x=="string","Tags must be non-empty strings");return this._inner("tags",S)}unit(S){return c(S&&typeof S=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",S)}valid(...S){y.verifyFlat(S,"valid");const x=this.allow(...S);return x.$_setFlag("only",!!x._valids,{clone:!1}),x}when(S,x){const O=this.clone();O.$_terms.whens||(O.$_terms.whens=[]);const k=b.when(O,S,x);if(!["any","link"].includes(O.type)){const $=k.is?[k]:k.switch;for(const U of $)c(!U.then||U.then.type==="any"||U.then.type===O.type,"Cannot combine",O.type,"with",U.then&&U.then.type),c(!U.otherwise||U.otherwise.type==="any"||U.otherwise.type===O.type,"Cannot combine",O.type,"with",U.otherwise&&U.otherwise.type)}return O.$_terms.whens.push(k),O.$_mutateRebuild()}cache(S){c(!this._inRuleset(),"Cannot set caching inside a ruleset"),c(!this._cache,"Cannot override schema cache"),c(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const x=this.clone();return x._cache=S||d.provider.provision(),x.$_temp.ruleset=!1,x}clone(){const S=Object.create(Object.getPrototypeOf(this));return this._assign(S)}concat(S){c(y.isSchema(S),"Invalid schema object"),c(this.type==="any"||S.type==="any"||S.type===this.type,"Cannot merge type",this.type,"with another type:",S.type),c(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),c(!S._inRuleset(),"Cannot concatenate a schema with open ruleset");let x=this.clone();if(this.type==="any"&&S.type!=="any"){const O=S.clone();for(const k of Object.keys(x))k!=="type"&&(O[k]=x[k]);x=O}x._ids.concat(S._ids),x._refs.register(S,D.toSibling),x._preferences=x._preferences?y.preferences(x._preferences,S._preferences):S._preferences,x._valids=L.merge(x._valids,S._valids,S._invalids),x._invalids=L.merge(x._invalids,S._invalids,S._valids);for(const O of S._singleRules.keys())x._singleRules.has(O)&&(x._rules=x._rules.filter(k=>k.keep||k.name!==O),x._singleRules.delete(O));for(const O of S._rules)S._definition.rules[O.method].multi||x._singleRules.set(O.name,O),x._rules.push(O);if(x._flags.empty&&S._flags.empty){x._flags.empty=x._flags.empty.concat(S._flags.empty);const O=Object.assign({},S._flags);delete O.empty,E(x._flags,O)}else if(S._flags.empty){x._flags.empty=S._flags.empty;const O=Object.assign({},S._flags);delete O.empty,E(x._flags,O)}else E(x._flags,S._flags);for(const O in S.$_terms){const k=S.$_terms[O];k?x.$_terms[O]?x.$_terms[O]=x.$_terms[O].concat(k):x.$_terms[O]=k.slice():x.$_terms[O]||(x.$_terms[O]=k)}return this.$_root._tracer&&this.$_root._tracer._combine(x,[this,S]),x.$_mutateRebuild()}extend(S){return c(!S.base,"Cannot extend type with another base"),_.type(this,S)}extract(S){return S=Array.isArray(S)?S:S.split("."),this._ids.reach(S)}fork(S,x){c(!this._inRuleset(),"Cannot fork inside a ruleset");let O=this;for(let k of[].concat(S))k=Array.isArray(k)?k:k.split("."),O=O._ids.fork(k,x,O);return O.$_temp.ruleset=!1,O}rule(S){const x=this._definition;y.assertOptions(S,Object.keys(x.modifiers)),c(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const O=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;c(O>=0&&O<this._rules.length,"Cannot apply rules to empty ruleset");const k=this.clone();for(let $=O;$<k._rules.length;++$){const U=k._rules[$],he=p(U);for(const pe in S)x.modifiers[pe](he,S[pe]),c(he.name===U.name,"Cannot change rule name");k._rules[$]=he,k._singleRules.get(he.name)===U&&k._singleRules.set(he.name,he)}return k.$_temp.ruleset=!1,k.$_mutateRebuild()}get ruleset(){c(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const S=this.clone();return S.$_temp.ruleset=S._rules.length,S}get $(){return this.ruleset}tailor(S){S=[].concat(S),c(!this._inRuleset(),"Cannot tailor inside a ruleset");let x=this;if(this.$_terms.alterations)for(const{target:O,adjuster:k}of this.$_terms.alterations)S.includes(O)&&(x=k(x),c(y.isSchema(x),"Alteration adjuster for",O,"failed to return a schema object"));return x=x.$_modify({each:O=>O.tailor(S),ref:!1}),x.$_temp.ruleset=!1,x.$_mutateRebuild()}tracer(){return V.location?V.location(this):this}validate(S,x){return j.entry(S,this,x)}validateAsync(S,x){return j.entryAsync(S,this,x)}$_addRule(S){typeof S=="string"&&(S={name:S}),c(S&&typeof S=="object","Invalid options"),c(S.name&&typeof S.name=="string","Invalid rule name");for(const U in S)c(U[0]!=="_","Cannot set private rule properties");const x=Object.assign({},S);x._resolve=[],x.method=x.method||x.name;const O=this._definition.rules[x.method],k=x.args;c(O,"Unknown rule",x.method);const $=this.clone();if(k){c(Object.keys(k).length===1||Object.keys(k).length===this._definition.rules[x.name].args.length,"Invalid rule definition for",this.type,x.name);for(const U in k){let he=k[U];if(O.argsByName){const pe=O.argsByName.get(U);if(pe.ref&&y.isResolvable(he))x._resolve.push(U),$.$_mutateRegister(he);else if(pe.normalize&&(he=pe.normalize(he),k[U]=he),pe.assert){const G=y.validateArg(he,U,pe);c(!G,G,"or reference")}}he!==void 0?k[U]=he:delete k[U]}}return O.multi||($._ruleRemove(x.name,{clone:!1}),$._singleRules.set(x.name,x)),$.$_temp.ruleset===!1&&($.$_temp.ruleset=null),O.priority?$._rules.unshift(x):$._rules.push(x),$}$_compile(S,x){return b.schema(this.$_root,S,x)}$_createError(S,x,O,k,$,U={}){const he=U.flags!==!1?this._flags:{},pe=U.messages?w.merge(this._definition.messages,U.messages):this._definition.messages;return new v.Report(S,x,O,he,pe,k,$)}$_getFlag(S){return this._flags[S]}$_getRule(S){return this._singleRules.get(S)}$_mapLabels(S){return S=Array.isArray(S)?S:S.split("."),this._ids.labels(S)}$_match(S,x,O,k){(O=Object.assign({},O)).abortEarly=!0,O._externals=!1,x.snapshot();const $=!j.validate(S,this,x,O,k).errors;return x.restore(),$}$_modify(S){return y.assertOptions(S,["each","once","ref","schema"]),R.schema(this,S)||this}$_mutateRebuild(){return c(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(S,{source:x,name:O,path:k,key:$})=>{const U=this._definition[x][O]&&this._definition[x][O].register;U!==!1&&this.$_mutateRegister(S,{family:U,key:$})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(S,{family:x,key:O}={}){this._refs.register(S,x),this._ids.register(S,{key:O})}$_property(S){return this._definition.properties[S]}$_reach(S){return this._ids.reach(S)}$_rootReferences(){return this._refs.roots()}$_setFlag(S,x,O={}){c(S[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const k=this._definition.flags[S]||{};if(g(x,k.default)&&(x=void 0),g(x,this._flags[S]))return this;const $=O.clone!==!1?this.clone():this;return x!==void 0?($._flags[S]=x,$.$_mutateRegister(x)):delete $._flags[S],S[0]!=="_"&&($.$_temp.ruleset=!1),$}$_parent(S,...x){return this[S][y.symbols.parent].call(this,...x)}$_validate(S,x,O){return j.validate(S,this,x,O)}_assign(S){S.type=this.type,S.$_root=this.$_root,S.$_temp=Object.assign({},this.$_temp),S.$_temp.whens={},S._ids=this._ids.clone(),S._preferences=this._preferences,S._valids=this._valids&&this._valids.clone(),S._invalids=this._invalids&&this._invalids.clone(),S._rules=this._rules.slice(),S._singleRules=p(this._singleRules,{shallow:!0}),S._refs=this._refs.clone(),S._flags=Object.assign({},this._flags),S._cache=null,S.$_terms={};for(const x in this.$_terms)S.$_terms[x]=this.$_terms[x]?this.$_terms[x].slice():null;S.$_super={};for(const x in this.$_super)S.$_super[x]=this._super[x].bind(S);return S}_bare(){const S=this.clone();S._reset();const x=S._definition.terms;for(const O in x){const k=x[O];S.$_terms[O]=k.init}return S.$_mutateRebuild()}_default(S,x,O={}){return y.assertOptions(O,"literal"),c(x!==void 0,"Missing",S,"value"),c(typeof x=="function"||!O.literal,"Only function value supports literal option"),typeof x=="function"&&O.literal&&(x={[y.symbols.literal]:!0,literal:x}),this.$_setFlag(S,x)}_generate(S,x,O){if(!this.$_terms.whens)return{schema:this};const k=[],$=[];for(let pe=0;pe<this.$_terms.whens.length;++pe){const G=this.$_terms.whens[pe];if(G.concat){k.push(G.concat),$.push(`${pe}.concat`);continue}const se=G.ref?G.ref.resolve(S,x,O):S,ye=G.is?[G]:G.switch,Re=$.length;for(let B=0;B<ye.length;++B){const{is:re,then:me,otherwise:ce}=ye[B],_e=`${pe}${G.switch?"."+B:""}`;if(re.$_match(se,x.nest(re,`${_e}.is`),O)){if(me){const ke=x.localize([...x.path,`${_e}.then`],x.ancestors,x.schemas),{schema:xe,id:wt}=me._generate(S,ke,O);k.push(xe),$.push(`${_e}.then${wt?`(${wt})`:""}`);break}}else if(ce){const ke=x.localize([...x.path,`${_e}.otherwise`],x.ancestors,x.schemas),{schema:xe,id:wt}=ce._generate(S,ke,O);k.push(xe),$.push(`${_e}.otherwise${wt?`(${wt})`:""}`);break}}if(G.break&&$.length>Re)break}const U=$.join(", ");if(x.mainstay.tracer.debug(x,"rule","when",U),!U)return{schema:this};if(!x.mainstay.tracer.active&&this.$_temp.whens[U])return{schema:this.$_temp.whens[U],id:U};let he=this;this._definition.generate&&(he=this._definition.generate(this,S,x,O));for(const pe of k)he=he.concat(pe);return this.$_root._tracer&&this.$_root._tracer._combine(he,[this,...k]),this.$_temp.whens[U]=he,{schema:he,id:U}}_inner(S,x,O={}){c(!this._inRuleset(),`Cannot set ${S} inside a ruleset`);const k=this.clone();return k.$_terms[S]&&!O.override||(k.$_terms[S]=[]),O.single?k.$_terms[S].push(x):k.$_terms[S].push(...x),k.$_temp.ruleset=!1,k}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(S,x={}){if(!this._singleRules.has(S))return this;const O=x.clone!==!1?this.clone():this;O._singleRules.delete(S);const k=[];for(let $=0;$<O._rules.length;++$){const U=O._rules[$];U.name!==S||U.keep?k.push(U):O._inRuleset()&&$<O.$_temp.ruleset&&--O.$_temp.ruleset}return O._rules=k,O}_values(S,x){y.verifyFlat(S,x.slice(1,-1));const O=this.clone(),k=S[0]===y.symbols.override;if(k&&(S=S.slice(1)),!O[x]&&S.length?O[x]=new L:k&&(O[x]=S.length?new L:null,O.$_mutateRebuild()),!O[x])return O;k&&O[x].override();for(const $ of S){c($!==void 0,"Cannot call allow/valid/invalid with undefined"),c($!==y.symbols.override,"Override must be the first value");const U=x==="_invalids"?"_valids":"_invalids";O[U]&&(O[U].remove($),O[U].length||(c(x==="_valids"||!O._flags.only,"Setting invalid value",$,"leaves schema rejecting all values due to previous valid rule"),O[U]=null)),O[x].add($,O._refs)}return O}}};I.Base.prototype[y.symbols.any]={version:y.version,compile:b.compile,root:"$_root"},I.Base.prototype.isImmutable=!0,I.Base.prototype.deny=I.Base.prototype.invalid,I.Base.prototype.disallow=I.Base.prototype.invalid,I.Base.prototype.equal=I.Base.prototype.valid,I.Base.prototype.exist=I.Base.prototype.required,I.Base.prototype.not=I.Base.prototype.invalid,I.Base.prototype.options=I.Base.prototype.prefs,I.Base.prototype.preferences=I.Base.prototype.prefs,o.exports=new I.Base},8652:(o,u,f)=>{const c=f(375),p=f(8571),g=f(8160),E={max:1e3,supported:new Set(["undefined","boolean","number","string"])};u.provider={provision:d=>new E.Cache(d)},E.Cache=class{constructor(d={}){g.assertOptions(d,["max"]),c(d.max===void 0||d.max&&d.max>0&&isFinite(d.max),"Invalid max cache size"),this._max=d.max||E.max,this._map=new Map,this._list=new E.List}get length(){return this._map.size}set(d,y){if(d!==null&&!E.supported.has(typeof d))return;let b=this._map.get(d);if(b)return b.value=y,void this._list.first(b);b=this._list.unshift({key:d,value:y}),this._map.set(d,b),this._compact()}get(d){const y=this._map.get(d);if(y)return this._list.first(y),p(y.value)}_compact(){if(this._map.size>this._max){const d=this._list.pop();this._map.delete(d.key)}}},E.List=class{constructor(){this.tail=null,this.head=null}unshift(d){return d.next=null,d.prev=this.head,this.head&&(this.head.next=d),this.head=d,this.tail||(this.tail=d),d}first(d){d!==this.head&&(this._remove(d),this.unshift(d))}pop(){return this._remove(this.tail)}_remove(d){const{next:y,prev:b}=d;return y.prev=b,b&&(b.next=y),d===this.tail&&(this.tail=y),d.prev=null,d.next=null,d}}},8160:(o,u,f)=>{const c=f(375),p=f(7916),g=f(5934);let E,d;const y={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};u.version=g.version,u.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},u.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},u.assertOptions=function(b,v,_="Options"){c(b&&typeof b=="object"&&!Array.isArray(b),"Options must be of type object");const A=Object.keys(b).filter(w=>!v.includes(w));c(A.length===0,`${_} contain unknown keys: ${A}`)},u.checkPreferences=function(b){d=d||f(3378);const v=d.preferences.validate(b);if(v.error)throw new p([v.error.details[0].message])},u.compare=function(b,v,_){switch(_){case"=":return b===v;case">":return b>v;case"<":return b<v;case">=":return b>=v;case"<=":return b<=v}},u.default=function(b,v){return b===void 0?v:b},u.isIsoDate=function(b){return y.isoDate.test(b)},u.isNumber=function(b){return typeof b=="number"&&!isNaN(b)},u.isResolvable=function(b){return!!b&&(b[u.symbols.ref]||b[u.symbols.template])},u.isSchema=function(b,v={}){const _=b&&b[u.symbols.any];return!!_&&(c(v.legacy||_.version===u.version,"Cannot mix different versions of joi schemas"),!0)},u.isValues=function(b){return b[u.symbols.values]},u.limit=function(b){return Number.isSafeInteger(b)&&b>=0},u.preferences=function(b,v){E=E||f(6914),b=b||{},v=v||{};const _=Object.assign({},b,v);return v.errors&&b.errors&&(_.errors=Object.assign({},b.errors,v.errors),_.errors.wrap=Object.assign({},b.errors.wrap,v.errors.wrap)),v.messages&&(_.messages=E.compile(v.messages,b.messages)),delete _[u.symbols.prefs],_},u.tryWithPath=function(b,v,_={}){try{return b()}catch(A){throw A.path!==void 0?A.path=v+"."+A.path:A.path=v,_.append&&(A.message=`${A.message} (${A.path})`),A}},u.validateArg=function(b,v,{assert:_,message:A}){if(u.isSchema(_)){const w=_.validate(b);return w.error?w.error.message:void 0}if(!_(b))return v?`${v} ${A}`:A},u.verifyFlat=function(b,v){for(const _ of b)c(!Array.isArray(_),"Method no longer accepts array arguments:",v)}},3292:(o,u,f)=>{const c=f(375),p=f(8160),g=f(6133),E={};u.schema=function(d,y,b={}){p.assertOptions(b,["appendPath","override"]);try{return E.schema(d,y,b)}catch(v){throw b.appendPath&&v.path!==void 0&&(v.message=`${v.message} (${v.path})`),v}},E.schema=function(d,y,b){c(y!==void 0,"Invalid undefined schema"),Array.isArray(y)&&(c(y.length,"Invalid empty array schema"),y.length===1&&(y=y[0]));const v=(_,...A)=>b.override!==!1?_.valid(d.override,...A):_.valid(...A);if(E.simple(y))return v(d,y);if(typeof y=="function")return d.custom(y);if(c(typeof y=="object","Invalid schema content:",typeof y),p.isResolvable(y))return v(d,y);if(p.isSchema(y))return y;if(Array.isArray(y)){for(const _ of y)if(!E.simple(_))return d.alternatives().try(...y);return v(d,...y)}return y instanceof RegExp?d.string().regex(y):y instanceof Date?v(d.date(),y):(c(Object.getPrototypeOf(y)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),d.object().keys(y))},u.ref=function(d,y){return g.isRef(d)?d:g.create(d,y)},u.compile=function(d,y,b={}){p.assertOptions(b,["legacy"]);const v=y&&y[p.symbols.any];if(v)return c(b.legacy||v.version===p.version,"Cannot mix different versions of joi schemas:",v.version,p.version),y;if(typeof y!="object"||!b.legacy)return u.schema(d,y,{appendPath:!0});const _=E.walk(y);return _?_.compile(_.root,y):u.schema(d,y,{appendPath:!0})},E.walk=function(d){if(typeof d!="object")return null;if(Array.isArray(d)){for(const b of d){const v=E.walk(b);if(v)return v}return null}const y=d[p.symbols.any];if(y)return{root:d[y.root],compile:y.compile};c(Object.getPrototypeOf(d)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const b in d){const v=E.walk(d[b]);if(v)return v}return null},E.simple=function(d){return d===null||["boolean","string","number"].includes(typeof d)},u.when=function(d,y,b){if(b===void 0&&(c(y&&typeof y=="object","Missing options"),b=y,y=g.create(".")),Array.isArray(b)&&(b={switch:b}),p.assertOptions(b,["is","not","then","otherwise","switch","break"]),p.isSchema(y))return c(b.is===void 0,'"is" can not be used with a schema condition'),c(b.not===void 0,'"not" can not be used with a schema condition'),c(b.switch===void 0,'"switch" can not be used with a schema condition'),E.condition(d,{is:y,then:b.then,otherwise:b.otherwise,break:b.break});if(c(g.isRef(y)||typeof y=="string","Invalid condition:",y),c(b.not===void 0||b.is===void 0,'Cannot combine "is" with "not"'),b.switch===void 0){let _=b;b.not!==void 0&&(_={is:b.not,then:b.otherwise,otherwise:b.then,break:b.break});let A=_.is!==void 0?d.$_compile(_.is):d.$_root.invalid(null,!1,0,"").required();return c(_.then!==void 0||_.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),c(_.break===void 0||_.then===void 0||_.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),b.is===void 0||g.isRef(b.is)||p.isSchema(b.is)||(A=A.required()),E.condition(d,{ref:u.ref(y),is:A,then:_.then,otherwise:_.otherwise,break:_.break})}c(Array.isArray(b.switch),'"switch" must be an array'),c(b.is===void 0,'Cannot combine "switch" with "is"'),c(b.not===void 0,'Cannot combine "switch" with "not"'),c(b.then===void 0,'Cannot combine "switch" with "then"');const v={ref:u.ref(y),switch:[],break:b.break};for(let _=0;_<b.switch.length;++_){const A=b.switch[_],w=_===b.switch.length-1;p.assertOptions(A,w?["is","then","otherwise"]:["is","then"]),c(A.is!==void 0,'Switch statement missing "is"'),c(A.then!==void 0,'Switch statement missing "then"');const R={is:d.$_compile(A.is),then:d.$_compile(A.then)};if(g.isRef(A.is)||p.isSchema(A.is)||(R.is=R.is.required()),w){c(b.otherwise===void 0||A.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const D=b.otherwise!==void 0?b.otherwise:A.otherwise;D!==void 0&&(c(v.break===void 0,"Cannot specify both otherwise and break"),R.otherwise=d.$_compile(D))}v.switch.push(R)}return v},E.condition=function(d,y){for(const b of["then","otherwise"])y[b]===void 0?delete y[b]:y[b]=d.$_compile(y[b]);return y}},6354:(o,u,f)=>{const c=f(5688),p=f(8160),g=f(3328);u.Report=class{constructor(E,d,y,b,v,_,A){if(this.code=E,this.flags=b,this.messages=v,this.path=_.path,this.prefs=A,this.state=_,this.value=d,this.message=null,this.template=null,this.local=y||{},this.local.label=u.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const w=this.path[this.path.length-1];typeof w!="object"&&(this.local.key=w)}}_setTemplate(E){if(this.template=E,!this.flags.label&&this.path.length===0){const d=this._template(this.template,"root");d&&(this.local.label=d)}}toString(){if(this.message)return this.message;const E=this.code;if(!this.prefs.errors.render)return this.code;const d=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return d===void 0?`Error code "${E}" is not defined, your custom type is missing the correct messages definition`:(this.message=d.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(E,d){return u.template(this.value,E,d||this.code,this.state,this.prefs)}},u.path=function(E){let d="";for(const y of E)typeof y!="object"&&(typeof y=="string"?(d&&(d+="."),d+=y):d+=`[${y}]`);return d},u.template=function(E,d,y,b,v){if(!d)return;if(g.isTemplate(d))return y!=="root"?d:null;let _=v.errors.language;if(p.isResolvable(_)&&(_=_.resolve(E,b,v)),_&&d[_]){if(d[_][y]!==void 0)return d[_][y];if(d[_]["*"]!==void 0)return d[_]["*"]}return d[y]?d[y]:d["*"]},u.label=function(E,d,y,b){if(!y.errors.label)return"";if(E.label)return E.label;let v=d.path;return y.errors.label==="key"&&d.path.length>1&&(v=d.path.slice(-1)),u.path(v)||u.template(null,y.messages,"root",d,y)||b&&u.template(null,b,"root",d,y)||"value"},u.process=function(E,d,y){if(!E)return null;const{override:b,message:v,details:_}=u.details(E);if(b)return b;if(y.errors.stack)return new u.ValidationError(v,_,d);const A=Error.stackTraceLimit;Error.stackTraceLimit=0;const w=new u.ValidationError(v,_,d);return Error.stackTraceLimit=A,w},u.details=function(E,d={}){let y=[];const b=[];for(const v of E){if(v instanceof Error){if(d.override!==!1)return{override:v};const A=v.toString();y.push(A),b.push({message:A,type:"override",context:{error:v}});continue}const _=v.toString();y.push(_),b.push({message:_,path:v.path.filter(A=>typeof A!="object"),type:v.code,context:v.local})}return y.length>1&&(y=[...new Set(y)]),{message:y.join(". "),details:b}},u.ValidationError=class extends Error{constructor(E,d,y){super(E),this._original=y,this.details=d}static isError(E){return E instanceof u.ValidationError}},u.ValidationError.prototype.isJoi=!0,u.ValidationError.prototype.name="ValidationError",u.ValidationError.prototype.annotate=c.error},8901:(o,u,f)=>{const c=f(375),p=f(8571),g=f(8160),E=f(6914),d={};u.type=function(y,b){const v=Object.getPrototypeOf(y),_=p(v),A=y._assign(Object.create(_)),w=Object.assign({},b);delete w.base,_._definition=w;const R=v._definition||{};w.messages=E.merge(R.messages,w.messages),w.properties=Object.assign({},R.properties,w.properties),A.type=w.type,w.flags=Object.assign({},R.flags,w.flags);const D=Object.assign({},R.terms);if(w.terms)for(const I in w.terms){const S=w.terms[I];c(A.$_terms[I]===void 0,"Invalid term override for",w.type,I),A.$_terms[I]=S.init,D[I]=S}w.terms=D,w.args||(w.args=R.args),w.prepare=d.prepare(w.prepare,R.prepare),w.coerce&&(typeof w.coerce=="function"&&(w.coerce={method:w.coerce}),w.coerce.from&&!Array.isArray(w.coerce.from)&&(w.coerce={method:w.coerce.method,from:[].concat(w.coerce.from)})),w.coerce=d.coerce(w.coerce,R.coerce),w.validate=d.validate(w.validate,R.validate);const V=Object.assign({},R.rules);if(w.rules)for(const I in w.rules){const S=w.rules[I];c(typeof S=="object","Invalid rule definition for",w.type,I);let x=S.method;if(x===void 0&&(x=function(){return this.$_addRule(I)}),x&&(c(!_[I],"Rule conflict in",w.type,I),_[I]=x),c(!V[I],"Rule conflict in",w.type,I),V[I]=S,S.alias){const O=[].concat(S.alias);for(const k of O)_[k]=S.method}S.args&&(S.argsByName=new Map,S.args=S.args.map(O=>(typeof O=="string"&&(O={name:O}),c(!S.argsByName.has(O.name),"Duplicated argument name",O.name),g.isSchema(O.assert)&&(O.assert=O.assert.strict().label(O.name)),S.argsByName.set(O.name,O),O)))}w.rules=V;const j=Object.assign({},R.modifiers);if(w.modifiers)for(const I in w.modifiers){c(!_[I],"Rule conflict in",w.type,I);const S=w.modifiers[I];c(typeof S=="function","Invalid modifier definition for",w.type,I);const x=function(O){return this.rule({[I]:O})};_[I]=x,j[I]=S}if(w.modifiers=j,w.overrides){_._super=v,A.$_super={};for(const I in w.overrides)c(v[I],"Cannot override missing",I),w.overrides[I][g.symbols.parent]=v[I],A.$_super[I]=v[I].bind(A);Object.assign(_,w.overrides)}w.cast=Object.assign({},R.cast,w.cast);const L=Object.assign({},R.manifest,w.manifest);return L.build=d.build(w.manifest&&w.manifest.build,R.manifest&&R.manifest.build),w.manifest=L,w.rebuild=d.rebuild(w.rebuild,R.rebuild),A},d.build=function(y,b){return y&&b?function(v,_){return b(y(v,_),_)}:y||b},d.coerce=function(y,b){return y&&b?{from:y.from&&b.from?[...new Set([...y.from,...b.from])]:null,method(v,_){let A;if((!b.from||b.from.includes(typeof v))&&(A=b.method(v,_),A)){if(A.errors||A.value===void 0)return A;v=A.value}if(!y.from||y.from.includes(typeof v)){const w=y.method(v,_);if(w)return w}return A}}:y||b},d.prepare=function(y,b){return y&&b?function(v,_){const A=y(v,_);if(A){if(A.errors||A.value===void 0)return A;v=A.value}return b(v,_)||A}:y||b},d.rebuild=function(y,b){return y&&b?function(v){b(v),y(v)}:y||b},d.validate=function(y,b){return y&&b?function(v,_){const A=b(v,_);if(A){if(A.errors&&(!Array.isArray(A.errors)||A.errors.length))return A;v=A.value}return y(v,_)||A}:y||b}},5107:(o,u,f)=>{const c=f(375),p=f(8571),g=f(8652),E=f(8160),d=f(3292),y=f(6354),b=f(8901),v=f(9708),_=f(6133),A=f(3328),w=f(1152);let R;const D={types:{alternatives:f(4946),any:f(8068),array:f(546),boolean:f(4937),date:f(7500),function:f(390),link:f(8785),number:f(3832),object:f(8966),string:f(7417),symbol:f(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const V={_types:new Set(Object.keys(D.types))};for(const j of V._types)V[j]=function(...L){return c(!L.length||["alternatives","link","object"].includes(j),"The",j,"type does not allow arguments"),D.generate(this,D.types[j],L)};for(const j of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])V[j]=function(...L){return this.any()[j](...L)};Object.assign(V,D.methods);for(const j in D.aliases){const L=D.aliases[j];V[j]=V[L]}return V.x=V.expression,w.setup&&w.setup(V),V}};D.methods={ValidationError:y.ValidationError,version:E.version,cache:g.provider,assert(V,j,...L){D.assert(V,j,!0,L)},attempt:(V,j,...L)=>D.assert(V,j,!1,L),build(V){return c(typeof v.build=="function","Manifest functionality disabled"),v.build(this,V)},checkPreferences(V){E.checkPreferences(V)},compile(V,j){return d.compile(this,V,j)},defaults(V){c(typeof V=="function","modifier must be a function");const j=Object.assign({},this);for(const L of j._types){const I=V(j[L]());c(E.isSchema(I),"modifier must return a valid schema object"),j[L]=function(...S){return D.generate(this,I,S)}}return j},expression:(...V)=>new A(...V),extend(...V){E.verifyFlat(V,"extend"),R=R||f(3378),c(V.length,"You need to provide at least one extension"),this.assert(V,R.extensions);const j=Object.assign({},this);j._types=new Set(j._types);for(let L of V){typeof L=="function"&&(L=L(j)),this.assert(L,R.extension);const I=D.expandExtension(L,j);for(const S of I){c(j[S.type]===void 0||j._types.has(S.type),"Cannot override name",S.type);const x=S.base||this.any(),O=b.type(x,S);j._types.add(S.type),j[S.type]=function(...k){return D.generate(this,O,k)}}}return j},isError:y.ValidationError.isError,isExpression:A.isTemplate,isRef:_.isRef,isSchema:E.isSchema,in:(...V)=>_.in(...V),override:E.symbols.override,ref:(...V)=>_.create(...V),types(){const V={};for(const j of this._types)V[j]=this[j]();for(const j in D.aliases)V[j]=this[j]();return V}},D.assert=function(V,j,L,I){const S=I[0]instanceof Error||typeof I[0]=="string"?I[0]:null,x=S!==null?I[1]:I[0],O=j.validate(V,E.preferences({errors:{stack:!0}},x||{}));let k=O.error;if(!k)return O.value;if(S instanceof Error)throw S;const $=L&&typeof k.annotate=="function"?k.annotate():k.message;throw k instanceof y.ValidationError==0&&(k=p(k)),k.message=S?`${S} ${$}`:$,k},D.generate=function(V,j,L){return c(V,"Must be invoked on a Joi instance."),j.$_root=V,j._definition.args&&L.length?j._definition.args(j,...L):j},D.expandExtension=function(V,j){if(typeof V.type=="string")return[V];const L=[];for(const I of j._types)if(V.type.test(I)){const S=Object.assign({},V);S.type=I,S.base=j[I](),L.push(S)}return L},o.exports=D.root()},6914:(o,u,f)=>{const c=f(375),p=f(8571),g=f(3328);u.compile=function(E,d){if(typeof E=="string")return c(!d,"Cannot set single message string"),new g(E);if(g.isTemplate(E))return c(!d,"Cannot set single message template"),E;c(typeof E=="object"&&!Array.isArray(E),"Invalid message options"),d=d?p(d):{};for(let y in E){const b=E[y];if(y==="root"||g.isTemplate(b)){d[y]=b;continue}if(typeof b=="string"){d[y]=new g(b);continue}c(typeof b=="object"&&!Array.isArray(b),"Invalid message for",y);const v=y;for(y in d[v]=d[v]||{},b){const _=b[y];y==="root"||g.isTemplate(_)?d[v][y]=_:(c(typeof _=="string","Invalid message for",y,"in",v),d[v][y]=new g(_))}}return d},u.decompile=function(E){const d={};for(let y in E){const b=E[y];if(y==="root"){d.root=b;continue}if(g.isTemplate(b)){d[y]=b.describe({compact:!0});continue}const v=y;for(y in d[v]={},b){const _=b[y];y!=="root"?d[v][y]=_.describe({compact:!0}):d[v].root=_}}return d},u.merge=function(E,d){if(!E)return u.compile(d);if(!d)return E;if(typeof d=="string")return new g(d);if(g.isTemplate(d))return d;const y=p(E);for(let b in d){const v=d[b];if(b==="root"||g.isTemplate(v)){y[b]=v;continue}if(typeof v=="string"){y[b]=new g(v);continue}c(typeof v=="object"&&!Array.isArray(v),"Invalid message for",b);const _=b;for(b in y[_]=y[_]||{},v){const A=v[b];b==="root"||g.isTemplate(A)?y[_][b]=A:(c(typeof A=="string","Invalid message for",b,"in",_),y[_][b]=new g(A))}}return y}},2294:(o,u,f)=>{const c=f(375),p=f(8160),g=f(6133),E={};u.Ids=E.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const d=new E.Ids;return d._byId=new Map(this._byId),d._byKey=new Map(this._byKey),d._schemaChain=this._schemaChain,d}concat(d){d._schemaChain&&(this._schemaChain=!0);for(const[y,b]of d._byId.entries())c(!this._byKey.has(y),"Schema id conflicts with existing key:",y),this._byId.set(y,b);for(const[y,b]of d._byKey.entries())c(!this._byId.has(y),"Schema key conflicts with existing id:",y),this._byKey.set(y,b)}fork(d,y,b){const v=this._collect(d);v.push({schema:b});const _=v.shift();let A={id:_.id,schema:y(_.schema)};c(p.isSchema(A.schema),"adjuster function failed to return a joi schema type");for(const w of v)A={id:w.id,schema:E.fork(w.schema,A.id,A.schema)};return A.schema}labels(d,y=[]){const b=d[0],v=this._get(b);if(!v)return[...y,...d].join(".");const _=d.slice(1);return y=[...y,v.schema._flags.label||b],_.length?v.schema._ids.labels(_,y):y.join(".")}reach(d,y=[]){const b=d[0],v=this._get(b);c(v,"Schema does not contain path",[...y,...d].join("."));const _=d.slice(1);return _.length?v.schema._ids.reach(_,[...y,b]):v.schema}register(d,{key:y}={}){if(!d||!p.isSchema(d))return;(d.$_property("schemaChain")||d._ids._schemaChain)&&(this._schemaChain=!0);const b=d._flags.id;if(b){const v=this._byId.get(b);c(!v||v.schema===d,"Cannot add different schemas with the same id:",b),c(!this._byKey.has(b),"Schema id conflicts with existing key:",b),this._byId.set(b,{schema:d,id:b})}y&&(c(!this._byKey.has(y),"Schema already contains key:",y),c(!this._byId.has(y),"Schema key conflicts with existing id:",y),this._byKey.set(y,{schema:d,id:y}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(d,y=[],b=[]){const v=d[0],_=this._get(v);c(_,"Schema does not contain path",[...y,...d].join(".")),b=[_,...b];const A=d.slice(1);return A.length?_.schema._ids._collect(A,[...y,v],b):b}_get(d){return this._byId.get(d)||this._byKey.get(d)}},E.fork=function(d,y,b){const v=u.schema(d,{each:(_,{key:A})=>{if(y===(_._flags.id||A))return b},ref:!1});return v?v.$_mutateRebuild():d},u.schema=function(d,y){let b;for(const v in d._flags){if(v[0]==="_")continue;const _=E.scan(d._flags[v],{source:"flags",name:v},y);_!==void 0&&(b=b||d.clone(),b._flags[v]=_)}for(let v=0;v<d._rules.length;++v){const _=d._rules[v],A=E.scan(_.args,{source:"rules",name:_.name},y);if(A!==void 0){b=b||d.clone();const w=Object.assign({},_);w.args=A,b._rules[v]=w,b._singleRules.get(_.name)===_&&b._singleRules.set(_.name,w)}}for(const v in d.$_terms){if(v[0]==="_")continue;const _=E.scan(d.$_terms[v],{source:"terms",name:v},y);_!==void 0&&(b=b||d.clone(),b.$_terms[v]=_)}return b},E.scan=function(d,y,b,v,_){const A=v||[];if(d===null||typeof d!="object")return;let w;if(Array.isArray(d)){for(let R=0;R<d.length;++R){const D=y.source==="terms"&&y.name==="keys"&&d[R].key,V=E.scan(d[R],y,b,[R,...A],D);V!==void 0&&(w=w||d.slice(),w[R]=V)}return w}if(b.schema!==!1&&p.isSchema(d)||b.ref!==!1&&g.isRef(d)){const R=b.each(d,{...y,path:A,key:_});return R===d?void 0:R}for(const R in d){if(R[0]==="_")continue;const D=E.scan(d[R],y,b,[R,...A],_);D!==void 0&&(w=w||Object.assign({},d),w[R]=D)}return w}},6133:(o,u,f)=>{const c=f(375),p=f(8571),g=f(9621),E=f(8160);let d;const y={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};u.create=function(b,v={}){c(typeof b=="string","Invalid reference key:",b),E.assertOptions(v,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),c(!v.prefix||typeof v.prefix=="object","options.prefix must be of type object");const _=Object.assign({},y.defaults,v);delete _.prefix;const A=_.separator,w=y.context(b,A,v.prefix);if(_.type=w.type,b=w.key,_.type==="value")if(w.root&&(c(!A||b[0]!==A,"Cannot specify relative path with root prefix"),_.ancestor="root",b||(b=null)),A&&A===b)b=null,_.ancestor=0;else if(_.ancestor!==void 0)c(!A||!b||b[0]!==A,"Cannot combine prefix with ancestor option");else{const[R,D]=y.ancestor(b,A);D&&(b=b.slice(D))===""&&(b=null),_.ancestor=R}return _.path=A?b===null?[]:b.split(A):[b],new y.Ref(_)},u.in=function(b,v={}){return u.create(b,{...v,in:!0})},u.isRef=function(b){return!!b&&!!b[E.symbols.ref]},y.Ref=class{constructor(b){c(typeof b=="object","Invalid reference construction"),E.assertOptions(b,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),c([!1,void 0].includes(b.separator)||typeof b.separator=="string"&&b.separator.length===1,"Invalid separator"),c(!b.adjust||typeof b.adjust=="function","options.adjust must be a function"),c(!b.map||Array.isArray(b.map),"options.map must be an array"),c(!b.map||!b.adjust,"Cannot set both map and adjust options"),Object.assign(this,y.defaults,b),c(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(b,v,_,A,w={}){return c(!this.in||w.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(_.context,v,w):this.type==="local"?this._resolve(A,v,w):this.ancestor?this.ancestor==="root"?this._resolve(v.ancestors[v.ancestors.length-1],v,w):(c(this.ancestor<=v.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(v.ancestors[this.ancestor-1],v,w)):this._resolve(b,v,w)}_resolve(b,v,_){let A;if(this.type==="value"&&v.mainstay.shadow&&_.shadow!==!1&&(A=v.mainstay.shadow.get(this.absolute(v))),A===void 0&&(A=g(b,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(A=this.adjust(A)),this.map){const w=this.map.get(A);w!==void 0&&(A=w)}return v.mainstay&&v.mainstay.tracer.resolve(v,this,A),A}toString(){return this.display}absolute(b){return[...b.path.slice(0,-this.ancestor),...this.path]}clone(){return new y.Ref(this)}describe(){const b={path:this.path};this.type!=="value"&&(b.type=this.type),this.separator!=="."&&(b.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(b.ancestor=this.ancestor),this.map&&(b.map=[...this.map]);for(const v of["adjust","iterables","render"])this[v]!==null&&this[v]!==void 0&&(b[v]=this[v]);return this.in!==!1&&(b.in=!0),{ref:b}}updateDisplay(){const b=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${b}`);if(!this.separator)return void(this.display=`ref:${b}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${b}`);if(this.ancestor==="root")return void(this.display=`ref:root:${b}`);if(this.ancestor===1)return void(this.display=`ref:${b||".."}`);const v=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${v}${b||""}`}},y.Ref.prototype[E.symbols.ref]=!0,u.build=function(b){return(b=Object.assign({},y.defaults,b)).type==="value"&&b.ancestor===void 0&&(b.ancestor=1),new y.Ref(b)},y.context=function(b,v,_={}){if(b=b.trim(),_){const A=_.global===void 0?"$":_.global;if(A!==v&&b.startsWith(A))return{key:b.slice(A.length),type:"global"};const w=_.local===void 0?"#":_.local;if(w!==v&&b.startsWith(w))return{key:b.slice(w.length),type:"local"};const R=_.root===void 0?"/":_.root;if(R!==v&&b.startsWith(R))return{key:b.slice(R.length),type:"value",root:!0}}return{key:b,type:"value"}},y.ancestor=function(b,v){if(!v)return[1,0];if(b[0]!==v)return[1,0];if(b[1]!==v)return[0,1];let _=2;for(;b[_]===v;)++_;return[_-1,_]},u.toSibling=0,u.toParent=1,u.Manager=class{constructor(){this.refs=[]}register(b,v){if(b)if(v=v===void 0?u.toParent:v,Array.isArray(b))for(const _ of b)this.register(_,v);else if(E.isSchema(b))for(const _ of b._refs.refs)_.ancestor-v>=0&&this.refs.push({ancestor:_.ancestor-v,root:_.root});else u.isRef(b)&&b.type==="value"&&b.ancestor-v>=0&&this.refs.push({ancestor:b.ancestor-v,root:b.root}),d=d||f(3328),d.isTemplate(b)&&this.register(b.refs(),v)}get length(){return this.refs.length}clone(){const b=new u.Manager;return b.refs=p(this.refs),b}reset(){this.refs=[]}roots(){return this.refs.filter(b=>!b.ancestor).map(b=>b.root)}}},3378:(o,u,f)=>{const c=f(5107),p={};p.wrap=c.string().min(1).max(2).allow(!1),u.preferences=c.object({allowUnknown:c.boolean(),abortEarly:c.boolean(),artifacts:c.boolean(),cache:c.boolean(),context:c.object(),convert:c.boolean(),dateFormat:c.valid("date","iso","string","time","utc"),debug:c.boolean(),errors:{escapeHtml:c.boolean(),label:c.valid("path","key",!1),language:[c.string(),c.object().ref()],render:c.boolean(),stack:c.boolean(),wrap:{label:p.wrap,array:p.wrap,string:p.wrap}},externals:c.boolean(),messages:c.object(),noDefaults:c.boolean(),nonEnumerables:c.boolean(),presence:c.valid("required","optional","forbidden"),skipFunctions:c.boolean(),stripUnknown:c.object({arrays:c.boolean(),objects:c.boolean()}).or("arrays","objects").allow(!0,!1),warnings:c.boolean()}).strict(),p.nameRx=/^[a-zA-Z0-9]\w*$/,p.rule=c.object({alias:c.array().items(c.string().pattern(p.nameRx)).single(),args:c.array().items(c.string(),c.object({name:c.string().pattern(p.nameRx).required(),ref:c.boolean(),assert:c.alternatives([c.function(),c.object().schema()]).conditional("ref",{is:!0,then:c.required()}),normalize:c.function(),message:c.string().when("assert",{is:c.function(),then:c.required()})})),convert:c.boolean(),manifest:c.boolean(),method:c.function().allow(!1),multi:c.boolean(),validate:c.function()}),u.extension=c.object({type:c.alternatives([c.string(),c.object().regex()]).required(),args:c.function(),cast:c.object().pattern(p.nameRx,c.object({from:c.function().maxArity(1).required(),to:c.function().minArity(1).maxArity(2).required()})),base:c.object().schema().when("type",{is:c.object().regex(),then:c.forbidden()}),coerce:[c.function().maxArity(3),c.object({method:c.function().maxArity(3).required(),from:c.array().items(c.string()).single()})],flags:c.object().pattern(p.nameRx,c.object({setter:c.string(),default:c.any()})),manifest:{build:c.function().arity(2)},messages:[c.object(),c.string()],modifiers:c.object().pattern(p.nameRx,c.function().minArity(1).maxArity(2)),overrides:c.object().pattern(p.nameRx,c.function()),prepare:c.function().maxArity(3),rebuild:c.function().arity(1),rules:c.object().pattern(p.nameRx,p.rule),terms:c.object().pattern(p.nameRx,c.object({init:c.array().allow(null).required(),manifest:c.object().pattern(/.+/,[c.valid("schema","single"),c.object({mapped:c.object({from:c.string().required(),to:c.string().required()}).required()})])})),validate:c.function().maxArity(3)}).strict(),u.extensions=c.array().items(c.object(),c.function().arity(1)).strict(),p.desc={buffer:c.object({buffer:c.string()}),func:c.object({function:c.function().required(),options:{literal:!0}}),override:c.object({override:!0}),ref:c.object({ref:c.object({type:c.valid("value","global","local"),path:c.array().required(),separator:c.string().length(1).allow(!1),ancestor:c.number().min(0).integer().allow("root"),map:c.array().items(c.array().length(2)).min(1),adjust:c.function(),iterables:c.boolean(),in:c.boolean(),render:c.boolean()}).required()}),regex:c.object({regex:c.string().min(3)}),special:c.object({special:c.valid("deep").required()}),template:c.object({template:c.string().required(),options:c.object()}),value:c.object({value:c.alternatives([c.object(),c.array()]).required()})},p.desc.entity=c.alternatives([c.array().items(c.link("...")),c.boolean(),c.function(),c.number(),c.string(),p.desc.buffer,p.desc.func,p.desc.ref,p.desc.regex,p.desc.special,p.desc.template,p.desc.value,c.link("/")]),p.desc.values=c.array().items(null,c.boolean(),c.function(),c.number().allow(1/0,-1/0),c.string().allow(""),c.symbol(),p.desc.buffer,p.desc.func,p.desc.override,p.desc.ref,p.desc.regex,p.desc.template,p.desc.value),p.desc.messages=c.object().pattern(/.+/,[c.string(),p.desc.template,c.object().pattern(/.+/,[c.string(),p.desc.template])]),u.description=c.object({type:c.string().required(),flags:c.object({cast:c.string(),default:c.any(),description:c.string(),empty:c.link("/"),failover:p.desc.entity,id:c.string(),label:c.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:c.boolean(),unit:c.string()}).unknown(),preferences:{allowUnknown:c.boolean(),abortEarly:c.boolean(),artifacts:c.boolean(),cache:c.boolean(),convert:c.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:c.boolean(),label:["path","key"],language:[c.string(),p.desc.ref],wrap:{label:p.wrap,array:p.wrap}},externals:c.boolean(),messages:p.desc.messages,noDefaults:c.boolean(),nonEnumerables:c.boolean(),presence:["required","optional","forbidden"],skipFunctions:c.boolean(),stripUnknown:c.object({arrays:c.boolean(),objects:c.boolean()}).or("arrays","objects").allow(!0,!1),warnings:c.boolean()},allow:p.desc.values,invalid:p.desc.values,rules:c.array().min(1).items({name:c.string().required(),args:c.object().min(1),keep:c.boolean(),message:[c.string(),p.desc.messages],warn:c.boolean()}),keys:c.object().pattern(/.*/,c.link("/")),link:p.desc.ref}).pattern(/^[a-z]\w*$/,c.any())},493:(o,u,f)=>{const c=f(8571),p=f(9621),g=f(8160),E={value:Symbol("value")};o.exports=E.State=class{constructor(d,y,b){this.path=d,this.ancestors=y,this.mainstay=b.mainstay,this.schemas=b.schemas,this.debug=null}localize(d,y=null,b=null){const v=new E.State(d,y,this);return b&&v.schemas&&(v.schemas=[E.schemas(b),...v.schemas]),v}nest(d,y){const b=new E.State(this.path,this.ancestors,this);return b.schemas=b.schemas&&[E.schemas(d),...b.schemas],b.debug=y,b}shadow(d,y){this.mainstay.shadow=this.mainstay.shadow||new E.Shadow,this.mainstay.shadow.set(this.path,d,y)}snapshot(){this.mainstay.shadow&&(this._snapshot=c(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}},E.schemas=function(d){return g.isSchema(d)?{schema:d}:d},E.Shadow=class{constructor(){this._values=null}set(d,y,b){if(!d.length||b==="strip"&&typeof d[d.length-1]=="number")return;this._values=this._values||new Map;let v=this._values;for(let _=0;_<d.length;++_){const A=d[_];let w=v.get(A);w||(w=new Map,v.set(A,w)),v=w}v[E.value]=y}get(d){const y=this.node(d);if(y)return y[E.value]}node(d){if(this._values)return p(this._values,d,{iterables:!0})}override(d,y){if(!this._values)return;const b=d.slice(0,-1),v=d[d.length-1],_=p(this._values,b,{iterables:!0});y?_.set(v,y):_&&_.delete(v)}}},3328:(o,u,f)=>{const c=f(375),p=f(8571),g=f(5277),E=f(1447),d=f(8160),y=f(6354),b=f(6133),v={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};o.exports=v.Template=class{constructor(_,A){if(c(typeof _=="string","Template source must be a string"),c(!_.includes("\0")&&!_.includes(""),"Template source cannot contain reserved control characters"),this.source=_,this.rendered=_,this._template=null,A){const{functions:w,...R}=A;this._settings=Object.keys(R).length?p(R):void 0,this._functions=w,this._functions&&(c(Object.keys(this._functions).every(D=>typeof D=="string"),"Functions keys must be strings"),c(Object.values(this._functions).every(D=>typeof D=="function"),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;const _=v.encode(this.source),A=v.split(_);let w=!1;const R=[],D=A.shift();D&&R.push(D);for(const V of A){const j=V[0]!=="{",L=j?"}":"}}",I=V.indexOf(L);if(I===-1||V[1]==="{"){R.push(`{${v.decode(V)}`);continue}let S=V.slice(j?0:1,I);const x=S[0]===":";x&&(S=S.slice(1));const O=this._ref(v.decode(S),{raw:j,wrapped:x});R.push(O),typeof O!="string"&&(w=!0);const k=V.slice(I+L.length);k&&R.push(v.decode(k))}w?this._template=R:this.rendered=R.join("")}static date(_,A){return v.dateFormat[A.dateFormat].call(_)}describe(_={}){if(!this._settings&&_.compact)return this.source;const A={template:this.source};return this._settings&&(A.options=this._settings),this._functions&&(A.functions=this._functions),A}static build(_){return new v.Template(_.template,_.options||_.functions?{..._.options,functions:_.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(_){return!!_&&!!_[d.symbols.template]}refs(){if(!this._template)return;const _=[];for(const A of this._template)typeof A!="string"&&_.push(...A.refs);return _}resolve(_,A,w,R){return this._template&&this._template.length===1?this._part(this._template[0],_,A,w,R,{}):this.render(_,A,w,R)}_part(_,...A){return _.ref?_.ref.resolve(...A):_.formula.evaluate(A)}render(_,A,w,R,D={}){if(!this.isDynamic())return this.rendered;const V=[];for(const j of this._template)if(typeof j=="string")V.push(j);else{const L=this._part(j,_,A,w,R,D),I=v.stringify(L,_,A,w,R,D);if(I!==void 0){const S=j.raw||(D.errors&&D.errors.escapeHtml)===!1?I:g(I);V.push(v.wrap(S,j.wrapped&&w.errors.wrap.label))}}return V.join("")}_ref(_,{raw:A,wrapped:w}){const R=[],D=j=>{const L=b.create(j,this._settings);return R.push(L),I=>{const S=L.resolve(...I);return S!==void 0?S:null}};try{const j=this._functions?{...v.functions,...this._functions}:v.functions;var V=new E.Parser(_,{reference:D,functions:j,constants:v.constants})}catch(j){throw j.message=`Invalid template variable "${_}" fails due to: ${j.message}`,j}if(V.single){if(V.single.type==="reference"){const j=R[0];return{ref:j,raw:A,refs:R,wrapped:w||j.type==="local"&&j.key==="label"}}return v.stringify(V.single.value)}return{formula:V,raw:A,refs:R}}toString(){return this.source}},v.Template.prototype[d.symbols.template]=!0,v.Template.prototype.isImmutable=!0,v.encode=function(_){return _.replace(/\\(\{+)/g,(A,w)=>v.opens.slice(0,w.length)).replace(/\\(\}+)/g,(A,w)=>v.closes.slice(0,w.length))},v.decode=function(_){return _.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},v.split=function(_){const A=[];let w="";for(let R=0;R<_.length;++R){const D=_[R];if(D==="{"){let V="";for(;R+1<_.length&&_[R+1]==="{";)V+="{",++R;A.push(w),w=V}else w+=D}return A.push(w),A},v.wrap=function(_,A){return A?A.length===1?`${A}${_}${A}`:`${A[0]}${_}${A[1]}`:_},v.stringify=function(_,A,w,R,D,V={}){const j=typeof _,L=R&&R.errors&&R.errors.wrap||{};let I=!1;if(b.isRef(_)&&_.render&&(I=_.in,_=_.resolve(A,w,R,D,{in:_.in,...V})),_===null)return"null";if(j==="string")return v.wrap(_,V.arrayItems&&L.string);if(j==="number"||j==="function"||j==="symbol")return _.toString();if(j!=="object")return JSON.stringify(_);if(_ instanceof Date)return v.Template.date(_,R);if(_ instanceof Map){const x=[];for(const[O,k]of _.entries())x.push(`${O.toString()} -> ${k.toString()}`);_=x}if(!Array.isArray(_))return _.toString();const S=[];for(const x of _)S.push(v.stringify(x,A,w,R,D,{arrayItems:!0,...V}));return v.wrap(S.join(", "),!I&&L.array)},v.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},v.functions={if:(_,A,w)=>_?A:w,length:_=>typeof _=="string"?_.length:_&&typeof _=="object"?Array.isArray(_)?_.length:Object.keys(_).length:null,msg(_){const[A,w,R,D,V]=this,j=V.messages;if(!j)return"";const L=y.template(A,j[0],_,w,R)||y.template(A,j[1],_,w,R);return L?L.render(A,w,R,D,V):""},number:_=>typeof _=="number"?_:typeof _=="string"?parseFloat(_):typeof _=="boolean"?_?1:0:_ instanceof Date?_.getTime():null}},4946:(o,u,f)=>{const c=f(375),p=f(1687),g=f(8068),E=f(8160),d=f(3292),y=f(6354),b=f(6133),v={};o.exports=g.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:b.toSibling}},args:(_,...A)=>A.length===1&&Array.isArray(A[0])?_.try(...A[0]):_.try(...A),validate(_,A){const{schema:w,error:R,state:D,prefs:V}=A;if(w._flags.match){const L=[],I=[];for(let x=0;x<w.$_terms.matches.length;++x){const O=w.$_terms.matches[x],k=D.nest(O.schema,`match.${x}`);k.snapshot();const $=O.schema.$_validate(_,k,V);$.errors?(I.push($.errors),k.restore()):(L.push($.value),k.commit())}if(L.length===0)return{errors:R("alternatives.any",{details:I.map(x=>y.details(x,{override:!1}))})};if(w._flags.match==="one")return L.length===1?{value:L[0]}:{errors:R("alternatives.one")};if(L.length!==w.$_terms.matches.length)return{errors:R("alternatives.all",{details:I.map(x=>y.details(x,{override:!1}))})};const S=x=>x.$_terms.matches.some(O=>O.schema.type==="object"||O.schema.type==="alternatives"&&S(O.schema));return S(w)?{value:L.reduce((x,O)=>p(x,O,{mergeArrays:!1}))}:{value:L[L.length-1]}}const j=[];for(let L=0;L<w.$_terms.matches.length;++L){const I=w.$_terms.matches[L];if(I.schema){const O=D.nest(I.schema,`match.${L}`);O.snapshot();const k=I.schema.$_validate(_,O,V);if(!k.errors)return O.commit(),k;O.restore(),j.push({schema:I.schema,reports:k.errors});continue}const S=I.ref?I.ref.resolve(_,D,V):_,x=I.is?[I]:I.switch;for(let O=0;O<x.length;++O){const k=x[O],{is:$,then:U,otherwise:he}=k,pe=`match.${L}${I.switch?"."+O:""}`;if($.$_match(S,D.nest($,`${pe}.is`),V)){if(U)return U.$_validate(_,D.nest(U,`${pe}.then`),V)}else if(he)return he.$_validate(_,D.nest(he,`${pe}.otherwise`),V)}}return v.errors(j,A)},rules:{conditional:{method(_,A){c(!this._flags._endedSwitch,"Unreachable condition"),c(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),c(A.break===void 0,"Cannot use break option with alternatives conditional");const w=this.clone(),R=d.when(w,_,A),D=R.is?[R]:R.switch;for(const V of D)if(V.then&&V.otherwise){w.$_setFlag("_endedSwitch",!0,{clone:!1});break}return w.$_terms.matches.push(R),w.$_mutateRebuild()}},match:{method(_){if(c(["any","one","all"].includes(_),"Invalid alternatives match mode",_),_!=="any")for(const A of this.$_terms.matches)c(A.schema,"Cannot combine match mode",_,"with conditional rules");return this.$_setFlag("match",_)}},try:{method(..._){c(_.length,"Missing alternative schemas"),E.verifyFlat(_,"try"),c(!this._flags._endedSwitch,"Unreachable condition");const A=this.clone();for(const w of _)A.$_terms.matches.push({schema:A.$_compile(w)});return A.$_mutateRebuild()}}},overrides:{label(_){return this.$_parent("label",_).$_modify({each:(A,w)=>w.path[0]!=="is"&&typeof A._flags.label!="string"?A.label(_):void 0,ref:!1})}},rebuild(_){_.$_modify({each:A=>{E.isSchema(A)&&A.type==="array"&&_.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(_,A){if(A.matches)for(const w of A.matches){const{schema:R,ref:D,is:V,not:j,then:L,otherwise:I}=w;_=R?_.try(R):D?_.conditional(D,{is:V,then:L,not:j,otherwise:I,switch:w.switch}):_.conditional(V,{then:L,otherwise:I})}return _}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),v.errors=function(_,{error:A,state:w}){if(!_.length)return{errors:A("alternatives.any")};if(_.length===1)return{errors:_[0].reports};const R=new Set,D=[];for(const{reports:V,schema:j}of _){if(V.length>1)return v.unmatched(_,A);const L=V[0];if(L instanceof y.Report==0)return v.unmatched(_,A);if(L.state.path.length!==w.path.length){D.push({type:j.type,report:L});continue}if(L.code==="any.only"){for(const x of L.local.valids)R.add(x);continue}const[I,S]=L.code.split(".");S!=="base"?D.push({type:j.type,report:L}):L.code==="object.base"?R.add(L.local.type):R.add(I)}return D.length?D.length===1?{errors:D[0].report}:v.unmatched(_,A):{errors:A("alternatives.types",{types:[...R]})}},v.unmatched=function(_,A){const w=[];for(const R of _)w.push(...R.reports);return{errors:A("alternatives.match",y.details(w,{override:!1}))}}},8068:(o,u,f)=>{const c=f(375),p=f(7629),g=f(8160),E=f(6914);o.exports=p.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(d,y){return c(typeof d=="function","Method must be a function"),c(y===void 0||y&&typeof y=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:d,description:y}})},validate(d,y,{method:b}){try{return b(d,y)}catch(v){return y.error("any.custom",{error:v})}},args:["method","description"],multi:!0},messages:{method(d){return this.prefs({messages:d})}},shared:{method(d){c(g.isSchema(d)&&d._flags.id,"Schema must be a schema with an id");const y=this.clone();return y.$_terms.shared=y.$_terms.shared||[],y.$_terms.shared.push(d),y.$_mutateRegister(d),y}},warning:{method(d,y){return c(d&&typeof d=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:d,local:y},warn:!0})},validate:(d,y,{code:b,local:v})=>y.error(b,v),args:["code","local"],multi:!0}},modifiers:{keep(d,y=!0){d.keep=y},message(d,y){d.message=E.compile(y)},warn(d,y=!0){d.warn=y}},manifest:{build(d,y){for(const b in y){const v=y[b];if(["examples","externals","metas","notes","tags"].includes(b))for(const _ of v)d=d[b.slice(0,-1)](_);else if(b!=="alterations")if(b!=="whens"){if(b==="shared")for(const _ of v)d=d.shared(_)}else for(const _ of v){const{ref:A,is:w,not:R,then:D,otherwise:V,concat:j}=_;d=j?d.concat(j):A?d.when(A,{is:w,not:R,then:D,otherwise:V,switch:_.switch,break:_.break}):d.when(w,{then:D,otherwise:V,break:_.break})}else{const _={};for(const{target:A,adjuster:w}of v)_[A]=w;d=d.alter(_)}}return d}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(o,u,f)=>{const c=f(375),p=f(9474),g=f(9621),E=f(8068),d=f(8160),y=f(3292),b={};o.exports=E.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(v,{schema:_,state:A,prefs:w}){if(!Array.isArray(v))return;const R=_.$_getRule("sort");return R?b.sort(_,v,R.args.options,A,w):void 0}},validate(v,{schema:_,error:A}){if(!Array.isArray(v)){if(_._flags.single){const w=[v];return w[d.symbols.arraySingle]=!0,{value:w}}return{errors:A("array.base")}}if(_.$_getRule("items")||_.$_terms.externals)return{value:v.slice()}},rules:{has:{method(v){v=this.$_compile(v,{appendPath:!0});const _=this.$_addRule({name:"has",args:{schema:v}});return _.$_mutateRegister(v),_},validate(v,{state:_,prefs:A,error:w},{schema:R}){const D=[v,..._.ancestors];for(let j=0;j<v.length;++j){const L=_.localize([..._.path,j],D,R);if(R.$_match(v[j],L,A))return v}const V=R._flags.label;return V?w("array.hasKnown",{patternLabel:V}):w("array.hasUnknown",null)},multi:!0},items:{method(...v){d.verifyFlat(v,"items");const _=this.$_addRule("items");for(let A=0;A<v.length;++A){const w=d.tryWithPath(()=>this.$_compile(v[A]),A,{append:!0});_.$_terms.items.push(w)}return _.$_mutateRebuild()},validate(v,{schema:_,error:A,state:w,prefs:R,errorsArray:D}){const V=_.$_terms._requireds.slice(),j=_.$_terms.ordered.slice(),L=[..._.$_terms._inclusions,...V],I=!v[d.symbols.arraySingle];delete v[d.symbols.arraySingle];const S=D();let x=v.length;for(let O=0;O<x;++O){const k=v[O];let $=!1,U=!1;const he=I?O:new Number(O),pe=[...w.path,he];if(!_._flags.sparse&&k===void 0){if(S.push(A("array.sparse",{key:he,path:pe,pos:O,value:void 0},w.localize(pe))),R.abortEarly)return S;j.shift();continue}const G=[v,...w.ancestors];for(const B of _.$_terms._exclusions)if(B.$_match(k,w.localize(pe,G,B),R,{presence:"ignore"})){if(S.push(A("array.excludes",{pos:O,value:k},w.localize(pe))),R.abortEarly)return S;$=!0,j.shift();break}if($)continue;if(_.$_terms.ordered.length){if(j.length){const B=j.shift(),re=B.$_validate(k,w.localize(pe,G,B),R);if(re.errors){if(S.push(...re.errors),R.abortEarly)return S}else if(B._flags.result==="strip")b.fastSplice(v,O),--O,--x;else{if(!_._flags.sparse&&re.value===void 0){if(S.push(A("array.sparse",{key:he,path:pe,pos:O,value:void 0},w.localize(pe))),R.abortEarly)return S;continue}v[O]=re.value}continue}if(!_.$_terms.items.length){if(S.push(A("array.orderedLength",{pos:O,limit:_.$_terms.ordered.length})),R.abortEarly)return S;break}}const se=[];let ye=V.length;for(let B=0;B<ye;++B){const re=w.localize(pe,G,V[B]);re.snapshot();const me=V[B].$_validate(k,re,R);if(se[B]=me,!me.errors){if(re.commit(),v[O]=me.value,U=!0,b.fastSplice(V,B),--B,--ye,!_._flags.sparse&&me.value===void 0&&(S.push(A("array.sparse",{key:he,path:pe,pos:O,value:void 0},w.localize(pe))),R.abortEarly))return S;break}re.restore()}if(U)continue;const Re=R.stripUnknown&&!!R.stripUnknown.arrays||!1;ye=L.length;for(const B of L){let re;const me=V.indexOf(B);if(me!==-1)re=se[me];else{const ce=w.localize(pe,G,B);if(ce.snapshot(),re=B.$_validate(k,ce,R),!re.errors){ce.commit(),B._flags.result==="strip"?(b.fastSplice(v,O),--O,--x):_._flags.sparse||re.value!==void 0?v[O]=re.value:(S.push(A("array.sparse",{key:he,path:pe,pos:O,value:void 0},w.localize(pe))),$=!0),U=!0;break}ce.restore()}if(ye===1){if(Re){b.fastSplice(v,O),--O,--x,U=!0;break}if(S.push(...re.errors),R.abortEarly)return S;$=!0;break}}if(!$&&(_.$_terms._inclusions.length||_.$_terms._requireds.length)&&!U){if(Re){b.fastSplice(v,O),--O,--x;continue}if(S.push(A("array.includes",{pos:O,value:k},w.localize(pe))),R.abortEarly)return S}}return V.length&&b.fillMissedErrors(_,S,V,v,w,R),j.length&&(b.fillOrderedErrors(_,S,j,v,w,R),S.length||b.fillDefault(j,v,w,R)),S.length?S:v},priority:!0,manifest:!1},length:{method(v){return this.$_addRule({name:"length",args:{limit:v},operator:"="})},validate:(v,_,{limit:A},{name:w,operator:R,args:D})=>d.compare(v.length,A,R)?v:_.error("array."+w,{limit:D.limit,value:v}),args:[{name:"limit",ref:!0,assert:d.limit,message:"must be a positive integer"}]},max:{method(v){return this.$_addRule({name:"max",method:"length",args:{limit:v},operator:"<="})}},min:{method(v){return this.$_addRule({name:"min",method:"length",args:{limit:v},operator:">="})}},ordered:{method(...v){d.verifyFlat(v,"ordered");const _=this.$_addRule("items");for(let A=0;A<v.length;++A){const w=d.tryWithPath(()=>this.$_compile(v[A]),A,{append:!0});b.validateSingle(w,_),_.$_mutateRegister(w),_.$_terms.ordered.push(w)}return _.$_mutateRebuild()}},single:{method(v){const _=v===void 0||!!v;return c(!_||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",_)}},sort:{method(v={}){d.assertOptions(v,["by","order"]);const _={order:v.order||"ascending"};return v.by&&(_.by=y.ref(v.by,{ancestor:0}),c(!_.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:_}})},validate(v,{error:_,state:A,prefs:w,schema:R},{options:D}){const{value:V,errors:j}=b.sort(R,v,D,A,w);if(j)return j;for(let L=0;L<v.length;++L)if(v[L]!==V[L])return _("array.sort",{order:D.order,by:D.by?D.by.key:"value"});return v},convert:!0},sparse:{method(v){const _=v===void 0||!!v;return this._flags.sparse===_?this:(_?this.clone():this.$_addRule("items")).$_setFlag("sparse",_,{clone:!1})}},unique:{method(v,_={}){c(!v||typeof v=="function"||typeof v=="string","comparator must be a function or a string"),d.assertOptions(_,["ignoreUndefined","separator"]);const A={name:"unique",args:{options:_,comparator:v}};if(v)if(typeof v=="string"){const w=d.default(_.separator,".");A.path=w?v.split(w):[v]}else A.comparator=v;return this.$_addRule(A)},validate(v,{state:_,error:A,schema:w},{comparator:R,options:D},{comparator:V,path:j}){const L={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},I=V||p,S=D.ignoreUndefined;for(let x=0;x<v.length;++x){const O=j?g(v[x],j):v[x],k=V?L.custom:L[typeof O];if(c(k,"Failed to find unique map container for type",typeof O),k instanceof Map){const $=k.entries();let U;for(;!(U=$.next()).done;)if(I(U.value[0],O)){const he=_.localize([..._.path,x],[v,..._.ancestors]),pe={pos:x,value:v[x],dupePos:U.value[1],dupeValue:v[U.value[1]]};return j&&(pe.path=R),A("array.unique",pe,he)}k.set(O,x)}else{if((!S||O!==void 0)&&k[O]!==void 0){const $={pos:x,value:v[x],dupePos:k[O],dupeValue:v[k[O]]};return j&&($.path=R),A("array.unique",$,_.localize([..._.path,x],[v,..._.ancestors]))}k[O]=x}}return v},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(v,_)=>new Set(v)}},rebuild(v){v.$_terms._inclusions=[],v.$_terms._exclusions=[],v.$_terms._requireds=[];for(const _ of v.$_terms.items)b.validateSingle(_,v),_._flags.presence==="required"?v.$_terms._requireds.push(_):_._flags.presence==="forbidden"?v.$_terms._exclusions.push(_):v.$_terms._inclusions.push(_);for(const _ of v.$_terms.ordered)b.validateSingle(_,v)},manifest:{build:(v,_)=>(_.items&&(v=v.items(..._.items)),_.ordered&&(v=v.ordered(..._.ordered)),v)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),b.fillMissedErrors=function(v,_,A,w,R,D){const V=[];let j=0;for(const L of A){const I=L._flags.label;I?V.push(I):++j}V.length?j?_.push(v.$_createError("array.includesRequiredBoth",w,{knownMisses:V,unknownMisses:j},R,D)):_.push(v.$_createError("array.includesRequiredKnowns",w,{knownMisses:V},R,D)):_.push(v.$_createError("array.includesRequiredUnknowns",w,{unknownMisses:j},R,D))},b.fillOrderedErrors=function(v,_,A,w,R,D){const V=[];for(const j of A)j._flags.presence==="required"&&V.push(j);V.length&&b.fillMissedErrors(v,_,V,w,R,D)},b.fillDefault=function(v,_,A,w){const R=[];let D=!0;for(let V=v.length-1;V>=0;--V){const j=v[V],L=[_,...A.ancestors],I=j.$_validate(void 0,A.localize(A.path,L,j),w).value;if(D){if(I===void 0)continue;D=!1}R.unshift(I)}R.length&&_.push(...R)},b.fastSplice=function(v,_){let A=_;for(;A<v.length;)v[A++]=v[A];--v.length},b.validateSingle=function(v,_){(v.type==="array"||v._flags._arrayItems)&&(c(!_._flags.single,"Cannot specify array item with single rule enabled"),_.$_setFlag("_arrayItems",!0,{clone:!1}))},b.sort=function(v,_,A,w,R){const D=A.order==="ascending"?1:-1,V=-1*D,j=D,L=(I,S)=>{let x=b.compare(I,S,V,j);if(x!==null||(A.by&&(I=A.by.resolve(I,w,R),S=A.by.resolve(S,w,R)),x=b.compare(I,S,V,j),x!==null))return x;const O=typeof I;if(O!==typeof S)throw v.$_createError("array.sort.mismatching",_,null,w,R);if(O!=="number"&&O!=="string")throw v.$_createError("array.sort.unsupported",_,{type:O},w,R);return O==="number"?(I-S)*D:I<S?V:j};try{return{value:_.slice().sort(L)}}catch(I){return{errors:I}}},b.compare=function(v,_,A,w){return v===_?0:v===void 0?1:_===void 0?-1:v===null?w:_===null?A:null}},4937:(o,u,f)=>{const c=f(375),p=f(8068),g=f(8160),E=f(2036),d={isBool:function(y){return typeof y=="boolean"}};o.exports=p.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(y,{schema:b}){if(typeof y!="boolean"){if(typeof y=="string"){const v=b._flags.sensitive?y:y.toLowerCase();y=v==="true"||v!=="false"&&y}return typeof y!="boolean"&&(y=b.$_terms.truthy&&b.$_terms.truthy.has(y,null,null,!b._flags.sensitive)||(!b.$_terms.falsy||!b.$_terms.falsy.has(y,null,null,!b._flags.sensitive))&&y),{value:y}}},validate(y,{error:b}){if(typeof y!="boolean")return{value:y,errors:b("boolean.base")}},rules:{truthy:{method(...y){g.verifyFlat(y,"truthy");const b=this.clone();b.$_terms.truthy=b.$_terms.truthy||new E;for(let v=0;v<y.length;++v){const _=y[v];c(_!==void 0,"Cannot call truthy with undefined"),b.$_terms.truthy.add(_)}return b}},falsy:{method(...y){g.verifyFlat(y,"falsy");const b=this.clone();b.$_terms.falsy=b.$_terms.falsy||new E;for(let v=0;v<y.length;++v){const _=y[v];c(_!==void 0,"Cannot call falsy with undefined"),b.$_terms.falsy.add(_)}return b}},sensitive:{method(y=!0){return this.$_setFlag("sensitive",y)}}},cast:{number:{from:d.isBool,to:(y,b)=>y?1:0},string:{from:d.isBool,to:(y,b)=>y?"true":"false"}},manifest:{build:(y,b)=>(b.truthy&&(y=y.truthy(...b.truthy)),b.falsy&&(y=y.falsy(...b.falsy)),y)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(o,u,f)=>{const c=f(375),p=f(8068),g=f(8160),E=f(3328),d={isDate:function(y){return y instanceof Date}};o.exports=p.extend({type:"date",coerce:{from:["number","string"],method:(y,{schema:b})=>({value:d.parse(y,b._flags.format)||y})},validate(y,{schema:b,error:v,prefs:_}){if(y instanceof Date&&!isNaN(y.getTime()))return;const A=b._flags.format;return _.convert&&A&&typeof y=="string"?{value:y,errors:v("date.format",{format:A})}:{value:y,errors:v("date.base")}},rules:{compare:{method:!1,validate(y,b,{date:v},{name:_,operator:A,args:w}){const R=v==="now"?Date.now():v.getTime();return g.compare(y.getTime(),R,A)?y:b.error("date."+_,{limit:w.date,value:y})},args:[{name:"date",ref:!0,normalize:y=>y==="now"?y:d.parse(y),assert:y=>y!==null,message:"must have a valid date format"}]},format:{method(y){return c(["iso","javascript","unix"].includes(y),"Unknown date format",y),this.$_setFlag("format",y)}},greater:{method(y){return this.$_addRule({name:"greater",method:"compare",args:{date:y},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(y){return this.$_addRule({name:"less",method:"compare",args:{date:y},operator:"<"})}},max:{method(y){return this.$_addRule({name:"max",method:"compare",args:{date:y},operator:"<="})}},min:{method(y){return this.$_addRule({name:"min",method:"compare",args:{date:y},operator:">="})}},timestamp:{method(y="javascript"){return c(["javascript","unix"].includes(y),'"type" must be one of "javascript, unix"'),this.format(y)}}},cast:{number:{from:d.isDate,to:(y,b)=>y.getTime()},string:{from:d.isDate,to:(y,{prefs:b})=>E.date(y,b)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),d.parse=function(y,b){if(y instanceof Date)return y;if(typeof y!="string"&&(isNaN(y)||!isFinite(y))||/^\s*$/.test(y))return null;if(b==="iso")return g.isIsoDate(y)?d.date(y.toString()):null;const v=y;if(typeof y=="string"&&/^[+-]?\d+(\.\d+)?$/.test(y)&&(y=parseFloat(y)),b){if(b==="javascript")return d.date(1*y);if(b==="unix")return d.date(1e3*y);if(typeof v=="string")return null}return d.date(y)},d.date=function(y){const b=new Date(y);return isNaN(b.getTime())?null:b}},390:(o,u,f)=>{const c=f(375),p=f(7824);o.exports=p.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(g){return c(Number.isSafeInteger(g)&&g>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:g}})},validate:(g,E,{n:d})=>g.length===d?g:E.error("function.arity",{n:d})},class:{method(){return this.$_addRule("class")},validate:(g,E)=>/^\s*class\s/.test(g.toString())?g:E.error("function.class",{value:g})},minArity:{method(g){return c(Number.isSafeInteger(g)&&g>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:g}})},validate:(g,E,{n:d})=>g.length>=d?g:E.error("function.minArity",{n:d})},maxArity:{method(g){return c(Number.isSafeInteger(g)&&g>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:g}})},validate:(g,E,{n:d})=>g.length<=d?g:E.error("function.maxArity",{n:d})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(o,u,f)=>{const c=f(978),p=f(375),g=f(8571),E=f(3652),d=f(8068),y=f(8160),b=f(3292),v=f(6354),_=f(6133),A=f(3328),w={renameDefaults:{alias:!1,multiple:!1,override:!1}};o.exports=d.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(R,D)=>R.keys(D),validate(R,{schema:D,error:V,state:j,prefs:L}){if(!R||typeof R!==D.$_property("typeof")||Array.isArray(R))return{value:R,errors:V("object.base",{type:D.$_property("typeof")})};if(!(D.$_terms.renames||D.$_terms.dependencies||D.$_terms.keys||D.$_terms.patterns||D.$_terms.externals))return;R=w.clone(R,L);const I=[];if(D.$_terms.renames&&!w.rename(D,R,j,L,I))return{value:R,errors:I};if(!D.$_terms.keys&&!D.$_terms.patterns&&!D.$_terms.dependencies)return{value:R,errors:I};const S=new Set(Object.keys(R));if(D.$_terms.keys){const x=[R,...j.ancestors];for(const O of D.$_terms.keys){const k=O.key,$=R[k];S.delete(k);const U=j.localize([...j.path,k],x,O),he=O.schema.$_validate($,U,L);if(he.errors){if(L.abortEarly)return{value:R,errors:he.errors};he.value!==void 0&&(R[k]=he.value),I.push(...he.errors)}else O.schema._flags.result==="strip"||he.value===void 0&&$!==void 0?delete R[k]:he.value!==void 0&&(R[k]=he.value)}}if(S.size||D._flags._hasPatternMatch){const x=w.unknown(D,R,S,I,j,L);if(x)return x}if(D.$_terms.dependencies)for(const x of D.$_terms.dependencies){if(x.key!==null&&w.isPresent(x.options)(x.key.resolve(R,j,L,null,{shadow:!1}))===!1)continue;const O=w.dependencies[x.rel](D,x,R,j,L);if(O){const k=D.$_createError(O.code,R,O.context,j,L);if(L.abortEarly)return{value:R,errors:k};I.push(k)}}return{value:R,errors:I}},rules:{and:{method(...R){return y.verifyFlat(R,"and"),w.dependency(this,"and",null,R)}},append:{method(R){return R==null||Object.keys(R).length===0?this:this.keys(R)}},assert:{method(R,D,V){A.isTemplate(R)||(R=b.ref(R)),p(V===void 0||typeof V=="string","Message must be a string"),D=this.$_compile(D,{appendPath:!0});const j=this.$_addRule({name:"assert",args:{subject:R,schema:D,message:V}});return j.$_mutateRegister(R),j.$_mutateRegister(D),j},validate(R,{error:D,prefs:V,state:j},{subject:L,schema:I,message:S}){const x=L.resolve(R,j,V),O=_.isRef(L)?L.absolute(j):[];return I.$_match(x,j.localize(O,[R,...j.ancestors],I),V)?R:D("object.assert",{subject:L,message:S})},args:["subject","schema","message"],multi:!0},instance:{method(R,D){return p(typeof R=="function","constructor must be a function"),D=D||R.name,this.$_addRule({name:"instance",args:{constructor:R,name:D}})},validate:(R,D,{constructor:V,name:j})=>R instanceof V?R:D.error("object.instance",{type:j,value:R}),args:["constructor","name"]},keys:{method(R){p(R===void 0||typeof R=="object","Object schema must be a valid object"),p(!y.isSchema(R),"Object schema cannot be a joi schema");const D=this.clone();if(R)if(Object.keys(R).length){D.$_terms.keys=D.$_terms.keys?D.$_terms.keys.filter(V=>!R.hasOwnProperty(V.key)):new w.Keys;for(const V in R)y.tryWithPath(()=>D.$_terms.keys.push({key:V,schema:this.$_compile(R[V])}),V)}else D.$_terms.keys=new w.Keys;else D.$_terms.keys=null;return D.$_mutateRebuild()}},length:{method(R){return this.$_addRule({name:"length",args:{limit:R},operator:"="})},validate:(R,D,{limit:V},{name:j,operator:L,args:I})=>y.compare(Object.keys(R).length,V,L)?R:D.error("object."+j,{limit:I.limit,value:R}),args:[{name:"limit",ref:!0,assert:y.limit,message:"must be a positive integer"}]},max:{method(R){return this.$_addRule({name:"max",method:"length",args:{limit:R},operator:"<="})}},min:{method(R){return this.$_addRule({name:"min",method:"length",args:{limit:R},operator:">="})}},nand:{method(...R){return y.verifyFlat(R,"nand"),w.dependency(this,"nand",null,R)}},or:{method(...R){return y.verifyFlat(R,"or"),w.dependency(this,"or",null,R)}},oxor:{method(...R){return w.dependency(this,"oxor",null,R)}},pattern:{method(R,D,V={}){const j=R instanceof RegExp;j||(R=this.$_compile(R,{appendPath:!0})),p(D!==void 0,"Invalid rule"),y.assertOptions(V,["fallthrough","matches"]),j&&p(!R.flags.includes("g")&&!R.flags.includes("y"),"pattern should not use global or sticky mode"),D=this.$_compile(D,{appendPath:!0});const L=this.clone();L.$_terms.patterns=L.$_terms.patterns||[];const I={[j?"regex":"schema"]:R,rule:D};return V.matches&&(I.matches=this.$_compile(V.matches),I.matches.type!=="array"&&(I.matches=I.matches.$_root.array().items(I.matches)),L.$_mutateRegister(I.matches),L.$_setFlag("_hasPatternMatch",!0,{clone:!1})),V.fallthrough&&(I.fallthrough=!0),L.$_terms.patterns.push(I),L.$_mutateRegister(D),L}},ref:{method(){return this.$_addRule("ref")},validate:(R,D)=>_.isRef(R)?R:D.error("object.refType",{value:R})},regex:{method(){return this.$_addRule("regex")},validate:(R,D)=>R instanceof RegExp?R:D.error("object.regex",{value:R})},rename:{method(R,D,V={}){p(typeof R=="string"||R instanceof RegExp,"Rename missing the from argument"),p(typeof D=="string"||D instanceof A,"Invalid rename to argument"),p(D!==R,"Cannot rename key to same name:",R),y.assertOptions(V,["alias","ignoreUndefined","override","multiple"]);const j=this.clone();j.$_terms.renames=j.$_terms.renames||[];for(const L of j.$_terms.renames)p(L.from!==R,"Cannot rename the same key multiple times");return D instanceof A&&j.$_mutateRegister(D),j.$_terms.renames.push({from:R,to:D,options:c(w.renameDefaults,V)}),j}},schema:{method(R="any"){return this.$_addRule({name:"schema",args:{type:R}})},validate:(R,D,{type:V})=>!y.isSchema(R)||V!=="any"&&R.type!==V?D.error("object.schema",{type:V}):R},unknown:{method(R){return this.$_setFlag("unknown",R!==!1)}},with:{method(R,D,V={}){return w.dependency(this,"with",R,D,V)}},without:{method(R,D,V={}){return w.dependency(this,"without",R,D,V)}},xor:{method(...R){return y.verifyFlat(R,"xor"),w.dependency(this,"xor",null,R)}}},overrides:{default(R,D){return R===void 0&&(R=y.symbols.deepDefault),this.$_parent("default",R,D)}},rebuild(R){if(R.$_terms.keys){const D=new E.Sorter;for(const V of R.$_terms.keys)y.tryWithPath(()=>D.add(V,{after:V.schema.$_rootReferences(),group:V.key}),V.key);R.$_terms.keys=new w.Keys(...D.nodes)}},manifest:{build(R,D){if(D.keys&&(R=R.keys(D.keys)),D.dependencies)for(const{rel:V,key:j=null,peers:L,options:I}of D.dependencies)R=w.dependency(R,V,j,L,I);if(D.patterns)for(const{regex:V,schema:j,rule:L,fallthrough:I,matches:S}of D.patterns)R=R.pattern(V||j,L,{fallthrough:I,matches:S});if(D.renames)for(const{from:V,to:j,options:L}of D.renames)R=R.rename(V,j,L);return R}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),w.clone=function(R,D){if(typeof R=="object"){if(D.nonEnumerables)return g(R,{shallow:!0});const j=Object.create(Object.getPrototypeOf(R));return Object.assign(j,R),j}const V=function(...j){return R.apply(this,j)};return V.prototype=g(R.prototype),Object.defineProperty(V,"name",{value:R.name,writable:!1}),Object.defineProperty(V,"length",{value:R.length,writable:!1}),Object.assign(V,R),V},w.dependency=function(R,D,V,j,L){p(V===null||typeof V=="string",D,"key must be a strings"),L||(L=j.length>1&&typeof j[j.length-1]=="object"?j.pop():{}),y.assertOptions(L,["separator","isPresent"]),j=[].concat(j);const I=y.default(L.separator,"."),S=[];for(const O of j)p(typeof O=="string",D,"peers must be strings"),S.push(b.ref(O,{separator:I,ancestor:0,prefix:!1}));V!==null&&(V=b.ref(V,{separator:I,ancestor:0,prefix:!1}));const x=R.clone();return x.$_terms.dependencies=x.$_terms.dependencies||[],x.$_terms.dependencies.push(new w.Dependency(D,V,S,j,L)),x},w.dependencies={and(R,D,V,j,L){const I=[],S=[],x=D.peers.length,O=w.isPresent(D.options);for(const k of D.peers)O(k.resolve(V,j,L,null,{shadow:!1}))===!1?I.push(k.key):S.push(k.key);if(I.length!==x&&S.length!==x)return{code:"object.and",context:{present:S,presentWithLabels:w.keysToLabels(R,S),missing:I,missingWithLabels:w.keysToLabels(R,I)}}},nand(R,D,V,j,L){const I=[],S=w.isPresent(D.options);for(const k of D.peers)S(k.resolve(V,j,L,null,{shadow:!1}))&&I.push(k.key);if(I.length!==D.peers.length)return;const x=D.paths[0],O=D.paths.slice(1);return{code:"object.nand",context:{main:x,mainWithLabel:w.keysToLabels(R,x),peers:O,peersWithLabels:w.keysToLabels(R,O)}}},or(R,D,V,j,L){const I=w.isPresent(D.options);for(const S of D.peers)if(I(S.resolve(V,j,L,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:D.paths,peersWithLabels:w.keysToLabels(R,D.paths)}}},oxor(R,D,V,j,L){const I=[],S=w.isPresent(D.options);for(const O of D.peers)S(O.resolve(V,j,L,null,{shadow:!1}))&&I.push(O.key);if(!I.length||I.length===1)return;const x={peers:D.paths,peersWithLabels:w.keysToLabels(R,D.paths)};return x.present=I,x.presentWithLabels=w.keysToLabels(R,I),{code:"object.oxor",context:x}},with(R,D,V,j,L){const I=w.isPresent(D.options);for(const S of D.peers)if(I(S.resolve(V,j,L,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:D.key.key,mainWithLabel:w.keysToLabels(R,D.key.key),peer:S.key,peerWithLabel:w.keysToLabels(R,S.key)}}},without(R,D,V,j,L){const I=w.isPresent(D.options);for(const S of D.peers)if(I(S.resolve(V,j,L,null,{shadow:!1})))return{code:"object.without",context:{main:D.key.key,mainWithLabel:w.keysToLabels(R,D.key.key),peer:S.key,peerWithLabel:w.keysToLabels(R,S.key)}}},xor(R,D,V,j,L){const I=[],S=w.isPresent(D.options);for(const O of D.peers)S(O.resolve(V,j,L,null,{shadow:!1}))&&I.push(O.key);if(I.length===1)return;const x={peers:D.paths,peersWithLabels:w.keysToLabels(R,D.paths)};return I.length===0?{code:"object.missing",context:x}:(x.present=I,x.presentWithLabels=w.keysToLabels(R,I),{code:"object.xor",context:x})}},w.keysToLabels=function(R,D){return Array.isArray(D)?D.map(V=>R.$_mapLabels(V)):R.$_mapLabels(D)},w.isPresent=function(R){return typeof R.isPresent=="function"?R.isPresent:D=>D!==void 0},w.rename=function(R,D,V,j,L){const I={};for(const S of R.$_terms.renames){const x=[],O=typeof S.from!="string";if(O)for(const k in D){if(D[k]===void 0&&S.options.ignoreUndefined||k===S.to)continue;const $=S.from.exec(k);$&&x.push({from:k,to:S.to,match:$})}else!Object.prototype.hasOwnProperty.call(D,S.from)||D[S.from]===void 0&&S.options.ignoreUndefined||x.push(S);for(const k of x){const $=k.from;let U=k.to;if(U instanceof A&&(U=U.render(D,V,j,k.match)),$!==U){if(!S.options.multiple&&I[U]&&(L.push(R.$_createError("object.rename.multiple",D,{from:$,to:U,pattern:O},V,j)),j.abortEarly)||Object.prototype.hasOwnProperty.call(D,U)&&!S.options.override&&!I[U]&&(L.push(R.$_createError("object.rename.override",D,{from:$,to:U,pattern:O},V,j)),j.abortEarly))return!1;D[$]===void 0?delete D[U]:D[U]=D[$],I[U]=!0,S.options.alias||delete D[$]}}}return!0},w.unknown=function(R,D,V,j,L,I){if(R.$_terms.patterns){let S=!1;const x=R.$_terms.patterns.map(k=>{if(k.matches)return S=!0,[]}),O=[D,...L.ancestors];for(const k of V){const $=D[k],U=[...L.path,k];for(let he=0;he<R.$_terms.patterns.length;++he){const pe=R.$_terms.patterns[he];if(pe.regex){const ye=pe.regex.test(k);if(L.mainstay.tracer.debug(L,"rule",`pattern.${he}`,ye?"pass":"error"),!ye)continue}else if(!pe.schema.$_match(k,L.nest(pe.schema,`pattern.${he}`),I))continue;V.delete(k);const G=L.localize(U,O,{schema:pe.rule,key:k}),se=pe.rule.$_validate($,G,I);if(se.errors){if(I.abortEarly)return{value:D,errors:se.errors};j.push(...se.errors)}if(pe.matches&&x[he].push(k),D[k]=se.value,!pe.fallthrough)break}}if(S)for(let k=0;k<x.length;++k){const $=x[k];if(!$)continue;const U=R.$_terms.patterns[k].matches,he=L.localize(L.path,O,U),pe=U.$_validate($,he,I);if(pe.errors){const G=v.details(pe.errors,{override:!1});G.matches=$;const se=R.$_createError("object.pattern.match",D,G,L,I);if(I.abortEarly)return{value:D,errors:se};j.push(se)}}}if(V.size&&(R.$_terms.keys||R.$_terms.patterns)){if(I.stripUnknown&&R._flags.unknown===void 0||I.skipFunctions){const S=!(!I.stripUnknown||I.stripUnknown!==!0&&!I.stripUnknown.objects);for(const x of V)S?(delete D[x],V.delete(x)):typeof D[x]=="function"&&V.delete(x)}if(!y.default(R._flags.unknown,I.allowUnknown))for(const S of V){const x=L.localize([...L.path,S],[]),O=R.$_createError("object.unknown",D[S],{child:S},x,I,{flags:!1});if(I.abortEarly)return{value:D,errors:O};j.push(O)}}},w.Dependency=class{constructor(R,D,V,j,L){this.rel=R,this.key=D,this.peers=V,this.paths=j,this.options=L}describe(){const R={rel:this.rel,peers:this.paths};return this.key!==null&&(R.key=this.key.key),this.peers[0].separator!=="."&&(R.options={...R.options,separator:this.peers[0].separator}),this.options.isPresent&&(R.options={...R.options,isPresent:this.options.isPresent}),R}},w.Keys=class extends Array{concat(R){const D=this.slice(),V=new Map;for(let j=0;j<D.length;++j)V.set(D[j].key,j);for(const j of R){const L=j.key,I=V.get(L);I!==void 0?D[I]={key:L,schema:D[I].schema.concat(j.schema)}:D.push(j)}return D}}},8785:(o,u,f)=>{const c=f(375),p=f(8068),g=f(8160),E=f(3292),d=f(6354),y={};o.exports=p.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(b,v)=>b.ref(v),validate(b,{schema:v,state:_,prefs:A}){c(v.$_terms.link,"Uninitialized link schema");const w=y.generate(v,b,_,A),R=v.$_terms.link[0].ref;return w.$_validate(b,_.nest(w,`link:${R.display}:${w.type}`),A)},generate:(b,v,_,A)=>y.generate(b,v,_,A),rules:{ref:{method(b){c(!this.$_terms.link,"Cannot reinitialize schema"),b=E.ref(b),c(b.type==="value"||b.type==="local","Invalid reference type:",b.type),c(b.type==="local"||b.ancestor==="root"||b.ancestor>0,"Link cannot reference itself");const v=this.clone();return v.$_terms.link=[{ref:b}],v}},relative:{method(b=!0){return this.$_setFlag("relative",b)}}},overrides:{concat(b){c(this.$_terms.link,"Uninitialized link schema"),c(g.isSchema(b),"Invalid schema object"),c(b.type!=="link","Cannot merge type link with another link");const v=this.clone();return v.$_terms.whens||(v.$_terms.whens=[]),v.$_terms.whens.push({concat:b}),v.$_mutateRebuild()}},manifest:{build:(b,v)=>(c(v.link,"Invalid link description missing link"),b.ref(v.link))}}),y.generate=function(b,v,_,A){let w=_.mainstay.links.get(b);if(w)return w._generate(v,_,A).schema;const R=b.$_terms.link[0].ref,{perspective:D,path:V}=y.perspective(R,_);y.assert(D,"which is outside of schema boundaries",R,b,_,A);try{w=V.length?D.$_reach(V):D}catch{y.assert(!1,"to non-existing schema",R,b,_,A)}return y.assert(w.type!=="link","which is another link",R,b,_,A),b._flags.relative||_.mainstay.links.set(b,w),w._generate(v,_,A).schema},y.perspective=function(b,v){if(b.type==="local"){for(const{schema:_,key:A}of v.schemas){if((_._flags.id||A)===b.path[0])return{perspective:_,path:b.path.slice(1)};if(_.$_terms.shared){for(const w of _.$_terms.shared)if(w._flags.id===b.path[0])return{perspective:w,path:b.path.slice(1)}}}return{perspective:null,path:null}}return b.ancestor==="root"?{perspective:v.schemas[v.schemas.length-1].schema,path:b.path}:{perspective:v.schemas[b.ancestor]&&v.schemas[b.ancestor].schema,path:b.path}},y.assert=function(b,v,_,A,w,R){b||c(!1,`"${d.label(A._flags,w,R)}" contains link reference "${_.display}" ${v}`)}},3832:(o,u,f)=>{const c=f(375),p=f(8068),g=f(8160),E={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(d){const y=d.toString(),b=y.indexOf("."),v=y.indexOf("e");return(b<0?0:(v<0?y.length:v)-b-1)+(v<0?0:Math.max(0,-parseInt(y.slice(v+1))))}};o.exports=p.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(d,{schema:y,error:b}){if(!d.match(E.numberRx))return;d=d.trim();const v={value:parseFloat(d)};if(v.value===0&&(v.value=0),!y._flags.unsafe)if(d.match(/e/i)){if(E.extractSignificantDigits(d)!==E.extractSignificantDigits(String(v.value)))return v.errors=b("number.unsafe"),v}else{const _=v.value.toString();if(_.match(/e/i))return v;if(_!==E.normalizeDecimal(d))return v.errors=b("number.unsafe"),v}return v}},validate(d,{schema:y,error:b,prefs:v}){if(d===1/0||d===-1/0)return{value:d,errors:b("number.infinity")};if(!g.isNumber(d))return{value:d,errors:b("number.base")};const _={value:d};if(v.convert){const A=y.$_getRule("precision");if(A){const w=Math.pow(10,A.args.limit);_.value=Math.round(_.value*w)/w}}return _.value===0&&(_.value=0),!y._flags.unsafe&&(d>Number.MAX_SAFE_INTEGER||d<Number.MIN_SAFE_INTEGER)&&(_.errors=b("number.unsafe")),_},rules:{compare:{method:!1,validate:(d,y,{limit:b},{name:v,operator:_,args:A})=>g.compare(d,b,_)?d:y.error("number."+v,{limit:A.limit,value:d}),args:[{name:"limit",ref:!0,assert:g.isNumber,message:"must be a number"}]},greater:{method(d){return this.$_addRule({name:"greater",method:"compare",args:{limit:d},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(d,y)=>Math.trunc(d)-d==0?d:y.error("number.integer")},less:{method(d){return this.$_addRule({name:"less",method:"compare",args:{limit:d},operator:"<"})}},max:{method(d){return this.$_addRule({name:"max",method:"compare",args:{limit:d},operator:"<="})}},min:{method(d){return this.$_addRule({name:"min",method:"compare",args:{limit:d},operator:">="})}},multiple:{method(d){const y=typeof d=="number"?E.decimalPlaces(d):null,b=Math.pow(10,y);return this.$_addRule({name:"multiple",args:{base:d,baseDecimalPlace:y,pfactor:b}})},validate:(d,y,{base:b,baseDecimalPlace:v,pfactor:_},A)=>E.decimalPlaces(d)>v?y.error("number.multiple",{multiple:A.args.base,value:d}):Math.round(_*d)%Math.round(_*b)==0?d:y.error("number.multiple",{multiple:A.args.base,value:d}),args:[{name:"base",ref:!0,assert:d=>typeof d=="number"&&isFinite(d)&&d>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(d,y)=>Number.isSafeInteger(d)&&d>=0&&d<=65535?d:y.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(d){return c(Number.isSafeInteger(d),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:d}})},validate(d,y,{limit:b}){const v=d.toString().match(E.precisionRx);return Math.max((v[1]?v[1].length:0)-(v[2]?parseInt(v[2],10):0),0)<=b?d:y.error("number.precision",{limit:b,value:d})},convert:!0},sign:{method(d){return c(["negative","positive"].includes(d),"Invalid sign",d),this.$_addRule({name:"sign",args:{sign:d}})},validate:(d,y,{sign:b})=>b==="negative"&&d<0||b==="positive"&&d>0?d:y.error(`number.${b}`)},unsafe:{method(d=!0){return c(typeof d=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",d)}}},cast:{string:{from:d=>typeof d=="number",to:(d,y)=>d.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),E.extractSignificantDigits=function(d){return d.replace(E.exponentialPartRegex,"").replace(E.dotRegex,"").replace(E.trailingZerosRegex,"").replace(E.leadingSignAndZerosRegex,"")},E.normalizeDecimal=function(d){return(d=d.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&d.endsWith("0")&&(d=d.replace(/0+$/,"")),d==="-0"?"0":d}},8966:(o,u,f)=>{const c=f(7824);o.exports=c.extend({type:"object",cast:{map:{from:p=>p&&typeof p=="object",to:(p,g)=>new Map(Object.entries(p))}}})},7417:(o,u,f)=>{const c=f(375),p=f(5380),g=f(1745),E=f(9959),d=f(6064),y=f(9926),b=f(5752),v=f(8068),_=f(8160),A={tlds:y instanceof Set&&{tlds:{allow:y,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:E.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};o.exports=v.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(w,{schema:R,state:D,prefs:V}){const j=R.$_getRule("normalize");j&&(w=w.normalize(j.args.form));const L=R.$_getRule("case");L&&(w=L.args.direction==="upper"?w.toLocaleUpperCase():w.toLocaleLowerCase());const I=R.$_getRule("trim");if(I&&I.args.enabled&&(w=w.trim()),R.$_terms.replacements)for(const x of R.$_terms.replacements)w=w.replace(x.pattern,x.replacement);const S=R.$_getRule("hex");if(S&&S.args.options.byteAligned&&w.length%2!=0&&(w=`0${w}`),R.$_getRule("isoDate")){const x=A.isoDate(w);x&&(w=x)}if(R._flags.truncate){const x=R.$_getRule("max");if(x){let O=x.args.limit;if(_.isResolvable(O)&&(O=O.resolve(w,D,V),!_.limit(O)))return{value:w,errors:R.$_createError("any.ref",O,{ref:x.args.limit,arg:"limit",reason:"must be a positive integer"},D,V)};w=w.slice(0,O)}}return{value:w}}},validate(w,{schema:R,error:D}){if(typeof w!="string")return{value:w,errors:D("string.base")};if(w===""){const V=R.$_getRule("min");return V&&V.args.limit===0?void 0:{value:w,errors:D("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(w,R)=>/^[a-zA-Z0-9]+$/.test(w)?w:R.error("string.alphanum")},base64:{method(w={}){return _.assertOptions(w,["paddingRequired","urlSafe"]),w={urlSafe:!1,paddingRequired:!0,...w},c(typeof w.paddingRequired=="boolean","paddingRequired must be boolean"),c(typeof w.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:w}})},validate:(w,R,{options:D})=>A.base64Regex[D.paddingRequired][D.urlSafe].test(w)?w:R.error("string.base64")},case:{method(w){return c(["lower","upper"].includes(w),"Invalid case:",w),this.$_addRule({name:"case",args:{direction:w}})},validate:(w,R,{direction:D})=>D==="lower"&&w===w.toLocaleLowerCase()||D==="upper"&&w===w.toLocaleUpperCase()?w:R.error(`string.${D}case`),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(w,R){let D=w.length,V=0,j=1;for(;D--;){const L=w.charAt(D)*j;V+=L-9*(L>9),j^=3}return V>0&&V%10==0?w:R.error("string.creditCard")}},dataUri:{method(w={}){return _.assertOptions(w,["paddingRequired"]),w={paddingRequired:!0,...w},c(typeof w.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:w}})},validate(w,R,{options:D}){const V=w.match(A.dataUriRegex);return V&&(!V[2]||V[2]!=="base64"||A.base64Regex[D.paddingRequired].false.test(V[3]))?w:R.error("string.dataUri")}},domain:{method(w){w&&_.assertOptions(w,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const R=A.addressOptions(w);return this.$_addRule({name:"domain",args:{options:w},address:R})},validate:(w,R,D,{address:V})=>p.isValid(w,V)?w:R.error("string.domain")},email:{method(w={}){_.assertOptions(w,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),c(w.multiple===void 0||typeof w.multiple=="boolean","multiple option must be an boolean");const R=A.addressOptions(w),D=new RegExp(`\\s*[${w.separator?d(w.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:w},regex:D,address:R})},validate(w,R,{options:D},{regex:V,address:j}){const L=D.multiple?w.split(V):[w],I=[];for(const S of L)g.isValid(S,j)||I.push(S);return I.length?R.error("string.email",{value:w,invalids:I}):w}},guid:{alias:"uuid",method(w={}){_.assertOptions(w,["version","separator"]);let R="";if(w.version){const j=[].concat(w.version);c(j.length>=1,"version must have at least 1 valid version specified");const L=new Set;for(let I=0;I<j.length;++I){const S=j[I];c(typeof S=="string","version at position "+I+" must be a string");const x=A.guidVersions[S.toLowerCase()];c(x,"version at position "+I+" must be one of "+Object.keys(A.guidVersions).join(", ")),c(!L.has(x),"version at position "+I+" must not be a duplicate"),R+=x,L.add(x)}}c(A.guidSeparators.has(w.separator),'separator must be one of true, false, "-", or ":"');const D=w.separator===void 0?"[:-]?":w.separator===!0?"[:-]":w.separator===!1?"[]?":`\\${w.separator}`,V=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${D})[0-9A-F]{4}\\2?[${R||"0-9A-F"}][0-9A-F]{3}\\2?[${R?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:w},regex:V})},validate(w,R,D,{regex:V}){const j=V.exec(w);return j?A.guidBrackets[j[1]]!==j[j.length-1]?R.error("string.guid"):w:R.error("string.guid")}},hex:{method(w={}){return _.assertOptions(w,["byteAligned","prefix"]),w={byteAligned:!1,prefix:!1,...w},c(typeof w.byteAligned=="boolean","byteAligned must be boolean"),c(typeof w.prefix=="boolean"||w.prefix==="optional",'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:w}})},validate:(w,R,{options:D})=>(D.prefix==="optional"?A.hexRegex.withOptionalPrefix:D.prefix===!0?A.hexRegex.withPrefix:A.hexRegex.withoutPrefix).test(w)?D.byteAligned&&w.length%2!=0?R.error("string.hexAlign"):w:R.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(w,R)=>p.isValid(w,{minDomainSegments:1})||A.ipRegex.test(w)?w:R.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(w={}){_.assertOptions(w,["cidr","version"]);const{cidr:R,versions:D,regex:V}=E.regex(w),j=w.version?D:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:R,version:j}},regex:V})},validate:(w,R,{options:D},{regex:V})=>V.test(w)?w:D.version?R.error("string.ipVersion",{value:w,cidr:D.cidr,version:D.version}):R.error("string.ip",{value:w,cidr:D.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(w,{error:R})=>A.isoDate(w)?w:R("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(w,R)=>A.isoDurationRegex.test(w)?w:R.error("string.isoDuration")},length:{method(w,R){return A.length(this,"length",w,"=",R)},validate(w,R,{limit:D,encoding:V},{name:j,operator:L,args:I}){const S=!V&&w.length;return _.compare(S,D,L)?w:R.error("string."+j,{limit:I.limit,value:w,encoding:V})},args:[{name:"limit",ref:!0,assert:_.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(w,R){return A.length(this,"max",w,"<=",R)},args:["limit","encoding"]},min:{method(w,R){return A.length(this,"min",w,">=",R)},args:["limit","encoding"]},normalize:{method(w="NFC"){return c(A.normalizationForms.includes(w),"normalization form must be one of "+A.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:w}})},validate:(w,{error:R},{form:D})=>w===w.normalize(D)?w:R("string.normalize",{value:w,form:D}),convert:!0},pattern:{alias:"regex",method(w,R={}){c(w instanceof RegExp,"regex must be a RegExp"),c(!w.flags.includes("g")&&!w.flags.includes("y"),"regex should not use global or sticky mode"),typeof R=="string"&&(R={name:R}),_.assertOptions(R,["invert","name"]);const D=["string.pattern",R.invert?".invert":"",R.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:w,options:R},errorCode:D})},validate:(w,R,{regex:D,options:V},{errorCode:j})=>D.test(w)^V.invert?w:R.error(j,{name:V.name,regex:D,value:w}),args:["regex","options"],multi:!0},replace:{method(w,R){typeof w=="string"&&(w=new RegExp(d(w),"g")),c(w instanceof RegExp,"pattern must be a RegExp"),c(typeof R=="string","replacement must be a String");const D=this.clone();return D.$_terms.replacements||(D.$_terms.replacements=[]),D.$_terms.replacements.push({pattern:w,replacement:R}),D}},token:{method(){return this.$_addRule("token")},validate:(w,R)=>/^\w+$/.test(w)?w:R.error("string.token")},trim:{method(w=!0){return c(typeof w=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:w}})},validate:(w,R,{enabled:D})=>D&&w!==w.trim()?R.error("string.trim"):w,convert:!0},truncate:{method(w=!0){return c(typeof w=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",w)}},uppercase:{method(){return this.case("upper")}},uri:{method(w={}){_.assertOptions(w,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),w.domain&&_.assertOptions(w.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:R,scheme:D}=b.regex(w),V=w.domain?A.addressOptions(w.domain):null;return this.$_addRule({name:"uri",args:{options:w},regex:R,domain:V,scheme:D})},validate(w,R,{options:D},{regex:V,domain:j,scheme:L}){if(["http:/","https:/"].includes(w))return R.error("string.uri");let I=V.exec(w);if(!I&&R.prefs.convert&&D.encodeUri){const S=encodeURI(w);I=V.exec(S),I&&(w=S)}if(I){const S=I[1]||I[2];return!j||D.allowRelative&&!S||p.isValid(S,j)?w:R.error("string.domain",{value:S})}return D.relativeOnly?R.error("string.uriRelativeOnly"):D.scheme?R.error("string.uriCustomScheme",{scheme:L,value:w}):R.error("string.uri")}}},manifest:{build(w,R){if(R.replacements)for(const{pattern:D,replacement:V}of R.replacements)w=w.replace(D,V);return w}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),A.addressOptions=function(w){if(!w)return A.tlds||w;if(c(w.minDomainSegments===void 0||Number.isSafeInteger(w.minDomainSegments)&&w.minDomainSegments>0,"minDomainSegments must be a positive integer"),c(w.maxDomainSegments===void 0||Number.isSafeInteger(w.maxDomainSegments)&&w.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),w.tlds===!1)return w;if(w.tlds===!0||w.tlds===void 0)return c(A.tlds,"Built-in TLD list disabled"),Object.assign({},w,A.tlds);c(typeof w.tlds=="object","tlds must be true, false, or an object");const R=w.tlds.deny;if(R)return Array.isArray(R)&&(w=Object.assign({},w,{tlds:{deny:new Set(R)}})),c(w.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),c(!w.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),A.validateTlds(w.tlds.deny,"tlds.deny"),w;const D=w.tlds.allow;return D?D===!0?(c(A.tlds,"Built-in TLD list disabled"),Object.assign({},w,A.tlds)):(Array.isArray(D)&&(w=Object.assign({},w,{tlds:{allow:new Set(D)}})),c(w.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),A.validateTlds(w.tlds.allow,"tlds.allow"),w):w},A.validateTlds=function(w,R){for(const D of w)c(p.isValid(D,{minDomainSegments:1,maxDomainSegments:1}),`${R} must contain valid top level domain names`)},A.isoDate=function(w){if(!_.isIsoDate(w))return null;/.*T.*[+-]\d\d$/.test(w)&&(w+="00");const R=new Date(w);return isNaN(R.getTime())?null:R.toISOString()},A.length=function(w,R,D,V,j){return c(!j||!1,"Invalid encoding:",j),w.$_addRule({name:R,method:"length",args:{limit:D,encoding:j},operator:V})}},8826:(o,u,f)=>{const c=f(375),p=f(8068),g={};g.Map=class extends Map{slice(){return new g.Map(this)}},o.exports=p.extend({type:"symbol",terms:{map:{init:new g.Map}},coerce:{method(E,{schema:d,error:y}){const b=d.$_terms.map.get(E);return b&&(E=b),d._flags.only&&typeof E!="symbol"?{value:E,errors:y("symbol.map",{map:d.$_terms.map})}:{value:E}}},validate(E,{error:d}){if(typeof E!="symbol")return{value:E,errors:d("symbol.base")}},rules:{map:{method(E){E&&!E[Symbol.iterator]&&typeof E=="object"&&(E=Object.entries(E)),c(E&&E[Symbol.iterator],"Iterable must be an iterable or object");const d=this.clone(),y=[];for(const b of E){c(b&&b[Symbol.iterator],"Entry must be an iterable");const[v,_]=b;c(typeof v!="object"&&typeof v!="function"&&typeof v!="symbol","Key must not be of type object, function, or Symbol"),c(typeof _=="symbol","Value must be a Symbol"),d.$_terms.map.set(v,_),y.push(_)}return d.valid(...y)}}},manifest:{build:(E,d)=>(d.map&&(E=E.map(d.map)),E)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(o,u,f)=>{const c=f(375),p=f(8571),g=f(738),E=f(9621),d=f(8160),y=f(6354),b=f(493),v={result:Symbol("result")};u.entry=function(_,A,w){let R=d.defaults;w&&(c(w.warnings===void 0,"Cannot override warnings preference in synchronous validation"),c(w.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),R=d.preferences(d.defaults,w));const D=v.entry(_,A,R);c(!D.mainstay.externals.length,"Schema with external rules must use validateAsync()");const V={value:D.value};return D.error&&(V.error=D.error),D.mainstay.warnings.length&&(V.warning=y.details(D.mainstay.warnings)),D.mainstay.debug&&(V.debug=D.mainstay.debug),D.mainstay.artifacts&&(V.artifacts=D.mainstay.artifacts),V},u.entryAsync=async function(_,A,w){let R=d.defaults;w&&(R=d.preferences(d.defaults,w));const D=v.entry(_,A,R),V=D.mainstay;if(D.error)throw V.debug&&(D.error.debug=V.debug),D.error;if(V.externals.length){let L=D.value;const I=[];for(const S of V.externals){const x=S.state.path,O=S.schema.type==="link"?V.links.get(S.schema):null;let k,$,U=L;const he=x.length?[L]:[],pe=x.length?E(_,x):_;if(x.length){k=x[x.length-1];let G=L;for(const se of x.slice(0,-1))G=G[se],he.unshift(G);$=he[0],U=$[k]}try{const G=(ye,Re)=>(O||S.schema).$_createError(ye,U,Re,S.state,R),se=await S.method(U,{schema:S.schema,linked:O,state:S.state,prefs:w,original:pe,error:G,errorsArray:v.errorsArray,warn:(ye,Re)=>V.warnings.push((O||S.schema).$_createError(ye,U,Re,S.state,R)),message:(ye,Re)=>(O||S.schema).$_createError("external",U,Re,S.state,R,{messages:ye})});if(se===void 0||se===U)continue;if(se instanceof y.Report){if(V.tracer.log(S.schema,S.state,"rule","external","error"),I.push(se),R.abortEarly)break;continue}if(Array.isArray(se)&&se[d.symbols.errors]){if(V.tracer.log(S.schema,S.state,"rule","external","error"),I.push(...se),R.abortEarly)break;continue}$?(V.tracer.value(S.state,"rule",U,se,"external"),$[k]=se):(V.tracer.value(S.state,"rule",L,se,"external"),L=se)}catch(G){throw R.errors.label&&(G.message+=` (${S.label})`),G}}if(D.value=L,I.length)throw D.error=y.process(I,_,R),V.debug&&(D.error.debug=V.debug),D.error}if(!R.warnings&&!R.debug&&!R.artifacts)return D.value;const j={value:D.value};return V.warnings.length&&(j.warning=y.details(V.warnings)),V.debug&&(j.debug=V.debug),V.artifacts&&(j.artifacts=V.artifacts),j},v.Mainstay=class{constructor(_,A,w){this.externals=[],this.warnings=[],this.tracer=_,this.debug=A,this.links=w,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const _=this._snapshots.pop();this.externals=_.externals,this.warnings=_.warnings}commit(){this._snapshots.pop()}},v.entry=function(_,A,w){const{tracer:R,cleanup:D}=v.tracer(A,w),V=w.debug?[]:null,j=A._ids._schemaChain?new Map:null,L=new v.Mainstay(R,V,j),I=A._ids._schemaChain?[{schema:A}]:null,S=new b([],[],{mainstay:L,schemas:I}),x=u.validate(_,A,S,w);D&&A.$_root.untrace();const O=y.process(x.errors,_,w);return{value:x.value,error:O,mainstay:L}},v.tracer=function(_,A){return _.$_root._tracer?{tracer:_.$_root._tracer._register(_)}:A.debug?(c(_.$_root.trace,"Debug mode not supported"),{tracer:_.$_root.trace()._register(_),cleanup:!0}):{tracer:v.ignore}},u.validate=function(_,A,w,R,D={}){if(A.$_terms.whens&&(A=A._generate(_,w,R).schema),A._preferences&&(R=v.prefs(A,R)),A._cache&&R.cache){const O=A._cache.get(_);if(w.mainstay.tracer.debug(w,"validate","cached",!!O),O)return O}const V=(O,k,$)=>A.$_createError(O,_,k,$||w,R),j={original:_,prefs:R,schema:A,state:w,error:V,errorsArray:v.errorsArray,warn:(O,k,$)=>w.mainstay.warnings.push(V(O,k,$)),message:(O,k)=>A.$_createError("custom",_,k,w,R,{messages:O})};w.mainstay.tracer.entry(A,w);const L=A._definition;if(L.prepare&&_!==void 0&&R.convert){const O=L.prepare(_,j);if(O){if(w.mainstay.tracer.value(w,"prepare",_,O.value),O.errors)return v.finalize(O.value,[].concat(O.errors),j);_=O.value}}if(L.coerce&&_!==void 0&&R.convert&&(!L.coerce.from||L.coerce.from.includes(typeof _))){const O=L.coerce.method(_,j);if(O){if(w.mainstay.tracer.value(w,"coerced",_,O.value),O.errors)return v.finalize(O.value,[].concat(O.errors),j);_=O.value}}const I=A._flags.empty;I&&I.$_match(v.trim(_,A),w.nest(I),d.defaults)&&(w.mainstay.tracer.value(w,"empty",_,void 0),_=void 0);const S=D.presence||A._flags.presence||(A._flags._endedSwitch?null:R.presence);if(_===void 0){if(S==="forbidden")return v.finalize(_,null,j);if(S==="required")return v.finalize(_,[A.$_createError("any.required",_,null,w,R)],j);if(S==="optional"){if(A._flags.default!==d.symbols.deepDefault)return v.finalize(_,null,j);w.mainstay.tracer.value(w,"default",_,{}),_={}}}else if(S==="forbidden")return v.finalize(_,[A.$_createError("any.unknown",_,null,w,R)],j);const x=[];if(A._valids){const O=A._valids.get(_,w,R,A._flags.insensitive);if(O)return R.convert&&(w.mainstay.tracer.value(w,"valids",_,O.value),_=O.value),w.mainstay.tracer.filter(A,w,"valid",O),v.finalize(_,null,j);if(A._flags.only){const k=A.$_createError("any.only",_,{valids:A._valids.values({display:!0})},w,R);if(R.abortEarly)return v.finalize(_,[k],j);x.push(k)}}if(A._invalids){const O=A._invalids.get(_,w,R,A._flags.insensitive);if(O){w.mainstay.tracer.filter(A,w,"invalid",O);const k=A.$_createError("any.invalid",_,{invalids:A._invalids.values({display:!0})},w,R);if(R.abortEarly)return v.finalize(_,[k],j);x.push(k)}}if(L.validate){const O=L.validate(_,j);if(O&&(w.mainstay.tracer.value(w,"base",_,O.value),_=O.value,O.errors)){if(!Array.isArray(O.errors))return x.push(O.errors),v.finalize(_,x,j);if(O.errors.length)return x.push(...O.errors),v.finalize(_,x,j)}}return A._rules.length?v.rules(_,x,j):v.finalize(_,x,j)},v.rules=function(_,A,w){const{schema:R,state:D,prefs:V}=w;for(const j of R._rules){const L=R._definition.rules[j.method];if(L.convert&&V.convert){D.mainstay.tracer.log(R,D,"rule",j.name,"full");continue}let I,S=j.args;if(j._resolve.length){S=Object.assign({},S);for(const O of j._resolve){const k=L.argsByName.get(O),$=S[O].resolve(_,D,V),U=k.normalize?k.normalize($):$,he=d.validateArg(U,null,k);if(he){I=R.$_createError("any.ref",$,{arg:O,ref:S[O],reason:he},D,V);break}S[O]=U}}I=I||L.validate(_,w,S,j);const x=v.rule(I,j);if(x.errors){if(D.mainstay.tracer.log(R,D,"rule",j.name,"error"),j.warn){D.mainstay.warnings.push(...x.errors);continue}if(V.abortEarly)return v.finalize(_,x.errors,w);A.push(...x.errors)}else D.mainstay.tracer.log(R,D,"rule",j.name,"pass"),D.mainstay.tracer.value(D,"rule",_,x.value,j.name),_=x.value}return v.finalize(_,A,w)},v.rule=function(_,A){return _ instanceof y.Report?(v.error(_,A),{errors:[_],value:null}):Array.isArray(_)&&_[d.symbols.errors]?(_.forEach(w=>v.error(w,A)),{errors:_,value:null}):{errors:null,value:_}},v.error=function(_,A){return A.message&&_._setTemplate(A.message),_},v.finalize=function(_,A,w){A=A||[];const{schema:R,state:D,prefs:V}=w;if(A.length){const L=v.default("failover",void 0,A,w);L!==void 0&&(D.mainstay.tracer.value(D,"failover",_,L),_=L,A=[])}if(A.length&&R._flags.error)if(typeof R._flags.error=="function"){A=R._flags.error(A),Array.isArray(A)||(A=[A]);for(const L of A)c(L instanceof Error||L instanceof y.Report,"error() must return an Error object")}else A=[R._flags.error];if(_===void 0){const L=v.default("default",_,A,w);D.mainstay.tracer.value(D,"default",_,L),_=L}if(R._flags.cast&&_!==void 0){const L=R._definition.cast[R._flags.cast];if(L.from(_)){const I=L.to(_,w);D.mainstay.tracer.value(D,"cast",_,I,R._flags.cast),_=I}}if(R.$_terms.externals&&V.externals&&V._externals!==!1)for(const{method:L}of R.$_terms.externals)D.mainstay.externals.push({method:L,schema:R,state:D,label:y.label(R._flags,D,V)});const j={value:_,errors:A.length?A:null};return R._flags.result&&(j.value=R._flags.result==="strip"?void 0:w.original,D.mainstay.tracer.value(D,R._flags.result,_,j.value),D.shadow(_,R._flags.result)),R._cache&&V.cache!==!1&&!R._refs.length&&R._cache.set(w.original,j),_===void 0||j.errors||R._flags.artifact===void 0||(D.mainstay.artifacts=D.mainstay.artifacts||new Map,D.mainstay.artifacts.has(R._flags.artifact)||D.mainstay.artifacts.set(R._flags.artifact,[]),D.mainstay.artifacts.get(R._flags.artifact).push(D.path)),j},v.prefs=function(_,A){const w=A===d.defaults;return w&&_._preferences[d.symbols.prefs]?_._preferences[d.symbols.prefs]:(A=d.preferences(A,_._preferences),w&&(_._preferences[d.symbols.prefs]=A),A)},v.default=function(_,A,w,R){const{schema:D,state:V,prefs:j}=R,L=D._flags[_];if(j.noDefaults||L===void 0)return A;if(V.mainstay.tracer.log(D,V,"rule",_,"full"),!L)return L;if(typeof L=="function"){const I=L.length?[p(V.ancestors[0]),R]:[];try{return L(...I)}catch(S){return void w.push(D.$_createError(`any.${_}`,null,{error:S},V,j))}}return typeof L!="object"?L:L[d.symbols.literal]?L.literal:d.isResolvable(L)?L.resolve(A,V,j):p(L)},v.trim=function(_,A){if(typeof _!="string")return _;const w=A.$_getRule("trim");return w&&w.args.enabled?_.trim():_},v.ignore={active:!1,debug:g,entry:g,filter:g,log:g,resolve:g,value:g},v.errorsArray=function(){const _=[];return _[d.symbols.errors]=!0,_}},2036:(o,u,f)=>{const c=f(375),p=f(9474),g=f(8160),E={};o.exports=E.Values=class{constructor(d,y){this._values=new Set(d),this._refs=new Set(y),this._lowercase=E.lowercases(d),this._override=!1}get length(){return this._values.size+this._refs.size}add(d,y){g.isResolvable(d)?this._refs.has(d)||(this._refs.add(d),y&&y.register(d)):this.has(d,null,null,!1)||(this._values.add(d),typeof d=="string"&&this._lowercase.set(d.toLowerCase(),d))}static merge(d,y,b){if(d=d||new E.Values,y){if(y._override)return y.clone();for(const v of[...y._values,...y._refs])d.add(v)}if(b)for(const v of[...b._values,...b._refs])d.remove(v);return d.length?d:null}remove(d){g.isResolvable(d)?this._refs.delete(d):(this._values.delete(d),typeof d=="string"&&this._lowercase.delete(d.toLowerCase()))}has(d,y,b,v){return!!this.get(d,y,b,v)}get(d,y,b,v){if(!this.length)return!1;if(this._values.has(d))return{value:d};if(typeof d=="string"&&d&&v){const _=this._lowercase.get(d.toLowerCase());if(_)return{value:_}}if(!this._refs.size&&typeof d!="object")return!1;if(typeof d=="object"){for(const _ of this._values)if(p(_,d))return{value:_}}if(y)for(const _ of this._refs){const A=_.resolve(d,y,b,null,{in:!0});if(A===void 0)continue;const w=_.in&&typeof A=="object"?Array.isArray(A)?A:Object.keys(A):[A];for(const R of w)if(typeof R==typeof d){if(v&&d&&typeof d=="string"){if(R.toLowerCase()===d.toLowerCase())return{value:R,ref:_}}else if(p(R,d))return{value:R,ref:_}}}return!1}override(){this._override=!0}values(d){if(d&&d.display){const y=[];for(const b of[...this._values,...this._refs])b!==void 0&&y.push(b);return y}return Array.from([...this._values,...this._refs])}clone(){const d=new E.Values(this._values,this._refs);return d._override=this._override,d}concat(d){c(!d._override,"Cannot concat override set of values");const y=new E.Values([...this._values,...d._values],[...this._refs,...d._refs]);return y._override=this._override,y}describe(){const d=[];this._override&&d.push({override:!0});for(const y of this._values.values())d.push(y&&typeof y=="object"?{value:y}:y);for(const y of this._refs.values())d.push(y.describe());return d}},E.Values.prototype[g.symbols.values]=!0,E.Values.prototype.slice=E.Values.prototype.clone,E.lowercases=function(d){const y=new Map;if(d)for(const b of d)typeof b=="string"&&y.set(b.toLowerCase(),b);return y}},978:(o,u,f)=>{const c=f(375),p=f(8571),g=f(1687),E=f(9621),d={};o.exports=function(y,b,v={}){if(c(y&&typeof y=="object","Invalid defaults value: must be an object"),c(!b||b===!0||typeof b=="object","Invalid source value: must be true, falsy or an object"),c(typeof v=="object","Invalid options: must be an object"),!b)return null;if(v.shallow)return d.applyToDefaultsWithShallow(y,b,v);const _=p(y);if(b===!0)return _;const A=v.nullOverride!==void 0&&v.nullOverride;return g(_,b,{nullOverride:A,mergeArrays:!1})},d.applyToDefaultsWithShallow=function(y,b,v){const _=v.shallow;c(Array.isArray(_),"Invalid keys");const A=new Map,w=b===!0?null:new Set;for(let V of _){V=Array.isArray(V)?V:V.split(".");const j=E(y,V);j&&typeof j=="object"?A.set(j,w&&E(b,V)||j):w&&w.add(V)}const R=p(y,{},A);if(!w)return R;for(const V of w)d.reachCopy(R,b,V);const D=v.nullOverride!==void 0&&v.nullOverride;return g(R,b,{nullOverride:D,mergeArrays:!1})},d.reachCopy=function(y,b,v){for(const w of v){if(!(w in b))return;const R=b[w];if(typeof R!="object"||R===null)return;b=R}const _=b;let A=y;for(let w=0;w<v.length-1;++w){const R=v[w];typeof A[R]!="object"&&(A[R]={}),A=A[R]}A[v[v.length-1]]=_}},375:(o,u,f)=>{const c=f(7916);o.exports=function(p,...g){if(!p)throw g.length===1&&g[0]instanceof Error?g[0]:new c(g)}},8571:(o,u,f)=>{const c=f(9621),p=f(4277),g=f(7043),E={needsProtoHack:new Set([p.set,p.map,p.weakSet,p.weakMap])};o.exports=E.clone=function(d,y={},b=null){if(typeof d!="object"||d===null)return d;let v=E.clone,_=b;if(y.shallow){if(y.shallow!==!0)return E.cloneWithShallow(d,y);v=D=>D}else if(_){const D=_.get(d);if(D)return D}else _=new Map;const A=p.getInternalProto(d);if(A===p.buffer)return!1;if(A===p.date)return new Date(d.getTime());if(A===p.regex)return new RegExp(d);const w=E.base(d,A,y);if(w===d)return d;if(_&&_.set(d,w),A===p.set)for(const D of d)w.add(v(D,y,_));else if(A===p.map)for(const[D,V]of d)w.set(D,v(V,y,_));const R=g.keys(d,y);for(const D of R){if(D==="__proto__")continue;if(A===p.array&&D==="length"){w.length=d.length;continue}const V=Object.getOwnPropertyDescriptor(d,D);V?V.get||V.set?Object.defineProperty(w,D,V):V.enumerable?w[D]=v(d[D],y,_):Object.defineProperty(w,D,{enumerable:!1,writable:!0,configurable:!0,value:v(d[D],y,_)}):Object.defineProperty(w,D,{enumerable:!0,writable:!0,configurable:!0,value:v(d[D],y,_)})}return w},E.cloneWithShallow=function(d,y){const b=y.shallow;(y=Object.assign({},y)).shallow=!1;const v=new Map;for(const _ of b){const A=c(d,_);typeof A!="object"&&typeof A!="function"||v.set(A,A)}return E.clone(d,y,v)},E.base=function(d,y,b){if(b.prototype===!1)return E.needsProtoHack.has(y)?new y.constructor:y===p.array?[]:{};const v=Object.getPrototypeOf(d);if(v&&v.isImmutable)return d;if(y===p.array){const _=[];return v!==y&&Object.setPrototypeOf(_,v),_}if(E.needsProtoHack.has(y)){const _=new v.constructor;return v!==y&&Object.setPrototypeOf(_,v),_}return Object.create(v)}},9474:(o,u,f)=>{const c=f(4277),p={mismatched:null};o.exports=function(g,E,d){return d=Object.assign({prototype:!0},d),!!p.isDeepEqual(g,E,d,[])},p.isDeepEqual=function(g,E,d,y){if(g===E)return g!==0||1/g==1/E;const b=typeof g;if(b!==typeof E||g===null||E===null)return!1;if(b==="function"){if(!d.deepFunction||g.toString()!==E.toString())return!1}else if(b!=="object")return g!=g&&E!=E;const v=p.getSharedType(g,E,!!d.prototype);switch(v){case c.buffer:return!1;case c.promise:return g===E;case c.regex:return g.toString()===E.toString();case p.mismatched:return!1}for(let _=y.length-1;_>=0;--_)if(y[_].isSame(g,E))return!0;y.push(new p.SeenEntry(g,E));try{return!!p.isDeepEqualObj(v,g,E,d,y)}finally{y.pop()}},p.getSharedType=function(g,E,d){if(d)return Object.getPrototypeOf(g)!==Object.getPrototypeOf(E)?p.mismatched:c.getInternalProto(g);const y=c.getInternalProto(g);return y!==c.getInternalProto(E)?p.mismatched:y},p.valueOf=function(g){const E=g.valueOf;if(E===void 0)return g;try{return E.call(g)}catch(d){return d}},p.hasOwnEnumerableProperty=function(g,E){return Object.prototype.propertyIsEnumerable.call(g,E)},p.isSetSimpleEqual=function(g,E){for(const d of Set.prototype.values.call(g))if(!Set.prototype.has.call(E,d))return!1;return!0},p.isDeepEqualObj=function(g,E,d,y,b){const{isDeepEqual:v,valueOf:_,hasOwnEnumerableProperty:A}=p,{keys:w,getOwnPropertySymbols:R}=Object;if(g===c.array){if(!y.part){if(E.length!==d.length)return!1;for(let I=0;I<E.length;++I)if(!v(E[I],d[I],y,b))return!1;return!0}for(const I of E)for(const S of d)if(v(I,S,y,b))return!0}else if(g===c.set){if(E.size!==d.size)return!1;if(!p.isSetSimpleEqual(E,d)){const I=new Set(Set.prototype.values.call(d));for(const S of Set.prototype.values.call(E)){if(I.delete(S))continue;let x=!1;for(const O of I)if(v(S,O,y,b)){I.delete(O),x=!0;break}if(!x)return!1}}}else if(g===c.map){if(E.size!==d.size)return!1;for(const[I,S]of Map.prototype.entries.call(E))if(S===void 0&&!Map.prototype.has.call(d,I)||!v(S,Map.prototype.get.call(d,I),y,b))return!1}else if(g===c.error&&(E.name!==d.name||E.message!==d.message))return!1;const D=_(E),V=_(d);if((E!==D||d!==V)&&!v(D,V,y,b))return!1;const j=w(E);if(!y.part&&j.length!==w(d).length&&!y.skip)return!1;let L=0;for(const I of j)if(y.skip&&y.skip.includes(I))d[I]===void 0&&++L;else if(!A(d,I)||!v(E[I],d[I],y,b))return!1;if(!y.part&&j.length-L!==w(d).length)return!1;if(y.symbols!==!1){const I=R(E),S=new Set(R(d));for(const x of I){if(!y.skip||!y.skip.includes(x)){if(A(E,x)){if(!A(d,x)||!v(E[x],d[x],y,b))return!1}else if(A(d,x))return!1}S.delete(x)}for(const x of S)if(A(d,x))return!1}return!0},p.SeenEntry=class{constructor(g,E){this.obj=g,this.ref=E}isSame(g,E){return this.obj===g&&this.ref===E}}},7916:(o,u,f)=>{const c=f(8761);o.exports=class extends Error{constructor(p){super(p.filter(g=>g!=="").map(g=>typeof g=="string"?g:g instanceof Error?g.message:c(g)).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,u.assert)}}},5277:o=>{const u={};o.exports=function(f){if(!f)return"";let c="";for(let p=0;p<f.length;++p){const g=f.charCodeAt(p);u.isSafe(g)?c+=f[p]:c+=u.escapeHtmlChar(g)}return c},u.escapeHtmlChar=function(f){return u.namedHtml.get(f)||(f>=256?"&#"+f+";":`&#x${f.toString(16).padStart(2,"0")};`)},u.isSafe=function(f){return u.safeCharCodes.has(f)},u.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),u.safeCharCodes=function(){const f=new Set;for(let c=32;c<123;++c)(c>=97||c>=65&&c<=90||c>=48&&c<=57||c===32||c===46||c===44||c===45||c===58||c===95)&&f.add(c);return f}()},6064:o=>{o.exports=function(u){return u.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:o=>{o.exports=function(){}},1687:(o,u,f)=>{const c=f(375),p=f(8571),g=f(7043),E={};o.exports=E.merge=function(d,y,b){if(c(d&&typeof d=="object","Invalid target value: must be an object"),c(y==null||typeof y=="object","Invalid source value: must be null, undefined, or an object"),!y)return d;if(b=Object.assign({nullOverride:!0,mergeArrays:!0},b),Array.isArray(y)){c(Array.isArray(d),"Cannot merge array onto an object"),b.mergeArrays||(d.length=0);for(let _=0;_<y.length;++_)d.push(p(y[_],{symbols:b.symbols}));return d}const v=g.keys(y,b);for(let _=0;_<v.length;++_){const A=v[_];if(A==="__proto__"||!Object.prototype.propertyIsEnumerable.call(y,A))continue;const w=y[A];if(w&&typeof w=="object"){if(d[A]===w)continue;!d[A]||typeof d[A]!="object"||Array.isArray(d[A])!==Array.isArray(w)||w instanceof Date||w instanceof RegExp?d[A]=p(w,{symbols:b.symbols}):E.merge(d[A],w,b)}else(w!=null||b.nullOverride)&&(d[A]=w)}return d}},9621:(o,u,f)=>{const c=f(375),p={};o.exports=function(g,E,d){if(E===!1||E==null)return g;typeof(d=d||{})=="string"&&(d={separator:d});const y=Array.isArray(E);c(!y||!d.separator,"Separator option is not valid for array-based chain");const b=y?E:E.split(d.separator||".");let v=g;for(let _=0;_<b.length;++_){let A=b[_];const w=d.iterables&&p.iterables(v);if(Array.isArray(v)||w==="set"){const R=Number(A);Number.isInteger(R)&&(A=R<0?v.length+R:R)}if(!v||typeof v=="function"&&d.functions===!1||!w&&v[A]===void 0){c(!d.strict||_+1===b.length,"Missing segment",A,"in reach path ",E),c(typeof v=="object"||d.functions===!0||typeof v!="function","Invalid segment",A,"in reach path ",E),v=d.default;break}v=w?w==="set"?[...v][A]:v.get(A):v[A]}return v},p.iterables=function(g){return g instanceof Set?"set":g instanceof Map?"map":void 0}},8761:o=>{o.exports=function(...u){try{return JSON.stringify(...u)}catch(f){return"[Cannot display object: "+f.message+"]"}}},4277:(o,u)=>{const f={};u=o.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},f.typeMap=new Map([["[object Error]",u.error],["[object Map]",u.map],["[object Promise]",u.promise],["[object Set]",u.set],["[object WeakMap]",u.weakMap],["[object WeakSet]",u.weakSet]]),u.getInternalProto=function(c){if(Array.isArray(c))return u.array;if(c instanceof Date)return u.date;if(c instanceof RegExp)return u.regex;if(c instanceof Error)return u.error;const p=Object.prototype.toString.call(c);return f.typeMap.get(p)||u.generic}},7043:(o,u)=>{u.keys=function(f,c={}){return c.symbols!==!1?Reflect.ownKeys(f):Object.getOwnPropertyNames(f)}},3652:(o,u,f)=>{const c=f(375),p={};u.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(g,E){const d=[].concat((E=E||{}).before||[]),y=[].concat(E.after||[]),b=E.group||"?",v=E.sort||0;c(!d.includes(b),`Item cannot come before itself: ${b}`),c(!d.includes("?"),"Item cannot come before unassociated items"),c(!y.includes(b),`Item cannot come after itself: ${b}`),c(!y.includes("?"),"Item cannot come after unassociated items"),Array.isArray(g)||(g=[g]);for(const _ of g){const A={seq:this._items.length,sort:v,before:d,after:y,group:b,node:_};this._items.push(A)}if(!E.manual){const _=this._sort();c(_,"item",b!=="?"?`added into group ${b}`:"","created a dependencies error")}return this.nodes}merge(g){Array.isArray(g)||(g=[g]);for(const d of g)if(d)for(const y of d._items)this._items.push(Object.assign({},y));this._items.sort(p.mergeSort);for(let d=0;d<this._items.length;++d)this._items[d].seq=d;const E=this._sort();return c(E,"merge created a dependencies error"),this.nodes}sort(){const g=this._sort();return c(g,"sort created a dependencies error"),this.nodes}_sort(){const g={},E=Object.create(null),d=Object.create(null);for(const A of this._items){const w=A.seq,R=A.group;d[R]=d[R]||[],d[R].push(w),g[w]=A.before;for(const D of A.after)E[D]=E[D]||[],E[D].push(w)}for(const A in g){const w=[];for(const R in g[A]){const D=g[A][R];d[D]=d[D]||[],w.push(...d[D])}g[A]=w}for(const A in E)if(d[A])for(const w of d[A])g[w].push(...E[A]);const y={};for(const A in g){const w=g[A];for(const R of w)y[R]=y[R]||[],y[R].push(A)}const b={},v=[];for(let A=0;A<this._items.length;++A){let w=A;if(y[A]){w=null;for(let R=0;R<this._items.length;++R){if(b[R]===!0)continue;y[R]||(y[R]=[]);const D=y[R].length;let V=0;for(let j=0;j<D;++j)b[y[R][j]]&&++V;if(V===D){w=R;break}}}w!==null&&(b[w]=!0,v.push(w))}if(v.length!==this._items.length)return!1;const _={};for(const A of this._items)_[A.seq]=A;this._items=[],this.nodes=[];for(const A of v){const w=_[A];this.nodes.push(w.node),this._items.push(w)}return!0}},p.mergeSort=(g,E)=>g.sort===E.sort?0:g.sort<E.sort?-1:1},5380:(o,u,f)=>{const c=f(443),p=f(2178),g={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:c.URL||URL};u.analyze=function(E,d={}){if(!E)return p.code("DOMAIN_NON_EMPTY_STRING");if(typeof E!="string")throw new Error("Invalid input: domain must be a string");if(E.length>256)return p.code("DOMAIN_TOO_LONG");if(g.nonAsciiRx.test(E)){if(d.allowUnicode===!1)return p.code("DOMAIN_INVALID_UNICODE_CHARS");E=E.normalize("NFC")}if(g.domainControlRx.test(E))return p.code("DOMAIN_INVALID_CHARS");E=g.punycode(E),d.allowFullyQualified&&E[E.length-1]==="."&&(E=E.slice(0,-1));const y=d.minDomainSegments||g.minDomainSegments,b=E.split(".");if(b.length<y)return p.code("DOMAIN_SEGMENTS_COUNT");if(d.maxDomainSegments&&b.length>d.maxDomainSegments)return p.code("DOMAIN_SEGMENTS_COUNT_MAX");const v=d.tlds;if(v){const _=b[b.length-1].toLowerCase();if(v.deny&&v.deny.has(_)||v.allow&&!v.allow.has(_))return p.code("DOMAIN_FORBIDDEN_TLDS")}for(let _=0;_<b.length;++_){const A=b[_];if(!A.length)return p.code("DOMAIN_EMPTY_SEGMENT");if(A.length>63)return p.code("DOMAIN_LONG_SEGMENT");if(_<b.length-1){if(!g.domainSegmentRx.test(A))return p.code("DOMAIN_INVALID_CHARS")}else if(!g.tldSegmentRx.test(A))return p.code("DOMAIN_INVALID_TLDS_CHARS")}return null},u.isValid=function(E,d){return!u.analyze(E,d)},g.punycode=function(E){E.includes("%")&&(E=E.replace(/%/g,"%25"));try{return new g.URL(`http://${E}`).host}catch{return E}}},1745:(o,u,f)=>{const c=f(9848),p=f(5380),g=f(2178),E={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(c.TextEncoder||TextEncoder)};u.analyze=function(d,y){return E.email(d,y)},u.isValid=function(d,y){return!E.email(d,y)},E.email=function(d,y={}){if(typeof d!="string")throw new Error("Invalid input: email must be a string");if(!d)return g.code("EMPTY_STRING");const b=!E.nonAsciiRx.test(d);if(!b){if(y.allowUnicode===!1)return g.code("FORBIDDEN_UNICODE");d=d.normalize("NFC")}const v=d.split("@");if(v.length!==2)return v.length>2?g.code("MULTIPLE_AT_CHAR"):g.code("MISSING_AT_CHAR");const[_,A]=v;if(!_)return g.code("EMPTY_LOCAL");if(!y.ignoreLength){if(d.length>254)return g.code("ADDRESS_TOO_LONG");if(E.encoder.encode(_).length>64)return g.code("LOCAL_TOO_LONG")}return E.local(_,b)||p.analyze(A,y)},E.local=function(d,y){const b=d.split(".");for(const v of b){if(!v.length)return g.code("EMPTY_LOCAL_SEGMENT");if(y){if(!E.atextRx.test(v))return g.code("INVALID_LOCAL_CHARS")}else for(const _ of v){if(E.atextRx.test(_))continue;const A=E.binary(_);if(!E.atomRx.test(A))return g.code("INVALID_LOCAL_CHARS")}}},E.binary=function(d){return Array.from(E.encoder.encode(d)).map(y=>String.fromCharCode(y)).join("")},E.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,E.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(o,u)=>{u.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},u.code=function(f){return{code:f,error:u.codes[f]}}},9959:(o,u,f)=>{const c=f(375),p=f(5752);u.regex=function(g={}){c(g.cidr===void 0||typeof g.cidr=="string","options.cidr must be a string");const E=g.cidr?g.cidr.toLowerCase():"optional";c(["required","optional","forbidden"].includes(E),"options.cidr must be one of required, optional, forbidden"),c(g.version===void 0||typeof g.version=="string"||Array.isArray(g.version),"options.version must be a string or an array of string");let d=g.version||["ipv4","ipv6","ipvfuture"];Array.isArray(d)||(d=[d]),c(d.length>=1,"options.version must have at least 1 version specified");for(let v=0;v<d.length;++v)c(typeof d[v]=="string","options.version must only contain strings"),d[v]=d[v].toLowerCase(),c(["ipv4","ipv6","ipvfuture"].includes(d[v]),"options.version contains unknown version "+d[v]+" - must be one of ipv4, ipv6, ipvfuture");d=Array.from(new Set(d));const y=`(?:${d.map(v=>{if(E==="forbidden")return p.ip[v];const _=`\\/${v==="ipv4"?p.ip.v4Cidr:p.ip.v6Cidr}`;return E==="required"?`${p.ip[v]}${_}`:`${p.ip[v]}(?:${_})?`}).join("|")})`,b=new RegExp(`^${y}$`);return{cidr:E,versions:d,regex:b,raw:y}}},5752:(o,u,f)=>{const c=f(375),p=f(6064),g={generate:function(){const E={},d="\\dA-Fa-f",y="["+d+"]",b="\\w-\\.~",v="!\\$&'\\(\\)\\*\\+,;=",_="%"+d,A=b+_+v+":@",w="["+A+"]",R="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";E.ipv4address="(?:"+R+"\\.){3}"+R;const D=y+"{1,4}",V="(?:"+D+":"+D+"|"+E.ipv4address+")",j="(?:"+D+":){6}"+V,L="::(?:"+D+":){5}"+V,I="(?:"+D+")?::(?:"+D+":){4}"+V,S="(?:(?:"+D+":){0,1}"+D+")?::(?:"+D+":){3}"+V,x="(?:(?:"+D+":){0,2}"+D+")?::(?:"+D+":){2}"+V,O="(?:(?:"+D+":){0,3}"+D+")?::"+D+":"+V,k="(?:(?:"+D+":){0,4}"+D+")?::"+V,$="(?:(?:"+D+":){0,5}"+D+")?::"+D,U="(?:(?:"+D+":){0,6}"+D+")?::";E.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",E.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",E.ipv6address="(?:"+j+"|"+L+"|"+I+"|"+S+"|"+x+"|"+O+"|"+k+"|"+$+"|"+U+")",E.ipvFuture="v"+y+"+\\.["+b+v+":]+",E.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",E.schemeRegex=new RegExp(E.scheme);const he="["+b+_+v+":]*",pe="["+b+_+v+"]{1,255}",G="(?:\\[(?:"+E.ipv6address+"|"+E.ipvFuture+")\\]|"+E.ipv4address+"|"+pe+")",se="(?:"+he+"@)?"+G+"(?::\\d*)?",ye="(?:"+he+"@)?("+G+")(?::\\d*)?",Re=w+"*",B=w+"+",re="(?:\\/"+Re+")*",me="\\/(?:"+B+re+")?",ce=B+re,_e="["+b+_+v+"@]+"+re,ke="(?:\\/\\/\\/"+Re+re+")";return E.hierPart="(?:(?:\\/\\/"+se+re+")|"+me+"|"+ce+"|"+ke+")",E.hierPartCapture="(?:(?:\\/\\/"+ye+re+")|"+me+"|"+ce+")",E.relativeRef="(?:(?:\\/\\/"+se+re+")|"+me+"|"+_e+"|)",E.relativeRefCapture="(?:(?:\\/\\/"+ye+re+")|"+me+"|"+_e+"|)",E.query="["+A+"\\/\\?]*(?=#|$)",E.queryWithSquareBrackets="["+A+"\\[\\]\\/\\?]*(?=#|$)",E.fragment="["+A+"\\/\\?]*",E}};g.rfc3986=g.generate(),u.ip={v4Cidr:g.rfc3986.ipv4Cidr,v6Cidr:g.rfc3986.ipv6Cidr,ipv4:g.rfc3986.ipv4address,ipv6:g.rfc3986.ipv6address,ipvfuture:g.rfc3986.ipvFuture},g.createRegex=function(E){const d=g.rfc3986,y="(?:\\?"+(E.allowQuerySquareBrackets?d.queryWithSquareBrackets:d.query)+")?(?:#"+d.fragment+")?",b=E.domain?d.relativeRefCapture:d.relativeRef;if(E.relativeOnly)return g.wrap(b+y);let v="";if(E.scheme){c(E.scheme instanceof RegExp||typeof E.scheme=="string"||Array.isArray(E.scheme),"scheme must be a RegExp, String, or Array");const w=[].concat(E.scheme);c(w.length>=1,"scheme must have at least 1 scheme specified");const R=[];for(let D=0;D<w.length;++D){const V=w[D];c(V instanceof RegExp||typeof V=="string","scheme at position "+D+" must be a RegExp or String"),V instanceof RegExp?R.push(V.source.toString()):(c(d.schemeRegex.test(V),"scheme at position "+D+" must be a valid scheme"),R.push(p(V)))}v=R.join("|")}const _="(?:"+(v?"(?:"+v+")":d.scheme)+":"+(E.domain?d.hierPartCapture:d.hierPart)+")",A=E.allowRelative?"(?:"+_+"|"+b+")":_;return g.wrap(A+y,v)},g.wrap=function(E,d){return{raw:E=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${E}`,regex:new RegExp(`^${E}$`),scheme:d}},g.uriRegex=g.createRegex({}),u.regex=function(E={}){return E.scheme||E.allowRelative||E.relativeOnly||E.allowQuerySquareBrackets||E.domain?g.createRegex(E):g.uriRegex}},1447:(o,u)=>{const f={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};u.Parser=class{constructor(c,p={}){if(!p[f.settings]&&p.constants)for(const g in p.constants){const E=p.constants[g];if(E!==null&&!["boolean","number","string"].includes(typeof E))throw new Error(`Formula constant ${g} contains invalid ${typeof E} value type`)}this.settings=p[f.settings]?p:Object.assign({[f.settings]:!0,constants:{},functions:{}},p),this.single=null,this._parts=null,this._parse(c)}_parse(c){let p=[],g="",E=0,d=!1;const y=v=>{if(E)throw new Error("Formula missing closing parenthesis");const _=p.length?p[p.length-1]:null;if(d||g||v){if(_&&_.type==="reference"&&v===")")return _.type="function",_.value=this._subFormula(g,_.value),void(g="");if(v===")"){const A=new u.Parser(g,this.settings);p.push({type:"segment",value:A})}else if(d){if(d==="]")return p.push({type:"reference",value:g}),void(g="");p.push({type:"literal",value:g})}else if(f.operatorCharacters.includes(g))_&&_.type==="operator"&&f.operators.includes(_.value+g)?_.value+=g:p.push({type:"operator",value:g});else if(g.match(f.numberRx))p.push({type:"constant",value:parseFloat(g)});else if(this.settings.constants[g]!==void 0)p.push({type:"constant",value:this.settings.constants[g]});else{if(!g.match(f.tokenRx))throw new Error(`Formula contains invalid token: ${g}`);p.push({type:"reference",value:g})}g=""}};for(const v of c)d?v===d?(y(),d=!1):g+=v:E?v==="("?(g+=v,++E):v===")"?(--E,E?g+=v:y(v)):g+=v:v in f.literals?d=f.literals[v]:v==="("?(y(),++E):f.operatorCharacters.includes(v)?(y(),g=v,y()):v!==" "?g+=v:y();y(),p=p.map((v,_)=>v.type!=="operator"||v.value!=="-"||_&&p[_-1].type!=="operator"?v:{type:"operator",value:"n"});let b=!1;for(const v of p){if(v.type==="operator"){if(f.operatorsPrefix.includes(v.value))continue;if(!b)throw new Error("Formula contains an operator in invalid position");if(!f.operators.includes(v.value))throw new Error(`Formula contains an unknown operator ${v.value}`)}else if(b)throw new Error("Formula missing expected operator");b=!b}if(!b)throw new Error("Formula contains invalid trailing operator");p.length===1&&["reference","literal","constant"].includes(p[0].type)&&(this.single={type:p[0].type==="reference"?"reference":"value",value:p[0].value}),this._parts=p.map(v=>{if(v.type==="operator")return f.operatorsPrefix.includes(v.value)?v:v.value;if(v.type!=="reference")return v.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(v.value))throw new Error(`Formula contains invalid reference ${v.value}`);return this.settings.reference?this.settings.reference(v.value):f.reference(v.value)})}_subFormula(c,p){const g=this.settings.functions[p];if(typeof g!="function")throw new Error(`Formula contains unknown function ${p}`);let E=[];if(c){let d="",y=0,b=!1;const v=()=>{if(!d)throw new Error(`Formula contains function ${p} with invalid arguments ${c}`);E.push(d),d=""};for(let _=0;_<c.length;++_){const A=c[_];b?(d+=A,A===b&&(b=!1)):A in f.literals&&!y?(d+=A,b=f.literals[A]):A!==","||y?(d+=A,A==="("?++y:A===")"&&--y):v()}v()}return E=E.map(d=>new u.Parser(d,this.settings)),function(d){const y=[];for(const b of E)y.push(b.evaluate(d));return g.call(d,...y)}}evaluate(c){const p=this._parts.slice();for(let g=p.length-2;g>=0;--g){const E=p[g];if(E&&E.type==="operator"){const d=p[g+1];p.splice(g+1,1);const y=f.evaluate(d,c);p[g]=f.single(E.value,y)}}return f.operatorsOrder.forEach(g=>{for(let E=1;E<p.length-1;)if(g.includes(p[E])){const d=p[E],y=f.evaluate(p[E-1],c),b=f.evaluate(p[E+1],c);p.splice(E,2);const v=f.calculate(d,y,b);p[E-1]=v===0?0:v}else E+=2}),f.evaluate(p[0],c)}},u.Parser.prototype[f.symbol]=!0,f.reference=function(c){return function(p){return p&&p[c]!==void 0?p[c]:null}},f.evaluate=function(c,p){return c===null?null:typeof c=="function"?c(p):c[f.symbol]?c.evaluate(p):c},f.single=function(c,p){if(c==="!")return!p;const g=-p;return g===0?0:g},f.calculate=function(c,p,g){if(c==="??")return f.exists(p)?p:g;if(typeof p=="string"||typeof g=="string"){if(c==="+")return(p=f.exists(p)?p:"")+(f.exists(g)?g:"")}else switch(c){case"^":return Math.pow(p,g);case"*":return p*g;case"/":return p/g;case"%":return p%g;case"+":return p+g;case"-":return p-g}switch(c){case"<":return p<g;case"<=":return p<=g;case">":return p>g;case">=":return p>=g;case"==":return p===g;case"!=":return p!==g;case"&&":return p&&g;case"||":return p||g}return null},f.exists=function(c){return c!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:o=>{o.exports=JSON.parse('{"version":"17.13.3"}')}},s={},function o(u){var f=s[u];if(f!==void 0)return f.exports;var c=s[u]={exports:{}};return r[u](c,c.exports,o),c.exports}(5107);var r,s})}(Cd)),Cd.exports}var _C=vC();const Hs=Q_(_C),sE=Hs.object({title:Hs.string().required().messages({"string.empty":"You need to give the product a title"}),description:Hs.string().required().max(160).messages({"string.empty":"A description is reqired","string.max":"Description can't be longer than 160 charachters"}),category:Hs.string().max(20).pattern(/^(?:[A-Z][a-z]*\s?)*$/).required().messages({"string.empty":"A category is required","string.max":"Category can't be more than 20 characters","string.pattern.base":"Each word must start with an uppercase letter"}),price:Hs.number().greater(0).messages({"number.base":"Price must be a number","number.greater":"The price can't be less then 1","any.reqired":"A price is required"}),img:Hs.string().pattern(/^https?:\/\/.+/i).pattern(/\.(jpeg|jpg|gif|png|webp|svg)$/i).required().messages({"string.empty":"An image link is required","string.pattern.base":"The link has to start with http eller https and lead to an image file(jpg, png, gif, etc)."})}),bC=({item:i,onEdit:e,onRemove:r})=>{const[s,o]=te.useState(!1),[u,f]=te.useState(!1),[c,p]=te.useState(i),[g,E]=te.useState({}),[d,y]=te.useState(!1),[b,v]=te.useState(null),_=()=>{o(!0),f(!0),y(!1)},A=()=>{o(!1),p(i),E({}),setTimeout(()=>{f(!1)},300)},w=()=>{const{id:V,...j}=c,{error:L}=sE.validate(j,{abortEarly:!1});if(L){console.log(L);const I={};L.details.forEach(S=>{I[S.path[0]]=S.message}),E(I);return}e(c),E({}),o(!1),setTimeout(()=>{f(!1)},300)},R=V=>{const{name:j,value:L}=V.target;p({...c,[j]:L})},D=()=>{if(d)r(i.id),clearTimeout(b);else{y(!0);const V=setTimeout(()=>{y(!1)},3e3);v(V)}};return K.jsx("div",{className:`admin-item ${s?"editing":""}`,children:u?K.jsxs("div",{className:`edit-form ${s?"open":"close"}`,children:[K.jsx("label",{htmlFor:"title",children:"Title"}),K.jsx("input",{id:"title",type:"text",name:"title",value:c.title,onChange:R}),K.jsx("div",{className:"error-message",children:g.title&&K.jsx("p",{className:"error",children:g.title})}),K.jsx("label",{htmlFor:"description",children:"Description"}),K.jsx("textarea",{id:"description",name:"description",value:c.description,onChange:R}),K.jsx("div",{className:"error-message",children:g.description&&K.jsx("p",{className:"error",children:g.description})}),K.jsx("label",{htmlFor:"category",children:"Category"}),K.jsx("textarea",{id:"category",name:"category",value:c.category,onChange:R}),K.jsx("div",{className:"error-message",children:g.category&&K.jsx("p",{className:"error",children:g.category})}),K.jsx("label",{htmlFor:"price",children:"Price"}),K.jsx("input",{id:"price",type:"number",name:"price",value:c.price,onChange:R}),K.jsx("div",{className:"error-message",children:g.price&&K.jsx("p",{className:"error",children:g.price})}),K.jsx("label",{htmlFor:"img",children:"Image link"}),K.jsx("input",{id:"img",type:"text",name:"img",value:c.img,onChange:R}),K.jsx("div",{className:"error-message",children:g.img&&K.jsx("p",{children:g.img})}),K.jsxs("div",{className:"admin-actions",children:[K.jsx("button",{className:"save-btn",onClick:w,children:"Save"}),K.jsx("button",{className:"cancel-btn",onClick:A,children:"Cancel"})]})]}):K.jsxs(K.Fragment,{children:[K.jsx("div",{className:"admin-item-img-container",children:K.jsx("img",{className:"admin-item-img",src:i.img,alt:i.title})}),K.jsxs("div",{className:"admin-item-info",children:[K.jsx("p",{children:i.title}),K.jsxs("p",{children:[i.price," $"]}),K.jsx("p",{children:i.category})]}),K.jsxs("div",{className:"admin-actions",children:[K.jsx("button",{onClick:_,children:"Edit"}),K.jsx("button",{className:d?"confirm-remove":"",onClick:D,children:d?"Are you sure?":"Remove"})]})]})})},EC=()=>{const[i,e]=te.useState(!1),[r,s]=te.useState({}),[o,u]=te.useState(!1),[f,c]=te.useState({title:"",description:"",category:"",price:"",img:""}),p=_i(_=>_.addProduct),g=_i(_=>_.loading);_i(_=>_.error);const E=_=>{const{name:A,value:w}=_.target;c({...f,[A]:w})},d=()=>{u(!0)},y=()=>{const{error:_}=sE.validate(f,{abortEarly:!1});if(!_)return null;const A={};return _.details.forEach(w=>{A[w.path[0]]=w.message}),A},b=async _=>{_.preventDefault();const A=y();if(A){s(A),console.log("failed to add item",A);return}s({});try{await p(f),console.log("Item added successfully"),c({title:"",description:"",category:"",price:"",img:""}),s({}),e(!0),u(!1),e(!1)}catch(w){console.error("Failed to add item:",w)}},v=()=>{console.log("Cancelled adding new item"),c({title:"",description:"",category:"",price:"",img:""}),s({}),u(!1)};return K.jsx("section",{className:"add-item",children:i?K.jsxs("div",{className:"show-confirm",children:[K.jsx("h2",{children:"Item added!"}),K.jsx("button",{onClick:()=>e(!1),className:"add-more-button",children:"Add another item"})]}):K.jsxs("div",{className:"show-form",children:[K.jsx("h2",{children:"New item"}),K.jsxs("form",{onSubmit:b,children:[K.jsxs("label",{htmlFor:"title",children:["Title",K.jsx("input",{id:"title",type:"text",name:"title",value:f.title,onChange:E,onFocus:d}),K.jsx("div",{className:"error-message",children:r.title&&K.jsx("p",{className:"error",children:r.title})})]}),K.jsxs("label",{htmlFor:"description",children:["Description",K.jsx("textarea",{id:"description",name:"description",value:f.description,onChange:E,onFocus:d}),K.jsx("div",{className:"error-message",children:r.description&&K.jsx("p",{className:"error",children:r.description})})]}),K.jsxs("label",{htmlFor:"category",children:["Category",K.jsx("input",{type:"text",id:"category",name:"category",value:f.category,onChange:E,onFocus:d}),K.jsx("div",{className:"error-message",children:r.category&&K.jsx("p",{className:"error",children:r.category})})]}),K.jsxs("label",{htmlFor:"price",children:["Price",K.jsx("input",{id:"price",type:"number",name:"price",value:f.price,onChange:E,onFocus:d}),K.jsx("div",{className:"error-message",children:r.price&&K.jsx("p",{className:"error",children:r.price})})]}),K.jsxs("label",{htmlFor:"img",children:["Image link",K.jsx("input",{id:"img",type:"text",name:"img",value:f.img,onChange:E,onFocus:d}),K.jsx("div",{className:"error-message",children:r.img&&K.jsx("p",{children:r.img})})]}),K.jsxs("div",{className:"form-actions",children:[K.jsx("button",{className:"cancel-button",type:"button",onClick:v,disabled:!o,children:"Clear form"}),K.jsx("button",{className:"submit-button",type:"submit",disabled:!o,children:g?"Loading...":"Add item"})]})]})]})})},wC=()=>{const i=tm(p=>p.isLoggedIn),{filteredProducts:e,fetchProducts:r,updateProduct:s,removeProduct:o,isLoading:u}=_i();te.useEffect(()=>{r()},[r]);const f=async p=>{try{await rE(p),s(p)}catch(g){console.error("Error updating product:",g)}},c=async p=>{try{await iE(p),o(p)}catch(g){console.error("Error removing product:",g)}};return i?K.jsxs("section",{className:"admin-section",children:[K.jsxs("div",{className:"admin-items-container",children:[K.jsx("h2",{children:"Edit or remove items"}),K.jsx(aE,{}),e.length===0?K.jsx("h2",{className:"no-products",children:u?"Loading....":"No products found"}):e.map(p=>K.jsx(bC,{item:p,onEdit:f,onRemove:c},p.id))]}),K.jsx("div",{className:"admin-form-container",children:K.jsx(EC,{})})]}):K.jsx("section",{children:K.jsxs("div",{className:"not-logged-in-container",children:[K.jsx("h2",{className:"not-logged-in",children:"Please log in to access the admin panel"}),K.jsx(Ws,{className:"back-btn",to:"/login",children:"Back to Log in page "})]})})},TC=kw([{path:"/",Component:iT,children:[{index:!0,Component:mC},{path:"cart",Component:gC},{path:"login",Component:yC},{path:"admin",Component:wC}]}]);z2.createRoot(document.getElementById("root")).render(K.jsx(te.StrictMode,{children:K.jsx(lw,{router:TC})}));
