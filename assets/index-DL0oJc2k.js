(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function zT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Om={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function JA(){if(k_)return Zl;k_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var u in a)u!=="key"&&(l[u]=a[u])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Zl.Fragment=e,Zl.jsx=n,Zl.jsxs=n,Zl}var j_;function eR(){return j_||(j_=1,Om.exports=JA()),Om.exports}var Y=eR(),Vm={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function tR(){if(U_)return qe;U_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),d=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=d&&B[d]||B["@@iterator"],typeof B=="function"?B:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,E={};function R(B,re,me){this.props=B,this.context=re,this.refs=E,this.updater=me||_}R.prototype.isReactComponent={},R.prototype.setState=function(B,re){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,re,"setState")},R.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function T(){}T.prototype=R.prototype;function A(B,re,me){this.props=B,this.context=re,this.refs=E,this.updater=me||_}var x=A.prototype=new T;x.constructor=A,b(x,R.prototype),x.isPureReactComponent=!0;var I=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function O(B,re,me,ce,_e,ke){return me=ke.ref,{$$typeof:t,type:B,key:re,ref:me!==void 0?me:null,props:ke}}function S(B,re){return O(B.type,re,void 0,void 0,void 0,B.props)}function C(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function M(B){var re={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(me){return re[me]})}var k=/\/+/g;function $(B,re){return typeof B=="object"&&B!==null&&B.key!=null?M(""+B.key):re.toString(36)}function U(){}function he(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(U,U):(B.status="pending",B.then(function(re){B.status==="pending"&&(B.status="fulfilled",B.value=re)},function(re){B.status==="pending"&&(B.status="rejected",B.reason=re)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function ge(B,re,me,ce,_e){var ke=typeof B;(ke==="undefined"||ke==="boolean")&&(B=null);var xe=!1;if(B===null)xe=!0;else switch(ke){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(B.$$typeof){case t:case e:xe=!0;break;case g:return xe=B._init,ge(xe(B._payload),re,me,ce,_e)}}if(xe)return _e=_e(B),xe=ce===""?"."+$(B,0):ce,I(_e)?(me="",xe!=null&&(me=xe.replace(k,"$&/")+"/"),ge(_e,re,me,"",function(ir){return ir})):_e!=null&&(C(_e)&&(_e=S(_e,me+(_e.key==null||B&&B.key===_e.key?"":(""+_e.key).replace(k,"$&/")+"/")+xe)),re.push(_e)),1;xe=0;var wt=ce===""?".":ce+":";if(I(B))for(var gt=0;gt<B.length;gt++)ce=B[gt],ke=wt+$(ce,gt),xe+=ge(ce,re,me,ke,_e);else if(gt=y(B),typeof gt=="function")for(B=gt.call(B),gt=0;!(ce=B.next()).done;)ce=ce.value,ke=wt+$(ce,gt++),xe+=ge(ce,re,me,ke,_e);else if(ke==="object"){if(typeof B.then=="function")return ge(he(B),re,me,ce,_e);throw re=String(B),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return xe}function K(B,re,me){if(B==null)return B;var ce=[],_e=0;return ge(B,ce,"","",function(ke){return re.call(me,ke,_e++)}),ce}function se(B){if(B._status===-1){var re=B._result;re=re(),re.then(function(me){(B._status===0||B._status===-1)&&(B._status=1,B._result=me)},function(me){(B._status===0||B._status===-1)&&(B._status=2,B._result=me)}),B._status===-1&&(B._status=0,B._result=re)}if(B._status===1)return B._result.default;throw B._result}var pe=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Se(){}return qe.Children={map:K,forEach:function(B,re,me){K(B,function(){re.apply(this,arguments)},me)},count:function(B){var re=0;return K(B,function(){re++}),re},toArray:function(B){return K(B,function(re){return re})||[]},only:function(B){if(!C(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},qe.Component=R,qe.Fragment=n,qe.Profiler=a,qe.PureComponent=A,qe.StrictMode=s,qe.Suspense=h,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,qe.__COMPILER_RUNTIME={__proto__:null,c:function(B){return N.H.useMemoCache(B)}},qe.cache=function(B){return function(){return B.apply(null,arguments)}},qe.cloneElement=function(B,re,me){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ce=b({},B.props),_e=B.key,ke=void 0;if(re!=null)for(xe in re.ref!==void 0&&(ke=void 0),re.key!==void 0&&(_e=""+re.key),re)!L.call(re,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&re.ref===void 0||(ce[xe]=re[xe]);var xe=arguments.length-2;if(xe===1)ce.children=me;else if(1<xe){for(var wt=Array(xe),gt=0;gt<xe;gt++)wt[gt]=arguments[gt+2];ce.children=wt}return O(B.type,_e,void 0,void 0,ke,ce)},qe.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},qe.createElement=function(B,re,me){var ce,_e={},ke=null;if(re!=null)for(ce in re.key!==void 0&&(ke=""+re.key),re)L.call(re,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(_e[ce]=re[ce]);var xe=arguments.length-2;if(xe===1)_e.children=me;else if(1<xe){for(var wt=Array(xe),gt=0;gt<xe;gt++)wt[gt]=arguments[gt+2];_e.children=wt}if(B&&B.defaultProps)for(ce in xe=B.defaultProps,xe)_e[ce]===void 0&&(_e[ce]=xe[ce]);return O(B,ke,void 0,void 0,null,_e)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(B){return{$$typeof:u,render:B}},qe.isValidElement=C,qe.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:se}},qe.memo=function(B,re){return{$$typeof:m,type:B,compare:re===void 0?null:re}},qe.startTransition=function(B){var re=N.T,me={};N.T=me;try{var ce=B(),_e=N.S;_e!==null&&_e(me,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Se,pe)}catch(ke){pe(ke)}finally{N.T=re}},qe.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},qe.use=function(B){return N.H.use(B)},qe.useActionState=function(B,re,me){return N.H.useActionState(B,re,me)},qe.useCallback=function(B,re){return N.H.useCallback(B,re)},qe.useContext=function(B){return N.H.useContext(B)},qe.useDebugValue=function(){},qe.useDeferredValue=function(B,re){return N.H.useDeferredValue(B,re)},qe.useEffect=function(B,re,me){var ce=N.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(B,re)},qe.useId=function(){return N.H.useId()},qe.useImperativeHandle=function(B,re,me){return N.H.useImperativeHandle(B,re,me)},qe.useInsertionEffect=function(B,re){return N.H.useInsertionEffect(B,re)},qe.useLayoutEffect=function(B,re){return N.H.useLayoutEffect(B,re)},qe.useMemo=function(B,re){return N.H.useMemo(B,re)},qe.useOptimistic=function(B,re){return N.H.useOptimistic(B,re)},qe.useReducer=function(B,re,me){return N.H.useReducer(B,re,me)},qe.useRef=function(B){return N.H.useRef(B)},qe.useState=function(B){return N.H.useState(B)},qe.useSyncExternalStore=function(B,re,me){return N.H.useSyncExternalStore(B,re,me)},qe.useTransition=function(){return N.H.useTransition()},qe.version="19.1.0",qe}var z_;function rg(){return z_||(z_=1,Vm.exports=tR()),Vm.exports}var H=rg();const $_=zT(H);var Im={exports:{}},Wl={},Nm={exports:{}},Pm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function nR(){return B_||(B_=1,function(t){function e(K,se){var pe=K.length;K.push(se);e:for(;0<pe;){var Se=pe-1>>>1,B=K[Se];if(0<a(B,se))K[Se]=se,K[pe]=B,pe=Se;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var se=K[0],pe=K.pop();if(pe!==se){K[0]=pe;e:for(var Se=0,B=K.length,re=B>>>1;Se<re;){var me=2*(Se+1)-1,ce=K[me],_e=me+1,ke=K[_e];if(0>a(ce,pe))_e<B&&0>a(ke,ce)?(K[Se]=ke,K[_e]=pe,Se=_e):(K[Se]=ce,K[me]=pe,Se=me);else if(_e<B&&0>a(ke,pe))K[Se]=ke,K[_e]=pe,Se=_e;else break e}}return se}function a(K,se){var pe=K.sortIndex-se.sortIndex;return pe!==0?pe:K.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var h=[],m=[],g=1,d=null,y=3,_=!1,b=!1,E=!1,R=!1,T=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function I(K){for(var se=n(m);se!==null;){if(se.callback===null)s(m);else if(se.startTime<=K)s(m),se.sortIndex=se.expirationTime,e(h,se);else break;se=n(m)}}function N(K){if(E=!1,I(K),!b)if(n(h)!==null)b=!0,L||(L=!0,$());else{var se=n(m);se!==null&&ge(N,se.startTime-K)}}var L=!1,O=-1,S=5,C=-1;function M(){return R?!0:!(t.unstable_now()-C<S)}function k(){if(R=!1,L){var K=t.unstable_now();C=K;var se=!0;try{e:{b=!1,E&&(E=!1,A(O),O=-1),_=!0;var pe=y;try{t:{for(I(K),d=n(h);d!==null&&!(d.expirationTime>K&&M());){var Se=d.callback;if(typeof Se=="function"){d.callback=null,y=d.priorityLevel;var B=Se(d.expirationTime<=K);if(K=t.unstable_now(),typeof B=="function"){d.callback=B,I(K),se=!0;break t}d===n(h)&&s(h),I(K)}else s(h);d=n(h)}if(d!==null)se=!0;else{var re=n(m);re!==null&&ge(N,re.startTime-K),se=!1}}break e}finally{d=null,y=pe,_=!1}se=void 0}}finally{se?$():L=!1}}}var $;if(typeof x=="function")$=function(){x(k)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,he=U.port2;U.port1.onmessage=k,$=function(){he.postMessage(null)}}else $=function(){T(k,0)};function ge(K,se){O=T(function(){K(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(K){switch(y){case 1:case 2:case 3:var se=3;break;default:se=y}var pe=y;y=se;try{return K()}finally{y=pe}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(K,se){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var pe=y;y=K;try{return se()}finally{y=pe}},t.unstable_scheduleCallback=function(K,se,pe){var Se=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Se+pe:Se):pe=Se,K){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=pe+B,K={id:g++,callback:se,priorityLevel:K,startTime:pe,expirationTime:B,sortIndex:-1},pe>Se?(K.sortIndex=pe,e(m,K),n(h)===null&&K===n(m)&&(E?(A(O),O=-1):E=!0,ge(N,pe-Se))):(K.sortIndex=B,e(h,K),b||_||(b=!0,L||(L=!0,$()))),K},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(K){var se=y;return function(){var pe=y;y=se;try{return K.apply(this,arguments)}finally{y=pe}}}}(Pm)),Pm}var F_;function rR(){return F_||(F_=1,Nm.exports=nR()),Nm.exports}var Lm={exports:{}},En={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function iR(){if(q_)return En;q_=1;var t=rg();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(h,m,g){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:d==null?null:""+d,children:h,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,En.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(h,m,null,g)},En.flushSync=function(h){var m=c.T,g=s.p;try{if(c.T=null,s.p=2,h)return h()}finally{c.T=m,s.p=g,s.d.f()}},En.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(h,m))},En.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},En.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,d=u(g,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?s.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:d,integrity:y,fetchPriority:_}):g==="script"&&s.d.X(h,{crossOrigin:d,integrity:y,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},En.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=u(m.as,m.crossOrigin);s.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(h)},En.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,d=u(g,m.crossOrigin);s.d.L(h,g,{crossOrigin:d,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},En.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=u(m.as,m.crossOrigin);s.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(h)},En.requestFormReset=function(h){s.d.r(h)},En.unstable_batchedUpdates=function(h,m){return h(m)},En.useFormState=function(h,m,g){return c.H.useFormState(h,m,g)},En.useFormStatus=function(){return c.H.useHostTransitionStatus()},En.version="19.1.0",En}var H_;function sR(){if(H_)return Lm.exports;H_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lm.exports=iR(),Lm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function aR(){if(G_)return Wl;G_=1;var t=rR(),e=rg(),n=sR();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function u(r){if(l(r)!==r)throw Error(s(188))}function h(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(s(188));return i!==r?null:r}for(var o=r,f=i;;){var v=o.return;if(v===null)break;var w=v.alternate;if(w===null){if(f=v.return,f!==null){o=f;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===o)return u(v),r;if(w===f)return u(v),i;w=w.sibling}throw Error(s(188))}if(o.return!==f.return)o=v,f=w;else{for(var P=!1,j=v.child;j;){if(j===o){P=!0,o=v,f=w;break}if(j===f){P=!0,f=v,o=w;break}j=j.sibling}if(!P){for(j=w.child;j;){if(j===o){P=!0,o=w,f=v;break}if(j===f){P=!0,f=w,o=v;break}j=j.sibling}if(!P)throw Error(s(189))}}if(o.alternate!==f)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:i}function m(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=m(r),i!==null)return i;r=r.sibling}return null}var g=Object.assign,d=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),x=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function $(r){return r===null||typeof r!="object"?null:(r=k&&r[k]||r["@@iterator"],typeof r=="function"?r:null)}var U=Symbol.for("react.client.reference");function he(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===U?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case b:return"Fragment";case R:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case L:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case _:return"Portal";case x:return(r.displayName||"Context")+".Provider";case A:return(r._context.displayName||"Context")+".Consumer";case I:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return i=r.displayName||null,i!==null?i:he(r.type)||"Memo";case S:i=r._payload,r=r._init;try{return he(r(i))}catch{}}return null}var ge=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Se=[],B=-1;function re(r){return{current:r}}function me(r){0>B||(r.current=Se[B],Se[B]=null,B--)}function ce(r,i){B++,Se[B]=r.current,r.current=i}var _e=re(null),ke=re(null),xe=re(null),wt=re(null);function gt(r,i){switch(ce(xe,i),ce(ke,r),ce(_e,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?f_(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=f_(i),r=h_(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}me(_e),ce(_e,r)}function ir(){me(_e),me(ke),me(xe)}function At(r){r.memoizedState!==null&&ce(wt,r);var i=_e.current,o=h_(i,r.type);i!==o&&(ce(ke,r),ce(_e,o))}function yn(r){ke.current===r&&(me(_e),me(ke)),wt.current===r&&(me(wt),Gl._currentValue=pe)}var Lr=Object.prototype.hasOwnProperty,hi=t.unstable_scheduleCallback,xn=t.unstable_cancelCallback,Bs=t.unstable_shouldYield,Ia=t.unstable_requestPaint,Cn=t.unstable_now,Jo=t.unstable_getCurrentPriorityLevel,Fs=t.unstable_ImmediatePriority,qi=t.unstable_UserBlockingPriority,di=t.unstable_NormalPriority,xr=t.unstable_LowPriority,sr=t.unstable_IdlePriority,Hi=t.log,Gi=t.unstable_setDisableYieldValue,ut=null,He=null;function vn(r){if(typeof Hi=="function"&&Gi(r),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(ut,r)}catch{}}var zt=Math.clz32?Math.clz32:kr,Na=Math.log,ar=Math.LN2;function kr(r){return r>>>=0,r===0?32:31-(Na(r)/ar|0)|0}var jr=256,Ur=4194304;function Bn(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function mi(r,i,o){var f=r.pendingLanes;if(f===0)return 0;var v=0,w=r.suspendedLanes,P=r.pingedLanes;r=r.warmLanes;var j=f&134217727;return j!==0?(f=j&~w,f!==0?v=Bn(f):(P&=j,P!==0?v=Bn(P):o||(o=j&~r,o!==0&&(v=Bn(o))))):(j=f&~w,j!==0?v=Bn(j):P!==0?v=Bn(P):o||(o=f&~r,o!==0&&(v=Bn(o)))),v===0?0:i!==0&&i!==v&&(i&w)===0&&(w=v&-v,o=i&-i,w>=o||w===32&&(o&4194048)!==0)?i:v}function or(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Ki(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pi(){var r=jr;return jr<<=1,(jr&4194048)===0&&(jr=256),r}function qs(){var r=Ur;return Ur<<=1,(Ur&62914560)===0&&(Ur=4194304),r}function lr(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function Cr(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Yi(r,i,o,f,v,w){var P=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var j=r.entanglements,F=r.expirationTimes,ee=r.hiddenUpdates;for(o=P&~o;0<o;){var ae=31-zt(o),ue=1<<ae;j[ae]=0,F[ae]=-1;var te=ee[ae];if(te!==null)for(ee[ae]=null,ae=0;ae<te.length;ae++){var ne=te[ae];ne!==null&&(ne.lane&=-536870913)}o&=~ue}f!==0&&Dn(r,f,0),w!==0&&v===0&&r.tag!==0&&(r.suspendedLanes|=w&~(P&~i))}function Dn(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var f=31-zt(i);r.entangledLanes|=i,r.entanglements[f]=r.entanglements[f]|1073741824|o&4194090}function zr(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var f=31-zt(o),v=1<<f;v&i|r[f]&i&&(r[f]|=i),o&=~v}}function $r(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Qi(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function q(){var r=se.p;return r!==0?r:(r=window.event,r===void 0?32:O_(r.type))}function X(r,i){var o=se.p;try{return se.p=r,i()}finally{se.p=o}}var J=Math.random().toString(36).slice(2),le="__reactFiber$"+J,ye="__reactProps$"+J,Ee="__reactContainer$"+J,Oe="__reactEvents$"+J,Te="__reactListeners$"+J,Ae="__reactHandles$"+J,Ce="__reactResources$"+J,Ie="__reactMarker$"+J;function Re(r){delete r[le],delete r[ye],delete r[Oe],delete r[Te],delete r[Ae]}function Pe(r){var i=r[le];if(i)return i;for(var o=r.parentNode;o;){if(i=o[Ee]||o[le]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=g_(r);r!==null;){if(o=r[le])return o;r=g_(r)}return i}r=o,o=r.parentNode}return null}function Ze(r){if(r=r[le]||r[Ee]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function ft(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function ot(r){var i=r[Ce];return i||(i=r[Ce]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function tt(r){r[Ie]=!0}var Qe=new Set,ur={};function Gt(r,i){Mn(r,i),Mn(r+"Capture",i)}function Mn(r,i){for(ur[r]=i,r=0;r<i.length;r++)Qe.add(i[r])}var on=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Br={},Fn={};function Xi(r){return Lr.call(Fn,r)?!0:Lr.call(Br,r)?!1:on.test(r)?Fn[r]=!0:(Br[r]=!0,!1)}function _n(r,i,o){if(Xi(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var f=i.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function On(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function $e(r,i,o,f){if(f===null)r.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+f)}}var $t,qn;function Pn(r){if($t===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);$t=i&&i[1]||"",qn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$t+r+qn}var Fr=!1;function Et(r,i){if(!r||Fr)return"";Fr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(i){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var te=ne}Reflect.construct(r,[],ue)}else{try{ue.call()}catch(ne){te=ne}r.call(ue.prototype)}}else{try{throw Error()}catch(ne){te=ne}(ue=r())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=f.DetermineComponentFrameRoot(),P=w[0],j=w[1];if(P&&j){var F=P.split(`
`),ee=j.split(`
`);for(v=f=0;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;for(;v<ee.length&&!ee[v].includes("DetermineComponentFrameRoot");)v++;if(f===F.length||v===ee.length)for(f=F.length-1,v=ee.length-1;1<=f&&0<=v&&F[f]!==ee[v];)v--;for(;1<=f&&0<=v;f--,v--)if(F[f]!==ee[v]){if(f!==1||v!==1)do if(f--,v--,0>v||F[f]!==ee[v]){var ae=`
`+F[f].replace(" at new "," at ");return r.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",r.displayName)),ae}while(1<=f&&0<=v);break}}}finally{Fr=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Pn(o):""}function cr(r){switch(r.tag){case 26:case 27:case 5:return Pn(r.type);case 16:return Pn("Lazy");case 13:return Pn("Suspense");case 19:return Pn("SuspenseList");case 0:case 15:return Et(r.type,!1);case 11:return Et(r.type.render,!1);case 1:return Et(r.type,!0);case 31:return Pn("Activity");default:return""}}function gi(r){try{var i="";do i+=cr(r),r=r.return;while(r);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ln(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function el(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ph(r){var i=el(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),f=""+r[i];if(!r.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var v=o.get,w=o.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return v.call(this)},set:function(P){f=""+P,w.call(this,P)}}),Object.defineProperty(r,i,{enumerable:o.enumerable}),{getValue:function(){return f},setValue:function(P){f=""+P},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Pa(r){r._valueTracker||(r._valueTracker=Ph(r))}function tl(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),f="";return r&&(f=el(r)?r.checked?"true":"false":r.value),r=f,r!==o?(i.setValue(r),!0):!1}function Hs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Lh=/[\n"\\]/g;function Bt(r){return r.replace(Lh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Hn(r,i,o,f,v,w,P,j){r.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?r.type=P:r.removeAttribute("type"),i!=null?P==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+ln(i)):r.value!==""+ln(i)&&(r.value=""+ln(i)):P!=="submit"&&P!=="reset"||r.removeAttribute("value"),i!=null?Zi(r,P,ln(i)):o!=null?Zi(r,P,ln(o)):f!=null&&r.removeAttribute("value"),v==null&&w!=null&&(r.defaultChecked=!!w),v!=null&&(r.checked=v&&typeof v!="function"&&typeof v!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?r.name=""+ln(j):r.removeAttribute("name")}function Gs(r,i,o,f,v,w,P,j){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.type=w),i!=null||o!=null){if(!(w!=="submit"&&w!=="reset"||i!=null))return;o=o!=null?""+ln(o):"",i=i!=null?""+ln(i):o,j||i===r.value||(r.value=i),r.defaultValue=i}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=j?r.checked:!!f,r.defaultChecked=!!f,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(r.name=P)}function Zi(r,i,o){i==="number"&&Hs(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function yi(r,i,o,f){if(r=r.options,i){i={};for(var v=0;v<o.length;v++)i["$"+o[v]]=!0;for(o=0;o<r.length;o++)v=i.hasOwnProperty("$"+r[o].value),r[o].selected!==v&&(r[o].selected=v),v&&f&&(r[o].defaultSelected=!0)}else{for(o=""+ln(o),i=null,v=0;v<r.length;v++){if(r[v].value===o){r[v].selected=!0,f&&(r[v].defaultSelected=!0);return}i!==null||r[v].disabled||(i=r[v])}i!==null&&(i.selected=!0)}}function yt(r,i,o){if(i!=null&&(i=""+ln(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+ln(o):""}function Ks(r,i,o,f){if(i==null){if(f!=null){if(o!=null)throw Error(s(92));if(ge(f)){if(1<f.length)throw Error(s(93));f=f[0]}o=f}o==null&&(o=""),i=o}o=ln(i),r.defaultValue=o,f=r.textContent,f===o&&f!==""&&f!==null&&(r.value=f)}function fr(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var Ys=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yu(r,i,o){var f=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?f?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":f?r.setProperty(i,o):typeof o!="number"||o===0||Ys.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function nl(r,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,o!=null){for(var f in o)!o.hasOwnProperty(f)||i!=null&&i.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var v in i)f=i[v],i.hasOwnProperty(v)&&o[v]!==f&&Yu(r,v,f)}else for(var w in i)i.hasOwnProperty(w)&&Yu(r,w,i[w])}function rl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function La(r){return jh.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var vi=null;function hr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var _i=null,bi=null;function il(r){var i=Ze(r);if(i&&(r=i.stateNode)){var o=r[ye]||null;e:switch(r=i.stateNode,i.type){case"input":if(Hn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Bt(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var f=o[i];if(f!==r&&f.form===r.form){var v=f[ye]||null;if(!v)throw Error(s(90));Hn(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(i=0;i<o.length;i++)f=o[i],f.form===r.form&&tl(f)}break e;case"textarea":yt(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&yi(r,!!o.multiple,i,!1)}}}var qr=!1;function Qu(r,i,o){if(qr)return r(i,o);qr=!0;try{var f=r(i);return f}finally{if(qr=!1,(_i!==null||bi!==null)&&(Bc(),_i&&(i=_i,r=bi,bi=_i=null,il(i),r)))for(i=0;i<r.length;i++)il(r[i])}}function Qs(r,i){var o=r.stateNode;if(o===null)return null;var f=o[ye]||null;if(f===null)return null;o=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dr=!1;if(Dr)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){dr=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{dr=!1}var Hr=null,Wi=null,Ei=null;function sl(){if(Ei)return Ei;var r,i=Wi,o=i.length,f,v="value"in Hr?Hr.value:Hr.textContent,w=v.length;for(r=0;r<o&&i[r]===v[r];r++);var P=o-r;for(f=1;f<=P&&i[o-f]===v[w-f];f++);return Ei=v.slice(r,1<f?1-f:void 0)}function Gr(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Kr(){return!0}function al(){return!1}function en(r){function i(o,f,v,w,P){this._reactName=o,this._targetInst=v,this.type=f,this.nativeEvent=w,this.target=P,this.currentTarget=null;for(var j in r)r.hasOwnProperty(j)&&(o=r[j],this[j]=o?o(w):w[j]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Kr:al,this.isPropagationStopped=al,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),i}var ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=en(ht),Zs=g({},ht,{view:0,detail:0}),Xu=en(Zs),ja,Ua,Yr,Ws=g({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Yr&&(Yr&&r.type==="mousemove"?(ja=r.screenX-Yr.screenX,Ua=r.screenY-Yr.screenY):Ua=ja=0,Yr=r),ja)},movementY:function(r){return"movementY"in r?r.movementY:Ua}}),mr=en(Ws),Zu=g({},Ws,{dataTransfer:0}),Uh=en(Zu),Js=g({},Zs,{relatedTarget:0}),za=en(Js),ol=g({},ht,{animationName:0,elapsedTime:0,pseudoElement:0}),$a=en(ol),Wu=g({},ht,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ba=en(Wu),zh=g({},ht,{data:0}),ll=en(zh),ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ec={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ul(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=ec[r])?!!i[r]:!1}function ta(){return ul}var tc=g({},Zs,{key:function(r){if(r.key){var i=ea[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Gr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ju[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(r){return r.type==="keypress"?Gr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Gr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Fa=en(tc),nc=g({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cl=en(nc),Ti=g({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),rc=en(Ti),ic=g({},ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),sc=en(ic),ac=g({},Ws,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),qa=en(ac),Vn=g({},ht,{newState:0,oldState:0}),oc=en(Vn),lc=[9,13,27,32],Qr=Dr&&"CompositionEvent"in window,p=null;Dr&&"documentMode"in document&&(p=document.documentMode);var D=Dr&&"TextEvent"in window&&!p,V=Dr&&(!Qr||p&&8<p&&11>=p),z=" ",Z=!1;function ie(r,i){switch(r){case"keyup":return lc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var nt=!1;function Kt(r,i){switch(r){case"compositionend":return ve(i);case"keypress":return i.which!==32?null:(Z=!0,z);case"textInput":return r=i.data,r===z&&Z?null:r;default:return null}}function rt(r,i){if(nt)return r==="compositionend"||!Qr&&ie(r,i)?(r=sl(),Ei=Wi=Hr=null,nt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return V&&i.locale!=="ko"?null:i.data;default:return null}}var tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yt(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!tn[r.type]:i==="textarea"}function wi(r,i,o,f){_i?bi?bi.push(f):bi=[f]:_i=f,i=Yc(i,"onChange"),0<i.length&&(o=new ka("onChange","change",null,o,f),r.push({event:o,listeners:i}))}var un=null,Xr=null;function fl(r){a_(r,0)}function uc(r){var i=ft(r);if(tl(i))return r}function xy(r,i){if(r==="change")return i}var Cy=!1;if(Dr){var $h;if(Dr){var Bh="oninput"in document;if(!Bh){var Dy=document.createElement("div");Dy.setAttribute("oninput","return;"),Bh=typeof Dy.oninput=="function"}$h=Bh}else $h=!1;Cy=$h&&(!document.documentMode||9<document.documentMode)}function My(){un&&(un.detachEvent("onpropertychange",Oy),Xr=un=null)}function Oy(r){if(r.propertyName==="value"&&uc(Xr)){var i=[];wi(i,Xr,r,hr(r)),Qu(fl,i)}}function D2(r,i,o){r==="focusin"?(My(),un=i,Xr=o,un.attachEvent("onpropertychange",Oy)):r==="focusout"&&My()}function M2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return uc(Xr)}function O2(r,i){if(r==="click")return uc(i)}function V2(r,i){if(r==="input"||r==="change")return uc(i)}function I2(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Gn=typeof Object.is=="function"?Object.is:I2;function hl(r,i){if(Gn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),f=Object.keys(i);if(o.length!==f.length)return!1;for(f=0;f<o.length;f++){var v=o[f];if(!Lr.call(i,v)||!Gn(r[v],i[v]))return!1}return!0}function Vy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Iy(r,i){var o=Vy(r);r=0;for(var f;o;){if(o.nodeType===3){if(f=r+o.textContent.length,r<=i&&f>=i)return{node:o,offset:i-r};r=f}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Vy(o)}}function Ny(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Ny(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Py(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Hs(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=Hs(r.document)}return i}function Fh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var N2=Dr&&"documentMode"in document&&11>=document.documentMode,Ha=null,qh=null,dl=null,Hh=!1;function Ly(r,i,o){var f=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Hh||Ha==null||Ha!==Hs(f)||(f=Ha,"selectionStart"in f&&Fh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),dl&&hl(dl,f)||(dl=f,f=Yc(qh,"onSelect"),0<f.length&&(i=new ka("onSelect","select",null,i,o),r.push({event:i,listeners:f}),i.target=Ha)))}function na(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var Ga={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},Gh={},ky={};Dr&&(ky=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function ra(r){if(Gh[r])return Gh[r];if(!Ga[r])return r;var i=Ga[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in ky)return Gh[r]=i[o];return r}var jy=ra("animationend"),Uy=ra("animationiteration"),zy=ra("animationstart"),P2=ra("transitionrun"),L2=ra("transitionstart"),k2=ra("transitioncancel"),$y=ra("transitionend"),By=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function Mr(r,i){By.set(r,i),Gt(i,[r])}var Fy=new WeakMap;function pr(r,i){if(typeof r=="object"&&r!==null){var o=Fy.get(r);return o!==void 0?o:(i={value:r,source:i,stack:gi(i)},Fy.set(r,i),i)}return{value:r,source:i,stack:gi(i)}}var gr=[],Ka=0,Yh=0;function cc(){for(var r=Ka,i=Yh=Ka=0;i<r;){var o=gr[i];gr[i++]=null;var f=gr[i];gr[i++]=null;var v=gr[i];gr[i++]=null;var w=gr[i];if(gr[i++]=null,f!==null&&v!==null){var P=f.pending;P===null?v.next=v:(v.next=P.next,P.next=v),f.pending=v}w!==0&&qy(o,v,w)}}function fc(r,i,o,f){gr[Ka++]=r,gr[Ka++]=i,gr[Ka++]=o,gr[Ka++]=f,Yh|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function Qh(r,i,o,f){return fc(r,i,o,f),hc(r)}function Ya(r,i){return fc(r,null,null,i),hc(r)}function qy(r,i,o){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o);for(var v=!1,w=r.return;w!==null;)w.childLanes|=o,f=w.alternate,f!==null&&(f.childLanes|=o),w.tag===22&&(r=w.stateNode,r===null||r._visibility&1||(v=!0)),r=w,w=w.return;return r.tag===3?(w=r.stateNode,v&&i!==null&&(v=31-zt(o),r=w.hiddenUpdates,f=r[v],f===null?r[v]=[i]:f.push(i),i.lane=o|536870912),w):null}function hc(r){if(50<jl)throw jl=0,tm=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Qa={};function j2(r,i,o,f){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(r,i,o,f){return new j2(r,i,o,f)}function Xh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Si(r,i){var o=r.alternate;return o===null?(o=Kn(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Hy(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function dc(r,i,o,f,v,w){var P=0;if(f=r,typeof r=="function")Xh(r)&&(P=1);else if(typeof r=="string")P=zA(r,o,_e.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=Kn(31,o,i,v),r.elementType=C,r.lanes=w,r;case b:return ia(o.children,v,w,i);case E:P=8,v|=24;break;case R:return r=Kn(12,o,i,v|2),r.elementType=R,r.lanes=w,r;case N:return r=Kn(13,o,i,v),r.elementType=N,r.lanes=w,r;case L:return r=Kn(19,o,i,v),r.elementType=L,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case T:case x:P=10;break e;case A:P=9;break e;case I:P=11;break e;case O:P=14;break e;case S:P=16,f=null;break e}P=29,o=Error(s(130,r===null?"null":typeof r,"")),f=null}return i=Kn(P,o,i,v),i.elementType=r,i.type=f,i.lanes=w,i}function ia(r,i,o,f){return r=Kn(7,r,f,i),r.lanes=o,r}function Zh(r,i,o){return r=Kn(6,r,null,i),r.lanes=o,r}function Wh(r,i,o){return i=Kn(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Xa=[],Za=0,mc=null,pc=0,yr=[],vr=0,sa=null,Ai=1,Ri="";function aa(r,i){Xa[Za++]=pc,Xa[Za++]=mc,mc=r,pc=i}function Gy(r,i,o){yr[vr++]=Ai,yr[vr++]=Ri,yr[vr++]=sa,sa=r;var f=Ai;r=Ri;var v=32-zt(f)-1;f&=~(1<<v),o+=1;var w=32-zt(i)+v;if(30<w){var P=v-v%5;w=(f&(1<<P)-1).toString(32),f>>=P,v-=P,Ai=1<<32-zt(i)+v|o<<v|f,Ri=w+r}else Ai=1<<w|o<<v|f,Ri=r}function Jh(r){r.return!==null&&(aa(r,1),Gy(r,1,0))}function ed(r){for(;r===mc;)mc=Xa[--Za],Xa[Za]=null,pc=Xa[--Za],Xa[Za]=null;for(;r===sa;)sa=yr[--vr],yr[vr]=null,Ri=yr[--vr],yr[vr]=null,Ai=yr[--vr],yr[vr]=null}var In=null,It=null,ct=!1,oa=null,Zr=!1,td=Error(s(519));function la(r){var i=Error(s(418,""));throw gl(pr(i,r)),td}function Ky(r){var i=r.stateNode,o=r.type,f=r.memoizedProps;switch(i[le]=r,i[ye]=f,o){case"dialog":Je("cancel",i),Je("close",i);break;case"iframe":case"object":case"embed":Je("load",i);break;case"video":case"audio":for(o=0;o<zl.length;o++)Je(zl[o],i);break;case"source":Je("error",i);break;case"img":case"image":case"link":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"input":Je("invalid",i),Gs(i,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Pa(i);break;case"select":Je("invalid",i);break;case"textarea":Je("invalid",i),Ks(i,f.value,f.defaultValue,f.children),Pa(i)}o=f.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||f.suppressHydrationWarning===!0||c_(i.textContent,o)?(f.popover!=null&&(Je("beforetoggle",i),Je("toggle",i)),f.onScroll!=null&&Je("scroll",i),f.onScrollEnd!=null&&Je("scrollend",i),f.onClick!=null&&(i.onclick=Qc),i=!0):i=!1,i||la(r)}function Yy(r){for(In=r.return;In;)switch(In.tag){case 5:case 13:Zr=!1;return;case 27:case 3:Zr=!0;return;default:In=In.return}}function ml(r){if(r!==In)return!1;if(!ct)return Yy(r),ct=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||ym(r.type,r.memoizedProps)),o=!o),o&&It&&la(r),Yy(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(i===0){It=Vr(r.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;r=r.nextSibling}It=null}}else i===27?(i=It,ms(r.type)?(r=Em,Em=null,It=r):It=i):It=In?Vr(r.stateNode.nextSibling):null;return!0}function pl(){It=In=null,ct=!1}function Qy(){var r=oa;return r!==null&&(jn===null?jn=r:jn.push.apply(jn,r),oa=null),r}function gl(r){oa===null?oa=[r]:oa.push(r)}var nd=re(null),ua=null,xi=null;function Ji(r,i,o){ce(nd,i._currentValue),i._currentValue=o}function Ci(r){r._currentValue=nd.current,me(nd)}function rd(r,i,o){for(;r!==null;){var f=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),r===o)break;r=r.return}}function id(r,i,o,f){var v=r.child;for(v!==null&&(v.return=r);v!==null;){var w=v.dependencies;if(w!==null){var P=v.child;w=w.firstContext;e:for(;w!==null;){var j=w;w=v;for(var F=0;F<i.length;F++)if(j.context===i[F]){w.lanes|=o,j=w.alternate,j!==null&&(j.lanes|=o),rd(w.return,o,r),f||(P=null);break e}w=j.next}}else if(v.tag===18){if(P=v.return,P===null)throw Error(s(341));P.lanes|=o,w=P.alternate,w!==null&&(w.lanes|=o),rd(P,o,r),P=null}else P=v.child;if(P!==null)P.return=v;else for(P=v;P!==null;){if(P===r){P=null;break}if(v=P.sibling,v!==null){v.return=P.return,P=v;break}P=P.return}v=P}}function yl(r,i,o,f){r=null;for(var v=i,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var P=v.alternate;if(P===null)throw Error(s(387));if(P=P.memoizedProps,P!==null){var j=v.type;Gn(v.pendingProps.value,P.value)||(r!==null?r.push(j):r=[j])}}else if(v===wt.current){if(P=v.alternate,P===null)throw Error(s(387));P.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(r!==null?r.push(Gl):r=[Gl])}v=v.return}r!==null&&id(i,r,o,f),i.flags|=262144}function gc(r){for(r=r.firstContext;r!==null;){if(!Gn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ca(r){ua=r,xi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function bn(r){return Xy(ua,r)}function yc(r,i){return ua===null&&ca(r),Xy(r,i)}function Xy(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},xi===null){if(r===null)throw Error(s(308));xi=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else xi=xi.next=i;return o}var U2=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,f){r.push(f)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},z2=t.unstable_scheduleCallback,$2=t.unstable_NormalPriority,Qt={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sd(){return{controller:new U2,data:new Map,refCount:0}}function vl(r){r.refCount--,r.refCount===0&&z2($2,function(){r.controller.abort()})}var _l=null,ad=0,Wa=0,Ja=null;function B2(r,i){if(_l===null){var o=_l=[];ad=0,Wa=lm(),Ja={status:"pending",value:void 0,then:function(f){o.push(f)}}}return ad++,i.then(Zy,Zy),i}function Zy(){if(--ad===0&&_l!==null){Ja!==null&&(Ja.status="fulfilled");var r=_l;_l=null,Wa=0,Ja=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function F2(r,i){var o=[],f={status:"pending",value:null,reason:null,then:function(v){o.push(v)}};return r.then(function(){f.status="fulfilled",f.value=i;for(var v=0;v<o.length;v++)(0,o[v])(i)},function(v){for(f.status="rejected",f.reason=v,v=0;v<o.length;v++)(0,o[v])(void 0)}),f}var Wy=K.S;K.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&B2(r,i),Wy!==null&&Wy(r,i)};var fa=re(null);function od(){var r=fa.current;return r!==null?r:St.pooledCache}function vc(r,i){i===null?ce(fa,fa.current):ce(fa,i.pool)}function Jy(){var r=od();return r===null?null:{parent:Qt._currentValue,pool:r}}var bl=Error(s(460)),ev=Error(s(474)),_c=Error(s(542)),ld={then:function(){}};function tv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function bc(){}function nv(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(bc,bc),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,iv(r),r;default:if(typeof i.status=="string")i.then(bc,bc);else{if(r=St,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(f){if(i.status==="pending"){var v=i;v.status="fulfilled",v.value=f}},function(f){if(i.status==="pending"){var v=i;v.status="rejected",v.reason=f}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,iv(r),r}throw El=i,bl}}var El=null;function rv(){if(El===null)throw Error(s(459));var r=El;return El=null,r}function iv(r){if(r===bl||r===_c)throw Error(s(483))}var es=!1;function ud(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cd(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ts(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ns(r,i,o){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(mt&2)!==0){var v=f.pending;return v===null?i.next=i:(i.next=v.next,v.next=i),f.pending=i,i=hc(r),qy(r,null,o),i}return fc(r,f,i,o),hc(r)}function Tl(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var f=i.lanes;f&=r.pendingLanes,o|=f,i.lanes=o,zr(r,o)}}function fd(r,i){var o=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,o===f)){var v=null,w=null;if(o=o.firstBaseUpdate,o!==null){do{var P={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};w===null?v=w=P:w=w.next=P,o=o.next}while(o!==null);w===null?v=w=i:w=w.next=i}else v=w=i;o={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:f.shared,callbacks:f.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var hd=!1;function wl(){if(hd){var r=Ja;if(r!==null)throw r}}function Sl(r,i,o,f){hd=!1;var v=r.updateQueue;es=!1;var w=v.firstBaseUpdate,P=v.lastBaseUpdate,j=v.shared.pending;if(j!==null){v.shared.pending=null;var F=j,ee=F.next;F.next=null,P===null?w=ee:P.next=ee,P=F;var ae=r.alternate;ae!==null&&(ae=ae.updateQueue,j=ae.lastBaseUpdate,j!==P&&(j===null?ae.firstBaseUpdate=ee:j.next=ee,ae.lastBaseUpdate=F))}if(w!==null){var ue=v.baseState;P=0,ae=ee=F=null,j=w;do{var te=j.lane&-536870913,ne=te!==j.lane;if(ne?(it&te)===te:(f&te)===te){te!==0&&te===Wa&&(hd=!0),ae!==null&&(ae=ae.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Ue=r,Ne=j;te=i;var bt=o;switch(Ne.tag){case 1:if(Ue=Ne.payload,typeof Ue=="function"){ue=Ue.call(bt,ue,te);break e}ue=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Ne.payload,te=typeof Ue=="function"?Ue.call(bt,ue,te):Ue,te==null)break e;ue=g({},ue,te);break e;case 2:es=!0}}te=j.callback,te!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=v.callbacks,ne===null?v.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ae===null?(ee=ae=ne,F=ue):ae=ae.next=ne,P|=te;if(j=j.next,j===null){if(j=v.shared.pending,j===null)break;ne=j,j=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);ae===null&&(F=ue),v.baseState=F,v.firstBaseUpdate=ee,v.lastBaseUpdate=ae,w===null&&(v.shared.lanes=0),cs|=P,r.lanes=P,r.memoizedState=ue}}function sv(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function av(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)sv(o[r],i)}var eo=re(null),Ec=re(0);function ov(r,i){r=Pi,ce(Ec,r),ce(eo,i),Pi=r|i.baseLanes}function dd(){ce(Ec,Pi),ce(eo,eo.current)}function md(){Pi=Ec.current,me(eo),me(Ec)}var rs=0,Ge=null,vt=null,Ft=null,Tc=!1,to=!1,ha=!1,wc=0,Al=0,no=null,q2=0;function Lt(){throw Error(s(321))}function pd(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!Gn(r[o],i[o]))return!1;return!0}function gd(r,i,o,f,v,w){return rs=w,Ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=r===null||r.memoizedState===null?qv:Hv,ha=!1,w=o(f,v),ha=!1,to&&(w=uv(i,o,f,v)),lv(r),w}function lv(r){K.H=Dc;var i=vt!==null&&vt.next!==null;if(rs=0,Ft=vt=Ge=null,Tc=!1,Al=0,no=null,i)throw Error(s(300));r===null||nn||(r=r.dependencies,r!==null&&gc(r)&&(nn=!0))}function uv(r,i,o,f){Ge=r;var v=0;do{if(to&&(no=null),Al=0,to=!1,25<=v)throw Error(s(301));if(v+=1,Ft=vt=null,r.updateQueue!=null){var w=r.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}K.H=Z2,w=i(o,f)}while(to);return w}function H2(){var r=K.H,i=r.useState()[0];return i=typeof i.then=="function"?Rl(i):i,r=r.useState()[0],(vt!==null?vt.memoizedState:null)!==r&&(Ge.flags|=1024),i}function yd(){var r=wc!==0;return wc=0,r}function vd(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function _d(r){if(Tc){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Tc=!1}rs=0,Ft=vt=Ge=null,to=!1,Al=wc=0,no=null}function Ln(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?Ge.memoizedState=Ft=r:Ft=Ft.next=r,Ft}function qt(){if(vt===null){var r=Ge.alternate;r=r!==null?r.memoizedState:null}else r=vt.next;var i=Ft===null?Ge.memoizedState:Ft.next;if(i!==null)Ft=i,vt=r;else{if(r===null)throw Ge.alternate===null?Error(s(467)):Error(s(310));vt=r,r={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Ft===null?Ge.memoizedState=Ft=r:Ft=Ft.next=r}return Ft}function bd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(r){var i=Al;return Al+=1,no===null&&(no=[]),r=nv(no,r,i),i=Ge,(Ft===null?i.memoizedState:Ft.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?qv:Hv),r}function Sc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Rl(r);if(r.$$typeof===x)return bn(r)}throw Error(s(438,String(r)))}function Ed(r){var i=null,o=Ge.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var f=Ge.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(i={data:f.data.map(function(v){return v.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=bd(),Ge.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),f=0;f<r;f++)o[f]=M;return i.index++,o}function Di(r,i){return typeof i=="function"?i(r):i}function Ac(r){var i=qt();return Td(i,vt,r)}function Td(r,i,o){var f=r.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=o;var v=r.baseQueue,w=f.pending;if(w!==null){if(v!==null){var P=v.next;v.next=w.next,w.next=P}i.baseQueue=v=w,f.pending=null}if(w=r.baseState,v===null)r.memoizedState=w;else{i=v.next;var j=P=null,F=null,ee=i,ae=!1;do{var ue=ee.lane&-536870913;if(ue!==ee.lane?(it&ue)===ue:(rs&ue)===ue){var te=ee.revertLane;if(te===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ue===Wa&&(ae=!0);else if((rs&te)===te){ee=ee.next,te===Wa&&(ae=!0);continue}else ue={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},F===null?(j=F=ue,P=w):F=F.next=ue,Ge.lanes|=te,cs|=te;ue=ee.action,ha&&o(w,ue),w=ee.hasEagerState?ee.eagerState:o(w,ue)}else te={lane:ue,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},F===null?(j=F=te,P=w):F=F.next=te,Ge.lanes|=ue,cs|=ue;ee=ee.next}while(ee!==null&&ee!==i);if(F===null?P=w:F.next=j,!Gn(w,r.memoizedState)&&(nn=!0,ae&&(o=Ja,o!==null)))throw o;r.memoizedState=w,r.baseState=P,r.baseQueue=F,f.lastRenderedState=w}return v===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function wd(r){var i=qt(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var f=o.dispatch,v=o.pending,w=i.memoizedState;if(v!==null){o.pending=null;var P=v=v.next;do w=r(w,P.action),P=P.next;while(P!==v);Gn(w,i.memoizedState)||(nn=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),o.lastRenderedState=w}return[w,f]}function cv(r,i,o){var f=Ge,v=qt(),w=ct;if(w){if(o===void 0)throw Error(s(407));o=o()}else o=i();var P=!Gn((vt||v).memoizedState,o);P&&(v.memoizedState=o,nn=!0),v=v.queue;var j=dv.bind(null,f,v,r);if(xl(2048,8,j,[r]),v.getSnapshot!==i||P||Ft!==null&&Ft.memoizedState.tag&1){if(f.flags|=2048,ro(9,Rc(),hv.bind(null,f,v,o,i),null),St===null)throw Error(s(349));w||(rs&124)!==0||fv(f,i,o)}return o}function fv(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=Ge.updateQueue,i===null?(i=bd(),Ge.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function hv(r,i,o,f){i.value=o,i.getSnapshot=f,mv(i)&&pv(r)}function dv(r,i,o){return o(function(){mv(i)&&pv(r)})}function mv(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!Gn(r,o)}catch{return!0}}function pv(r){var i=Ya(r,2);i!==null&&Wn(i,r,2)}function Sd(r){var i=Ln();if(typeof r=="function"){var o=r;if(r=o(),ha){vn(!0);try{o()}finally{vn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:r},i}function gv(r,i,o,f){return r.baseState=o,Td(r,vt,typeof f=="function"?f:Di)}function G2(r,i,o,f,v){if(Cc(r))throw Error(s(485));if(r=i.action,r!==null){var w={payload:v,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){w.listeners.push(P)}};K.T!==null?o(!0):w.isTransition=!1,f(w),o=i.pending,o===null?(w.next=i.pending=w,yv(i,w)):(w.next=o.next,i.pending=o.next=w)}}function yv(r,i){var o=i.action,f=i.payload,v=r.state;if(i.isTransition){var w=K.T,P={};K.T=P;try{var j=o(v,f),F=K.S;F!==null&&F(P,j),vv(r,i,j)}catch(ee){Ad(r,i,ee)}finally{K.T=w}}else try{w=o(v,f),vv(r,i,w)}catch(ee){Ad(r,i,ee)}}function vv(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(f){_v(r,i,f)},function(f){return Ad(r,i,f)}):_v(r,i,o)}function _v(r,i,o){i.status="fulfilled",i.value=o,bv(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,yv(r,o)))}function Ad(r,i,o){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do i.status="rejected",i.reason=o,bv(i),i=i.next;while(i!==f)}r.action=null}function bv(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Ev(r,i){return i}function Tv(r,i){if(ct){var o=St.formState;if(o!==null){e:{var f=Ge;if(ct){if(It){t:{for(var v=It,w=Zr;v.nodeType!==8;){if(!w){v=null;break t}if(v=Vr(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){It=Vr(v.nextSibling),f=v.data==="F!";break e}}la(f)}f=!1}f&&(i=o[0])}}return o=Ln(),o.memoizedState=o.baseState=i,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ev,lastRenderedState:i},o.queue=f,o=$v.bind(null,Ge,f),f.dispatch=o,f=Sd(!1),w=Md.bind(null,Ge,!1,f.queue),f=Ln(),v={state:i,dispatch:null,action:r,pending:null},f.queue=v,o=G2.bind(null,Ge,v,w,o),v.dispatch=o,f.memoizedState=r,[i,o,!1]}function wv(r){var i=qt();return Sv(i,vt,r)}function Sv(r,i,o){if(i=Td(r,i,Ev)[0],r=Ac(Di)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var f=Rl(i)}catch(P){throw P===bl?_c:P}else f=i;i=qt();var v=i.queue,w=v.dispatch;return o!==i.memoizedState&&(Ge.flags|=2048,ro(9,Rc(),K2.bind(null,v,o),null)),[f,w,r]}function K2(r,i){r.action=i}function Av(r){var i=qt(),o=vt;if(o!==null)return Sv(i,o,r);qt(),i=i.memoizedState,o=qt();var f=o.queue.dispatch;return o.memoizedState=r,[i,f,!1]}function ro(r,i,o,f){return r={tag:r,create:o,deps:f,inst:i,next:null},i=Ge.updateQueue,i===null&&(i=bd(),Ge.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(f=o.next,o.next=r,r.next=f,i.lastEffect=r),r}function Rc(){return{destroy:void 0,resource:void 0}}function Rv(){return qt().memoizedState}function xc(r,i,o,f){var v=Ln();f=f===void 0?null:f,Ge.flags|=r,v.memoizedState=ro(1|i,Rc(),o,f)}function xl(r,i,o,f){var v=qt();f=f===void 0?null:f;var w=v.memoizedState.inst;vt!==null&&f!==null&&pd(f,vt.memoizedState.deps)?v.memoizedState=ro(i,w,o,f):(Ge.flags|=r,v.memoizedState=ro(1|i,w,o,f))}function xv(r,i){xc(8390656,8,r,i)}function Cv(r,i){xl(2048,8,r,i)}function Dv(r,i){return xl(4,2,r,i)}function Mv(r,i){return xl(4,4,r,i)}function Ov(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Vv(r,i,o){o=o!=null?o.concat([r]):null,xl(4,4,Ov.bind(null,i,r),o)}function Rd(){}function Iv(r,i){var o=qt();i=i===void 0?null:i;var f=o.memoizedState;return i!==null&&pd(i,f[1])?f[0]:(o.memoizedState=[r,i],r)}function Nv(r,i){var o=qt();i=i===void 0?null:i;var f=o.memoizedState;if(i!==null&&pd(i,f[1]))return f[0];if(f=r(),ha){vn(!0);try{r()}finally{vn(!1)}}return o.memoizedState=[f,i],f}function xd(r,i,o){return o===void 0||(rs&1073741824)!==0?r.memoizedState=i:(r.memoizedState=o,r=k0(),Ge.lanes|=r,cs|=r,o)}function Pv(r,i,o,f){return Gn(o,i)?o:eo.current!==null?(r=xd(r,o,f),Gn(r,i)||(nn=!0),r):(rs&42)===0?(nn=!0,r.memoizedState=o):(r=k0(),Ge.lanes|=r,cs|=r,i)}function Lv(r,i,o,f,v){var w=se.p;se.p=w!==0&&8>w?w:8;var P=K.T,j={};K.T=j,Md(r,!1,i,o);try{var F=v(),ee=K.S;if(ee!==null&&ee(j,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ae=F2(F,f);Cl(r,i,ae,Zn(r))}else Cl(r,i,f,Zn(r))}catch(ue){Cl(r,i,{then:function(){},status:"rejected",reason:ue},Zn())}finally{se.p=w,K.T=P}}function Y2(){}function Cd(r,i,o,f){if(r.tag!==5)throw Error(s(476));var v=kv(r).queue;Lv(r,v,i,pe,o===null?Y2:function(){return jv(r),o(f)})}function kv(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:pe},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function jv(r){var i=kv(r).next.queue;Cl(r,i,{},Zn())}function Dd(){return bn(Gl)}function Uv(){return qt().memoizedState}function zv(){return qt().memoizedState}function Q2(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=Zn();r=ts(o);var f=ns(i,r,o);f!==null&&(Wn(f,i,o),Tl(f,i,o)),i={cache:sd()},r.payload=i;return}i=i.return}}function X2(r,i,o){var f=Zn();o={lane:f,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Cc(r)?Bv(i,o):(o=Qh(r,i,o,f),o!==null&&(Wn(o,r,f),Fv(o,i,f)))}function $v(r,i,o){var f=Zn();Cl(r,i,o,f)}function Cl(r,i,o,f){var v={lane:f,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Cc(r))Bv(i,v);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var P=i.lastRenderedState,j=w(P,o);if(v.hasEagerState=!0,v.eagerState=j,Gn(j,P))return fc(r,i,v,0),St===null&&cc(),!1}catch{}finally{}if(o=Qh(r,i,v,f),o!==null)return Wn(o,r,f),Fv(o,i,f),!0}return!1}function Md(r,i,o,f){if(f={lane:2,revertLane:lm(),action:f,hasEagerState:!1,eagerState:null,next:null},Cc(r)){if(i)throw Error(s(479))}else i=Qh(r,o,f,2),i!==null&&Wn(i,r,2)}function Cc(r){var i=r.alternate;return r===Ge||i!==null&&i===Ge}function Bv(r,i){to=Tc=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function Fv(r,i,o){if((o&4194048)!==0){var f=i.lanes;f&=r.pendingLanes,o|=f,i.lanes=o,zr(r,o)}}var Dc={readContext:bn,use:Sc,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt},qv={readContext:bn,use:Sc,useCallback:function(r,i){return Ln().memoizedState=[r,i===void 0?null:i],r},useContext:bn,useEffect:xv,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,xc(4194308,4,Ov.bind(null,i,r),o)},useLayoutEffect:function(r,i){return xc(4194308,4,r,i)},useInsertionEffect:function(r,i){xc(4,2,r,i)},useMemo:function(r,i){var o=Ln();i=i===void 0?null:i;var f=r();if(ha){vn(!0);try{r()}finally{vn(!1)}}return o.memoizedState=[f,i],f},useReducer:function(r,i,o){var f=Ln();if(o!==void 0){var v=o(i);if(ha){vn(!0);try{o(i)}finally{vn(!1)}}}else v=i;return f.memoizedState=f.baseState=v,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:v},f.queue=r,r=r.dispatch=X2.bind(null,Ge,r),[f.memoizedState,r]},useRef:function(r){var i=Ln();return r={current:r},i.memoizedState=r},useState:function(r){r=Sd(r);var i=r.queue,o=$v.bind(null,Ge,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:Rd,useDeferredValue:function(r,i){var o=Ln();return xd(o,r,i)},useTransition:function(){var r=Sd(!1);return r=Lv.bind(null,Ge,r.queue,!0,!1),Ln().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var f=Ge,v=Ln();if(ct){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),St===null)throw Error(s(349));(it&124)!==0||fv(f,i,o)}v.memoizedState=o;var w={value:o,getSnapshot:i};return v.queue=w,xv(dv.bind(null,f,w,r),[r]),f.flags|=2048,ro(9,Rc(),hv.bind(null,f,w,o,i),null),o},useId:function(){var r=Ln(),i=St.identifierPrefix;if(ct){var o=Ri,f=Ai;o=(f&~(1<<32-zt(f)-1)).toString(32)+o,i="«"+i+"R"+o,o=wc++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=q2++,i="«"+i+"r"+o.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:Dd,useFormState:Tv,useActionState:Tv,useOptimistic:function(r){var i=Ln();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Md.bind(null,Ge,!0,o),o.dispatch=i,[r,i]},useMemoCache:Ed,useCacheRefresh:function(){return Ln().memoizedState=Q2.bind(null,Ge)}},Hv={readContext:bn,use:Sc,useCallback:Iv,useContext:bn,useEffect:Cv,useImperativeHandle:Vv,useInsertionEffect:Dv,useLayoutEffect:Mv,useMemo:Nv,useReducer:Ac,useRef:Rv,useState:function(){return Ac(Di)},useDebugValue:Rd,useDeferredValue:function(r,i){var o=qt();return Pv(o,vt.memoizedState,r,i)},useTransition:function(){var r=Ac(Di)[0],i=qt().memoizedState;return[typeof r=="boolean"?r:Rl(r),i]},useSyncExternalStore:cv,useId:Uv,useHostTransitionStatus:Dd,useFormState:wv,useActionState:wv,useOptimistic:function(r,i){var o=qt();return gv(o,vt,r,i)},useMemoCache:Ed,useCacheRefresh:zv},Z2={readContext:bn,use:Sc,useCallback:Iv,useContext:bn,useEffect:Cv,useImperativeHandle:Vv,useInsertionEffect:Dv,useLayoutEffect:Mv,useMemo:Nv,useReducer:wd,useRef:Rv,useState:function(){return wd(Di)},useDebugValue:Rd,useDeferredValue:function(r,i){var o=qt();return vt===null?xd(o,r,i):Pv(o,vt.memoizedState,r,i)},useTransition:function(){var r=wd(Di)[0],i=qt().memoizedState;return[typeof r=="boolean"?r:Rl(r),i]},useSyncExternalStore:cv,useId:Uv,useHostTransitionStatus:Dd,useFormState:Av,useActionState:Av,useOptimistic:function(r,i){var o=qt();return vt!==null?gv(o,vt,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Ed,useCacheRefresh:zv},io=null,Dl=0;function Mc(r){var i=Dl;return Dl+=1,io===null&&(io=[]),nv(io,r,i)}function Ml(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Oc(r,i){throw i.$$typeof===d?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Gv(r){var i=r._init;return i(r._payload)}function Kv(r){function i(Q,G){if(r){var W=Q.deletions;W===null?(Q.deletions=[G],Q.flags|=16):W.push(G)}}function o(Q,G){if(!r)return null;for(;G!==null;)i(Q,G),G=G.sibling;return null}function f(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function v(Q,G){return Q=Si(Q,G),Q.index=0,Q.sibling=null,Q}function w(Q,G,W){return Q.index=W,r?(W=Q.alternate,W!==null?(W=W.index,W<G?(Q.flags|=67108866,G):W):(Q.flags|=67108866,G)):(Q.flags|=1048576,G)}function P(Q){return r&&Q.alternate===null&&(Q.flags|=67108866),Q}function j(Q,G,W,oe){return G===null||G.tag!==6?(G=Zh(W,Q.mode,oe),G.return=Q,G):(G=v(G,W),G.return=Q,G)}function F(Q,G,W,oe){var we=W.type;return we===b?ae(Q,G,W.props.children,oe,W.key):G!==null&&(G.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===S&&Gv(we)===G.type)?(G=v(G,W.props),Ml(G,W),G.return=Q,G):(G=dc(W.type,W.key,W.props,null,Q.mode,oe),Ml(G,W),G.return=Q,G)}function ee(Q,G,W,oe){return G===null||G.tag!==4||G.stateNode.containerInfo!==W.containerInfo||G.stateNode.implementation!==W.implementation?(G=Wh(W,Q.mode,oe),G.return=Q,G):(G=v(G,W.children||[]),G.return=Q,G)}function ae(Q,G,W,oe,we){return G===null||G.tag!==7?(G=ia(W,Q.mode,oe,we),G.return=Q,G):(G=v(G,W),G.return=Q,G)}function ue(Q,G,W){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Zh(""+G,Q.mode,W),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case y:return W=dc(G.type,G.key,G.props,null,Q.mode,W),Ml(W,G),W.return=Q,W;case _:return G=Wh(G,Q.mode,W),G.return=Q,G;case S:var oe=G._init;return G=oe(G._payload),ue(Q,G,W)}if(ge(G)||$(G))return G=ia(G,Q.mode,W,null),G.return=Q,G;if(typeof G.then=="function")return ue(Q,Mc(G),W);if(G.$$typeof===x)return ue(Q,yc(Q,G),W);Oc(Q,G)}return null}function te(Q,G,W,oe){var we=G!==null?G.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return we!==null?null:j(Q,G,""+W,oe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case y:return W.key===we?F(Q,G,W,oe):null;case _:return W.key===we?ee(Q,G,W,oe):null;case S:return we=W._init,W=we(W._payload),te(Q,G,W,oe)}if(ge(W)||$(W))return we!==null?null:ae(Q,G,W,oe,null);if(typeof W.then=="function")return te(Q,G,Mc(W),oe);if(W.$$typeof===x)return te(Q,G,yc(Q,W),oe);Oc(Q,W)}return null}function ne(Q,G,W,oe,we){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Q=Q.get(W)||null,j(G,Q,""+oe,we);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case y:return Q=Q.get(oe.key===null?W:oe.key)||null,F(G,Q,oe,we);case _:return Q=Q.get(oe.key===null?W:oe.key)||null,ee(G,Q,oe,we);case S:var Xe=oe._init;return oe=Xe(oe._payload),ne(Q,G,W,oe,we)}if(ge(oe)||$(oe))return Q=Q.get(W)||null,ae(G,Q,oe,we,null);if(typeof oe.then=="function")return ne(Q,G,W,Mc(oe),we);if(oe.$$typeof===x)return ne(Q,G,W,yc(G,oe),we);Oc(G,oe)}return null}function Ue(Q,G,W,oe){for(var we=null,Xe=null,De=G,Le=G=0,sn=null;De!==null&&Le<W.length;Le++){De.index>Le?(sn=De,De=null):sn=De.sibling;var lt=te(Q,De,W[Le],oe);if(lt===null){De===null&&(De=sn);break}r&&De&&lt.alternate===null&&i(Q,De),G=w(lt,G,Le),Xe===null?we=lt:Xe.sibling=lt,Xe=lt,De=sn}if(Le===W.length)return o(Q,De),ct&&aa(Q,Le),we;if(De===null){for(;Le<W.length;Le++)De=ue(Q,W[Le],oe),De!==null&&(G=w(De,G,Le),Xe===null?we=De:Xe.sibling=De,Xe=De);return ct&&aa(Q,Le),we}for(De=f(De);Le<W.length;Le++)sn=ne(De,Q,Le,W[Le],oe),sn!==null&&(r&&sn.alternate!==null&&De.delete(sn.key===null?Le:sn.key),G=w(sn,G,Le),Xe===null?we=sn:Xe.sibling=sn,Xe=sn);return r&&De.forEach(function(_s){return i(Q,_s)}),ct&&aa(Q,Le),we}function Ne(Q,G,W,oe){if(W==null)throw Error(s(151));for(var we=null,Xe=null,De=G,Le=G=0,sn=null,lt=W.next();De!==null&&!lt.done;Le++,lt=W.next()){De.index>Le?(sn=De,De=null):sn=De.sibling;var _s=te(Q,De,lt.value,oe);if(_s===null){De===null&&(De=sn);break}r&&De&&_s.alternate===null&&i(Q,De),G=w(_s,G,Le),Xe===null?we=_s:Xe.sibling=_s,Xe=_s,De=sn}if(lt.done)return o(Q,De),ct&&aa(Q,Le),we;if(De===null){for(;!lt.done;Le++,lt=W.next())lt=ue(Q,lt.value,oe),lt!==null&&(G=w(lt,G,Le),Xe===null?we=lt:Xe.sibling=lt,Xe=lt);return ct&&aa(Q,Le),we}for(De=f(De);!lt.done;Le++,lt=W.next())lt=ne(De,Q,Le,lt.value,oe),lt!==null&&(r&&lt.alternate!==null&&De.delete(lt.key===null?Le:lt.key),G=w(lt,G,Le),Xe===null?we=lt:Xe.sibling=lt,Xe=lt);return r&&De.forEach(function(WA){return i(Q,WA)}),ct&&aa(Q,Le),we}function bt(Q,G,W,oe){if(typeof W=="object"&&W!==null&&W.type===b&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case y:e:{for(var we=W.key;G!==null;){if(G.key===we){if(we=W.type,we===b){if(G.tag===7){o(Q,G.sibling),oe=v(G,W.props.children),oe.return=Q,Q=oe;break e}}else if(G.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===S&&Gv(we)===G.type){o(Q,G.sibling),oe=v(G,W.props),Ml(oe,W),oe.return=Q,Q=oe;break e}o(Q,G);break}else i(Q,G);G=G.sibling}W.type===b?(oe=ia(W.props.children,Q.mode,oe,W.key),oe.return=Q,Q=oe):(oe=dc(W.type,W.key,W.props,null,Q.mode,oe),Ml(oe,W),oe.return=Q,Q=oe)}return P(Q);case _:e:{for(we=W.key;G!==null;){if(G.key===we)if(G.tag===4&&G.stateNode.containerInfo===W.containerInfo&&G.stateNode.implementation===W.implementation){o(Q,G.sibling),oe=v(G,W.children||[]),oe.return=Q,Q=oe;break e}else{o(Q,G);break}else i(Q,G);G=G.sibling}oe=Wh(W,Q.mode,oe),oe.return=Q,Q=oe}return P(Q);case S:return we=W._init,W=we(W._payload),bt(Q,G,W,oe)}if(ge(W))return Ue(Q,G,W,oe);if($(W)){if(we=$(W),typeof we!="function")throw Error(s(150));return W=we.call(W),Ne(Q,G,W,oe)}if(typeof W.then=="function")return bt(Q,G,Mc(W),oe);if(W.$$typeof===x)return bt(Q,G,yc(Q,W),oe);Oc(Q,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,G!==null&&G.tag===6?(o(Q,G.sibling),oe=v(G,W),oe.return=Q,Q=oe):(o(Q,G),oe=Zh(W,Q.mode,oe),oe.return=Q,Q=oe),P(Q)):o(Q,G)}return function(Q,G,W,oe){try{Dl=0;var we=bt(Q,G,W,oe);return io=null,we}catch(De){if(De===bl||De===_c)throw De;var Xe=Kn(29,De,null,Q.mode);return Xe.lanes=oe,Xe.return=Q,Xe}finally{}}}var so=Kv(!0),Yv=Kv(!1),_r=re(null),Wr=null;function is(r){var i=r.alternate;ce(Xt,Xt.current&1),ce(_r,r),Wr===null&&(i===null||eo.current!==null||i.memoizedState!==null)&&(Wr=r)}function Qv(r){if(r.tag===22){if(ce(Xt,Xt.current),ce(_r,r),Wr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Wr=r)}}else ss()}function ss(){ce(Xt,Xt.current),ce(_r,_r.current)}function Mi(r){me(_r),Wr===r&&(Wr=null),me(Xt)}var Xt=re(0);function Vc(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||bm(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Od(r,i,o,f){i=r.memoizedState,o=o(f,i),o=o==null?i:g({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Vd={enqueueSetState:function(r,i,o){r=r._reactInternals;var f=Zn(),v=ts(f);v.payload=i,o!=null&&(v.callback=o),i=ns(r,v,f),i!==null&&(Wn(i,r,f),Tl(i,r,f))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var f=Zn(),v=ts(f);v.tag=1,v.payload=i,o!=null&&(v.callback=o),i=ns(r,v,f),i!==null&&(Wn(i,r,f),Tl(i,r,f))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=Zn(),f=ts(o);f.tag=2,i!=null&&(f.callback=i),i=ns(r,f,o),i!==null&&(Wn(i,r,o),Tl(i,r,o))}};function Xv(r,i,o,f,v,w,P){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,w,P):i.prototype&&i.prototype.isPureReactComponent?!hl(o,f)||!hl(v,w):!0}function Zv(r,i,o,f){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,f),i.state!==r&&Vd.enqueueReplaceState(i,i.state,null)}function da(r,i){var o=i;if("ref"in i){o={};for(var f in i)f!=="ref"&&(o[f]=i[f])}if(r=r.defaultProps){o===i&&(o=g({},o));for(var v in r)o[v]===void 0&&(o[v]=r[v])}return o}var Ic=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Wv(r){Ic(r)}function Jv(r){console.error(r)}function e0(r){Ic(r)}function Nc(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(f){setTimeout(function(){throw f})}}function t0(r,i,o){try{var f=r.onCaughtError;f(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Id(r,i,o){return o=ts(o),o.tag=3,o.payload={element:null},o.callback=function(){Nc(r,i)},o}function n0(r){return r=ts(r),r.tag=3,r}function r0(r,i,o,f){var v=o.type.getDerivedStateFromError;if(typeof v=="function"){var w=f.value;r.payload=function(){return v(w)},r.callback=function(){t0(i,o,f)}}var P=o.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(r.callback=function(){t0(i,o,f),typeof v!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var j=f.stack;this.componentDidCatch(f.value,{componentStack:j!==null?j:""})})}function W2(r,i,o,f,v){if(o.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(i=o.alternate,i!==null&&yl(i,o,v,!0),o=_r.current,o!==null){switch(o.tag){case 13:return Wr===null?rm():o.alternate===null&&Nt===0&&(Nt=3),o.flags&=-257,o.flags|=65536,o.lanes=v,f===ld?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([f]):i.add(f),sm(r,f,v)),!1;case 22:return o.flags|=65536,f===ld?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([f])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([f]):o.add(f)),sm(r,f,v)),!1}throw Error(s(435,o.tag))}return sm(r,f,v),rm(),!1}if(ct)return i=_r.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=v,f!==td&&(r=Error(s(422),{cause:f}),gl(pr(r,o)))):(f!==td&&(i=Error(s(423),{cause:f}),gl(pr(i,o))),r=r.current.alternate,r.flags|=65536,v&=-v,r.lanes|=v,f=pr(f,o),v=Id(r.stateNode,f,v),fd(r,v),Nt!==4&&(Nt=2)),!1;var w=Error(s(520),{cause:f});if(w=pr(w,o),kl===null?kl=[w]:kl.push(w),Nt!==4&&(Nt=2),i===null)return!0;f=pr(f,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=v&-v,o.lanes|=r,r=Id(o.stateNode,f,r),fd(o,r),!1;case 1:if(i=o.type,w=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(fs===null||!fs.has(w))))return o.flags|=65536,v&=-v,o.lanes|=v,v=n0(v),r0(v,r,o,f),fd(o,v),!1}o=o.return}while(o!==null);return!1}var i0=Error(s(461)),nn=!1;function cn(r,i,o,f){i.child=r===null?Yv(i,null,o,f):so(i,r.child,o,f)}function s0(r,i,o,f,v){o=o.render;var w=i.ref;if("ref"in f){var P={};for(var j in f)j!=="ref"&&(P[j]=f[j])}else P=f;return ca(i),f=gd(r,i,o,P,w,v),j=yd(),r!==null&&!nn?(vd(r,i,v),Oi(r,i,v)):(ct&&j&&Jh(i),i.flags|=1,cn(r,i,f,v),i.child)}function a0(r,i,o,f,v){if(r===null){var w=o.type;return typeof w=="function"&&!Xh(w)&&w.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=w,o0(r,i,w,f,v)):(r=dc(o.type,null,f,i,i.mode,v),r.ref=i.ref,r.return=i,i.child=r)}if(w=r.child,!$d(r,v)){var P=w.memoizedProps;if(o=o.compare,o=o!==null?o:hl,o(P,f)&&r.ref===i.ref)return Oi(r,i,v)}return i.flags|=1,r=Si(w,f),r.ref=i.ref,r.return=i,i.child=r}function o0(r,i,o,f,v){if(r!==null){var w=r.memoizedProps;if(hl(w,f)&&r.ref===i.ref)if(nn=!1,i.pendingProps=f=w,$d(r,v))(r.flags&131072)!==0&&(nn=!0);else return i.lanes=r.lanes,Oi(r,i,v)}return Nd(r,i,o,f,v)}function l0(r,i,o){var f=i.pendingProps,v=f.children,w=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((i.flags&128)!==0){if(f=w!==null?w.baseLanes|o:o,r!==null){for(v=i.child=r.child,w=0;v!==null;)w=w|v.lanes|v.childLanes,v=v.sibling;i.childLanes=w&~f}else i.childLanes=0,i.child=null;return u0(r,i,f,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&vc(i,w!==null?w.cachePool:null),w!==null?ov(i,w):dd(),Qv(i);else return i.lanes=i.childLanes=536870912,u0(r,i,w!==null?w.baseLanes|o:o,o)}else w!==null?(vc(i,w.cachePool),ov(i,w),ss(),i.memoizedState=null):(r!==null&&vc(i,null),dd(),ss());return cn(r,i,v,o),i.child}function u0(r,i,o,f){var v=od();return v=v===null?null:{parent:Qt._currentValue,pool:v},i.memoizedState={baseLanes:o,cachePool:v},r!==null&&vc(i,null),dd(),Qv(i),r!==null&&yl(r,i,f,!0),null}function Pc(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function Nd(r,i,o,f,v){return ca(i),o=gd(r,i,o,f,void 0,v),f=yd(),r!==null&&!nn?(vd(r,i,v),Oi(r,i,v)):(ct&&f&&Jh(i),i.flags|=1,cn(r,i,o,v),i.child)}function c0(r,i,o,f,v,w){return ca(i),i.updateQueue=null,o=uv(i,f,o,v),lv(r),f=yd(),r!==null&&!nn?(vd(r,i,w),Oi(r,i,w)):(ct&&f&&Jh(i),i.flags|=1,cn(r,i,o,w),i.child)}function f0(r,i,o,f,v){if(ca(i),i.stateNode===null){var w=Qa,P=o.contextType;typeof P=="object"&&P!==null&&(w=bn(P)),w=new o(f,w),i.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Vd,i.stateNode=w,w._reactInternals=i,w=i.stateNode,w.props=f,w.state=i.memoizedState,w.refs={},ud(i),P=o.contextType,w.context=typeof P=="object"&&P!==null?bn(P):Qa,w.state=i.memoizedState,P=o.getDerivedStateFromProps,typeof P=="function"&&(Od(i,o,P,f),w.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(P=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),P!==w.state&&Vd.enqueueReplaceState(w,w.state,null),Sl(i,f,w,v),wl(),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308),f=!0}else if(r===null){w=i.stateNode;var j=i.memoizedProps,F=da(o,j);w.props=F;var ee=w.context,ae=o.contextType;P=Qa,typeof ae=="object"&&ae!==null&&(P=bn(ae));var ue=o.getDerivedStateFromProps;ae=typeof ue=="function"||typeof w.getSnapshotBeforeUpdate=="function",j=i.pendingProps!==j,ae||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(j||ee!==P)&&Zv(i,w,f,P),es=!1;var te=i.memoizedState;w.state=te,Sl(i,f,w,v),wl(),ee=i.memoizedState,j||te!==ee||es?(typeof ue=="function"&&(Od(i,o,ue,f),ee=i.memoizedState),(F=es||Xv(i,o,F,f,te,ee,P))?(ae||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=ee),w.props=f,w.state=ee,w.context=P,f=F):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{w=i.stateNode,cd(r,i),P=i.memoizedProps,ae=da(o,P),w.props=ae,ue=i.pendingProps,te=w.context,ee=o.contextType,F=Qa,typeof ee=="object"&&ee!==null&&(F=bn(ee)),j=o.getDerivedStateFromProps,(ee=typeof j=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==ue||te!==F)&&Zv(i,w,f,F),es=!1,te=i.memoizedState,w.state=te,Sl(i,f,w,v),wl();var ne=i.memoizedState;P!==ue||te!==ne||es||r!==null&&r.dependencies!==null&&gc(r.dependencies)?(typeof j=="function"&&(Od(i,o,j,f),ne=i.memoizedState),(ae=es||Xv(i,o,ae,f,te,ne,F)||r!==null&&r.dependencies!==null&&gc(r.dependencies))?(ee||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,ne,F),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,ne,F)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||P===r.memoizedProps&&te===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&te===r.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=ne),w.props=f,w.state=ne,w.context=F,f=ae):(typeof w.componentDidUpdate!="function"||P===r.memoizedProps&&te===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&te===r.memoizedState||(i.flags|=1024),f=!1)}return w=f,Pc(r,i),f=(i.flags&128)!==0,w||f?(w=i.stateNode,o=f&&typeof o.getDerivedStateFromError!="function"?null:w.render(),i.flags|=1,r!==null&&f?(i.child=so(i,r.child,null,v),i.child=so(i,null,o,v)):cn(r,i,o,v),i.memoizedState=w.state,r=i.child):r=Oi(r,i,v),r}function h0(r,i,o,f){return pl(),i.flags|=256,cn(r,i,o,f),i.child}var Pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ld(r){return{baseLanes:r,cachePool:Jy()}}function kd(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=br),r}function d0(r,i,o){var f=i.pendingProps,v=!1,w=(i.flags&128)!==0,P;if((P=w)||(P=r!==null&&r.memoizedState===null?!1:(Xt.current&2)!==0),P&&(v=!0,i.flags&=-129),P=(i.flags&32)!==0,i.flags&=-33,r===null){if(ct){if(v?is(i):ss(),ct){var j=It,F;if(F=j){e:{for(F=j,j=Zr;F.nodeType!==8;){if(!j){j=null;break e}if(F=Vr(F.nextSibling),F===null){j=null;break e}}j=F}j!==null?(i.memoizedState={dehydrated:j,treeContext:sa!==null?{id:Ai,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},F=Kn(18,null,null,0),F.stateNode=j,F.return=i,i.child=F,In=i,It=null,F=!0):F=!1}F||la(i)}if(j=i.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return bm(j)?i.lanes=32:i.lanes=536870912,null;Mi(i)}return j=f.children,f=f.fallback,v?(ss(),v=i.mode,j=Lc({mode:"hidden",children:j},v),f=ia(f,v,o,null),j.return=i,f.return=i,j.sibling=f,i.child=j,v=i.child,v.memoizedState=Ld(o),v.childLanes=kd(r,P,o),i.memoizedState=Pd,f):(is(i),jd(i,j))}if(F=r.memoizedState,F!==null&&(j=F.dehydrated,j!==null)){if(w)i.flags&256?(is(i),i.flags&=-257,i=Ud(r,i,o)):i.memoizedState!==null?(ss(),i.child=r.child,i.flags|=128,i=null):(ss(),v=f.fallback,j=i.mode,f=Lc({mode:"visible",children:f.children},j),v=ia(v,j,o,null),v.flags|=2,f.return=i,v.return=i,f.sibling=v,i.child=f,so(i,r.child,null,o),f=i.child,f.memoizedState=Ld(o),f.childLanes=kd(r,P,o),i.memoizedState=Pd,i=v);else if(is(i),bm(j)){if(P=j.nextSibling&&j.nextSibling.dataset,P)var ee=P.dgst;P=ee,f=Error(s(419)),f.stack="",f.digest=P,gl({value:f,source:null,stack:null}),i=Ud(r,i,o)}else if(nn||yl(r,i,o,!1),P=(o&r.childLanes)!==0,nn||P){if(P=St,P!==null&&(f=o&-o,f=(f&42)!==0?1:$r(f),f=(f&(P.suspendedLanes|o))!==0?0:f,f!==0&&f!==F.retryLane))throw F.retryLane=f,Ya(r,f),Wn(P,r,f),i0;j.data==="$?"||rm(),i=Ud(r,i,o)}else j.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=F.treeContext,It=Vr(j.nextSibling),In=i,ct=!0,oa=null,Zr=!1,r!==null&&(yr[vr++]=Ai,yr[vr++]=Ri,yr[vr++]=sa,Ai=r.id,Ri=r.overflow,sa=i),i=jd(i,f.children),i.flags|=4096);return i}return v?(ss(),v=f.fallback,j=i.mode,F=r.child,ee=F.sibling,f=Si(F,{mode:"hidden",children:f.children}),f.subtreeFlags=F.subtreeFlags&65011712,ee!==null?v=Si(ee,v):(v=ia(v,j,o,null),v.flags|=2),v.return=i,f.return=i,f.sibling=v,i.child=f,f=v,v=i.child,j=r.child.memoizedState,j===null?j=Ld(o):(F=j.cachePool,F!==null?(ee=Qt._currentValue,F=F.parent!==ee?{parent:ee,pool:ee}:F):F=Jy(),j={baseLanes:j.baseLanes|o,cachePool:F}),v.memoizedState=j,v.childLanes=kd(r,P,o),i.memoizedState=Pd,f):(is(i),o=r.child,r=o.sibling,o=Si(o,{mode:"visible",children:f.children}),o.return=i,o.sibling=null,r!==null&&(P=i.deletions,P===null?(i.deletions=[r],i.flags|=16):P.push(r)),i.child=o,i.memoizedState=null,o)}function jd(r,i){return i=Lc({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Lc(r,i){return r=Kn(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Ud(r,i,o){return so(i,r.child,null,o),r=jd(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function m0(r,i,o){r.lanes|=i;var f=r.alternate;f!==null&&(f.lanes|=i),rd(r.return,i,o)}function zd(r,i,o,f,v){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:o,tailMode:v}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=o,w.tailMode=v)}function p0(r,i,o){var f=i.pendingProps,v=f.revealOrder,w=f.tail;if(cn(r,i,f.children,o),f=Xt.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&m0(r,o,i);else if(r.tag===19)m0(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(ce(Xt,f),v){case"forwards":for(o=i.child,v=null;o!==null;)r=o.alternate,r!==null&&Vc(r)===null&&(v=o),o=o.sibling;o=v,o===null?(v=i.child,i.child=null):(v=o.sibling,o.sibling=null),zd(i,!1,v,o,w);break;case"backwards":for(o=null,v=i.child,i.child=null;v!==null;){if(r=v.alternate,r!==null&&Vc(r)===null){i.child=v;break}r=v.sibling,v.sibling=o,o=v,v=r}zd(i,!0,o,null,w);break;case"together":zd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Oi(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),cs|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(yl(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,o=Si(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=Si(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function $d(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&gc(r)))}function J2(r,i,o){switch(i.tag){case 3:gt(i,i.stateNode.containerInfo),Ji(i,Qt,r.memoizedState.cache),pl();break;case 27:case 5:At(i);break;case 4:gt(i,i.stateNode.containerInfo);break;case 10:Ji(i,i.type,i.memoizedProps.value);break;case 13:var f=i.memoizedState;if(f!==null)return f.dehydrated!==null?(is(i),i.flags|=128,null):(o&i.child.childLanes)!==0?d0(r,i,o):(is(i),r=Oi(r,i,o),r!==null?r.sibling:null);is(i);break;case 19:var v=(r.flags&128)!==0;if(f=(o&i.childLanes)!==0,f||(yl(r,i,o,!1),f=(o&i.childLanes)!==0),v){if(f)return p0(r,i,o);i.flags|=128}if(v=i.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ce(Xt,Xt.current),f)break;return null;case 22:case 23:return i.lanes=0,l0(r,i,o);case 24:Ji(i,Qt,r.memoizedState.cache)}return Oi(r,i,o)}function g0(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)nn=!0;else{if(!$d(r,o)&&(i.flags&128)===0)return nn=!1,J2(r,i,o);nn=(r.flags&131072)!==0}else nn=!1,ct&&(i.flags&1048576)!==0&&Gy(i,pc,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var f=i.elementType,v=f._init;if(f=v(f._payload),i.type=f,typeof f=="function")Xh(f)?(r=da(f,r),i.tag=1,i=f0(null,i,f,r,o)):(i.tag=0,i=Nd(null,i,f,r,o));else{if(f!=null){if(v=f.$$typeof,v===I){i.tag=11,i=s0(null,i,f,r,o);break e}else if(v===O){i.tag=14,i=a0(null,i,f,r,o);break e}}throw i=he(f)||f,Error(s(306,i,""))}}return i;case 0:return Nd(r,i,i.type,i.pendingProps,o);case 1:return f=i.type,v=da(f,i.pendingProps),f0(r,i,f,v,o);case 3:e:{if(gt(i,i.stateNode.containerInfo),r===null)throw Error(s(387));f=i.pendingProps;var w=i.memoizedState;v=w.element,cd(r,i),Sl(i,f,null,o);var P=i.memoizedState;if(f=P.cache,Ji(i,Qt,f),f!==w.cache&&id(i,[Qt],o,!0),wl(),f=P.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:P.cache},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){i=h0(r,i,f,o);break e}else if(f!==v){v=pr(Error(s(424)),i),gl(v),i=h0(r,i,f,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(It=Vr(r.firstChild),In=i,ct=!0,oa=null,Zr=!0,o=Yv(i,null,f,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(pl(),f===v){i=Oi(r,i,o);break e}cn(r,i,f,o)}i=i.child}return i;case 26:return Pc(r,i),r===null?(o=b_(i.type,null,i.pendingProps,null))?i.memoizedState=o:ct||(o=i.type,r=i.pendingProps,f=Xc(xe.current).createElement(o),f[le]=i,f[ye]=r,hn(f,o,r),tt(f),i.stateNode=f):i.memoizedState=b_(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return At(i),r===null&&ct&&(f=i.stateNode=y_(i.type,i.pendingProps,xe.current),In=i,Zr=!0,v=It,ms(i.type)?(Em=v,It=Vr(f.firstChild)):It=v),cn(r,i,i.pendingProps.children,o),Pc(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&ct&&((v=f=It)&&(f=xA(f,i.type,i.pendingProps,Zr),f!==null?(i.stateNode=f,In=i,It=Vr(f.firstChild),Zr=!1,v=!0):v=!1),v||la(i)),At(i),v=i.type,w=i.pendingProps,P=r!==null?r.memoizedProps:null,f=w.children,ym(v,w)?f=null:P!==null&&ym(v,P)&&(i.flags|=32),i.memoizedState!==null&&(v=gd(r,i,H2,null,null,o),Gl._currentValue=v),Pc(r,i),cn(r,i,f,o),i.child;case 6:return r===null&&ct&&((r=o=It)&&(o=CA(o,i.pendingProps,Zr),o!==null?(i.stateNode=o,In=i,It=null,r=!0):r=!1),r||la(i)),null;case 13:return d0(r,i,o);case 4:return gt(i,i.stateNode.containerInfo),f=i.pendingProps,r===null?i.child=so(i,null,f,o):cn(r,i,f,o),i.child;case 11:return s0(r,i,i.type,i.pendingProps,o);case 7:return cn(r,i,i.pendingProps,o),i.child;case 8:return cn(r,i,i.pendingProps.children,o),i.child;case 12:return cn(r,i,i.pendingProps.children,o),i.child;case 10:return f=i.pendingProps,Ji(i,i.type,f.value),cn(r,i,f.children,o),i.child;case 9:return v=i.type._context,f=i.pendingProps.children,ca(i),v=bn(v),f=f(v),i.flags|=1,cn(r,i,f,o),i.child;case 14:return a0(r,i,i.type,i.pendingProps,o);case 15:return o0(r,i,i.type,i.pendingProps,o);case 19:return p0(r,i,o);case 31:return f=i.pendingProps,o=i.mode,f={mode:f.mode,children:f.children},r===null?(o=Lc(f,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=Si(r.child,f),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return l0(r,i,o);case 24:return ca(i),f=bn(Qt),r===null?(v=od(),v===null&&(v=St,w=sd(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=o),v=w),i.memoizedState={parent:f,cache:v},ud(i),Ji(i,Qt,v)):((r.lanes&o)!==0&&(cd(r,i),Sl(i,null,null,o),wl()),v=r.memoizedState,w=i.memoizedState,v.parent!==f?(v={parent:f,cache:f},i.memoizedState=v,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=v),Ji(i,Qt,f)):(f=w.cache,Ji(i,Qt,f),f!==v.cache&&id(i,[Qt],o,!0))),cn(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Vi(r){r.flags|=4}function y0(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!A_(i)){if(i=_r.current,i!==null&&((it&4194048)===it?Wr!==null:(it&62914560)!==it&&(it&536870912)===0||i!==Wr))throw El=ld,ev;r.flags|=8192}}function kc(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?qs():536870912,r.lanes|=i,uo|=i)}function Ol(r,i){if(!ct)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Ct(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,f=0;if(i)for(var v=r.child;v!==null;)o|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)o|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=f,r.childLanes=o,i}function eA(r,i,o){var f=i.pendingProps;switch(ed(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(i),null;case 1:return Ct(i),null;case 3:return o=i.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),i.memoizedState.cache!==f&&(i.flags|=2048),Ci(Qt),ir(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(ml(i)?Vi(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Qy())),Ct(i),null;case 26:return o=i.memoizedState,r===null?(Vi(i),o!==null?(Ct(i),y0(i,o)):(Ct(i),i.flags&=-16777217)):o?o!==r.memoizedState?(Vi(i),Ct(i),y0(i,o)):(Ct(i),i.flags&=-16777217):(r.memoizedProps!==f&&Vi(i),Ct(i),i.flags&=-16777217),null;case 27:yn(i),o=xe.current;var v=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==f&&Vi(i);else{if(!f){if(i.stateNode===null)throw Error(s(166));return Ct(i),null}r=_e.current,ml(i)?Ky(i):(r=y_(v,f,o),i.stateNode=r,Vi(i))}return Ct(i),null;case 5:if(yn(i),o=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==f&&Vi(i);else{if(!f){if(i.stateNode===null)throw Error(s(166));return Ct(i),null}if(r=_e.current,ml(i))Ky(i);else{switch(v=Xc(xe.current),r){case 1:r=v.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=v.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=v.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=v.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=v.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?v.createElement("select",{is:f.is}):v.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?v.createElement(o,{is:f.is}):v.createElement(o)}}r[le]=i,r[ye]=f;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)r.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=r;e:switch(hn(r,o,f),o){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Vi(i)}}return Ct(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==f&&Vi(i);else{if(typeof f!="string"&&i.stateNode===null)throw Error(s(166));if(r=xe.current,ml(i)){if(r=i.stateNode,o=i.memoizedProps,f=null,v=In,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}r[le]=i,r=!!(r.nodeValue===o||f!==null&&f.suppressHydrationWarning===!0||c_(r.nodeValue,o)),r||la(i)}else r=Xc(r).createTextNode(f),r[le]=i,i.stateNode=r}return Ct(i),null;case 13:if(f=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(v=ml(i),f!==null&&f.dehydrated!==null){if(r===null){if(!v)throw Error(s(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(s(317));v[le]=i}else pl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ct(i),v=!1}else v=Qy(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=v),v=!0;if(!v)return i.flags&256?(Mi(i),i):(Mi(i),null)}if(Mi(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=f!==null,r=r!==null&&r.memoizedState!==null,o){f=i.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool);var w=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==v&&(f.flags|=2048)}return o!==r&&o&&(i.child.flags|=8192),kc(i,i.updateQueue),Ct(i),null;case 4:return ir(),r===null&&hm(i.stateNode.containerInfo),Ct(i),null;case 10:return Ci(i.type),Ct(i),null;case 19:if(me(Xt),v=i.memoizedState,v===null)return Ct(i),null;if(f=(i.flags&128)!==0,w=v.rendering,w===null)if(f)Ol(v,!1);else{if(Nt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(w=Vc(r),w!==null){for(i.flags|=128,Ol(v,!1),r=w.updateQueue,i.updateQueue=r,kc(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)Hy(o,r),o=o.sibling;return ce(Xt,Xt.current&1|2),i.child}r=r.sibling}v.tail!==null&&Cn()>zc&&(i.flags|=128,f=!0,Ol(v,!1),i.lanes=4194304)}else{if(!f)if(r=Vc(w),r!==null){if(i.flags|=128,f=!0,r=r.updateQueue,i.updateQueue=r,kc(i,r),Ol(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!ct)return Ct(i),null}else 2*Cn()-v.renderingStartTime>zc&&o!==536870912&&(i.flags|=128,f=!0,Ol(v,!1),i.lanes=4194304);v.isBackwards?(w.sibling=i.child,i.child=w):(r=v.last,r!==null?r.sibling=w:i.child=w,v.last=w)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=Cn(),i.sibling=null,r=Xt.current,ce(Xt,f?r&1|2:r&1),i):(Ct(i),null);case 22:case 23:return Mi(i),md(),f=i.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(i.flags|=8192):f&&(i.flags|=8192),f?(o&536870912)!==0&&(i.flags&128)===0&&(Ct(i),i.subtreeFlags&6&&(i.flags|=8192)):Ct(i),o=i.updateQueue,o!==null&&kc(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==o&&(i.flags|=2048),r!==null&&me(fa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ci(Qt),Ct(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function tA(r,i){switch(ed(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ci(Qt),ir(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return yn(i),null;case 13:if(Mi(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));pl()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return me(Xt),null;case 4:return ir(),null;case 10:return Ci(i.type),null;case 22:case 23:return Mi(i),md(),r!==null&&me(fa),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Ci(Qt),null;case 25:return null;default:return null}}function v0(r,i){switch(ed(i),i.tag){case 3:Ci(Qt),ir();break;case 26:case 27:case 5:yn(i);break;case 4:ir();break;case 13:Mi(i);break;case 19:me(Xt);break;case 10:Ci(i.type);break;case 22:case 23:Mi(i),md(),r!==null&&me(fa);break;case 24:Ci(Qt)}}function Vl(r,i){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var v=f.next;o=v;do{if((o.tag&r)===r){f=void 0;var w=o.create,P=o.inst;f=w(),P.destroy=f}o=o.next}while(o!==v)}}catch(j){Tt(i,i.return,j)}}function as(r,i,o){try{var f=i.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var w=v.next;f=w;do{if((f.tag&r)===r){var P=f.inst,j=P.destroy;if(j!==void 0){P.destroy=void 0,v=i;var F=o,ee=j;try{ee()}catch(ae){Tt(v,F,ae)}}}f=f.next}while(f!==w)}}catch(ae){Tt(i,i.return,ae)}}function _0(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{av(i,o)}catch(f){Tt(r,r.return,f)}}}function b0(r,i,o){o.props=da(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(f){Tt(r,i,f)}}function Il(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof o=="function"?r.refCleanup=o(f):o.current=f}}catch(v){Tt(r,i,v)}}function Jr(r,i){var o=r.ref,f=r.refCleanup;if(o!==null)if(typeof f=="function")try{f()}catch(v){Tt(r,i,v)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(v){Tt(r,i,v)}else o.current=null}function E0(r){var i=r.type,o=r.memoizedProps,f=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&f.focus();break e;case"img":o.src?f.src=o.src:o.srcSet&&(f.srcset=o.srcSet)}}catch(v){Tt(r,r.return,v)}}function Bd(r,i,o){try{var f=r.stateNode;TA(f,r.type,o,i),f[ye]=i}catch(v){Tt(r,r.return,v)}}function T0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ms(r.type)||r.tag===4}function Fd(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||T0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ms(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function qd(r,i,o){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Qc));else if(f!==4&&(f===27&&ms(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(qd(r,i,o),r=r.sibling;r!==null;)qd(r,i,o),r=r.sibling}function jc(r,i,o){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(f!==4&&(f===27&&ms(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(jc(r,i,o),r=r.sibling;r!==null;)jc(r,i,o),r=r.sibling}function w0(r){var i=r.stateNode,o=r.memoizedProps;try{for(var f=r.type,v=i.attributes;v.length;)i.removeAttributeNode(v[0]);hn(i,f,o),i[le]=r,i[ye]=o}catch(w){Tt(r,r.return,w)}}var Ii=!1,kt=!1,Hd=!1,S0=typeof WeakSet=="function"?WeakSet:Set,rn=null;function nA(r,i){if(r=r.containerInfo,pm=nf,r=Py(r),Fh(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var f=o.getSelection&&o.getSelection();if(f&&f.rangeCount!==0){o=f.anchorNode;var v=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{o.nodeType,w.nodeType}catch{o=null;break e}var P=0,j=-1,F=-1,ee=0,ae=0,ue=r,te=null;t:for(;;){for(var ne;ue!==o||v!==0&&ue.nodeType!==3||(j=P+v),ue!==w||f!==0&&ue.nodeType!==3||(F=P+f),ue.nodeType===3&&(P+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)te=ue,ue=ne;for(;;){if(ue===r)break t;if(te===o&&++ee===v&&(j=P),te===w&&++ae===f&&(F=P),(ne=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=ne}o=j===-1||F===-1?null:{start:j,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(gm={focusedElem:r,selectionRange:o},nf=!1,rn=i;rn!==null;)if(i=rn,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,rn=r;else for(;rn!==null;){switch(i=rn,w=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&w!==null){r=void 0,o=i,v=w.memoizedProps,w=w.memoizedState,f=o.stateNode;try{var Ue=da(o.type,v,o.elementType===o.type);r=f.getSnapshotBeforeUpdate(Ue,w),f.__reactInternalSnapshotBeforeUpdate=r}catch(Ne){Tt(o,o.return,Ne)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)_m(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":_m(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,rn=r;break}rn=i.return}}function A0(r,i,o){var f=o.flags;switch(o.tag){case 0:case 11:case 15:os(r,o),f&4&&Vl(5,o);break;case 1:if(os(r,o),f&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(P){Tt(o,o.return,P)}else{var v=da(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(v,i,r.__reactInternalSnapshotBeforeUpdate)}catch(P){Tt(o,o.return,P)}}f&64&&_0(o),f&512&&Il(o,o.return);break;case 3:if(os(r,o),f&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{av(r,i)}catch(P){Tt(o,o.return,P)}}break;case 27:i===null&&f&4&&w0(o);case 26:case 5:os(r,o),i===null&&f&4&&E0(o),f&512&&Il(o,o.return);break;case 12:os(r,o);break;case 13:os(r,o),f&4&&C0(r,o),f&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=fA.bind(null,o),DA(r,o))));break;case 22:if(f=o.memoizedState!==null||Ii,!f){i=i!==null&&i.memoizedState!==null||kt,v=Ii;var w=kt;Ii=f,(kt=i)&&!w?ls(r,o,(o.subtreeFlags&8772)!==0):os(r,o),Ii=v,kt=w}break;case 30:break;default:os(r,o)}}function R0(r){var i=r.alternate;i!==null&&(r.alternate=null,R0(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Re(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Rt=null,kn=!1;function Ni(r,i,o){for(o=o.child;o!==null;)x0(r,i,o),o=o.sibling}function x0(r,i,o){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(ut,o)}catch{}switch(o.tag){case 26:kt||Jr(o,i),Ni(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:kt||Jr(o,i);var f=Rt,v=kn;ms(o.type)&&(Rt=o.stateNode,kn=!1),Ni(r,i,o),Bl(o.stateNode),Rt=f,kn=v;break;case 5:kt||Jr(o,i);case 6:if(f=Rt,v=kn,Rt=null,Ni(r,i,o),Rt=f,kn=v,Rt!==null)if(kn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(o.stateNode)}catch(w){Tt(o,i,w)}else try{Rt.removeChild(o.stateNode)}catch(w){Tt(o,i,w)}break;case 18:Rt!==null&&(kn?(r=Rt,p_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Xl(r)):p_(Rt,o.stateNode));break;case 4:f=Rt,v=kn,Rt=o.stateNode.containerInfo,kn=!0,Ni(r,i,o),Rt=f,kn=v;break;case 0:case 11:case 14:case 15:kt||as(2,o,i),kt||as(4,o,i),Ni(r,i,o);break;case 1:kt||(Jr(o,i),f=o.stateNode,typeof f.componentWillUnmount=="function"&&b0(o,i,f)),Ni(r,i,o);break;case 21:Ni(r,i,o);break;case 22:kt=(f=kt)||o.memoizedState!==null,Ni(r,i,o),kt=f;break;default:Ni(r,i,o)}}function C0(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Xl(r)}catch(o){Tt(i,i.return,o)}}function rA(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new S0),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new S0),i;default:throw Error(s(435,r.tag))}}function Gd(r,i){var o=rA(r);i.forEach(function(f){var v=hA.bind(null,r,f);o.has(f)||(o.add(f),f.then(v,v))})}function Yn(r,i){var o=i.deletions;if(o!==null)for(var f=0;f<o.length;f++){var v=o[f],w=r,P=i,j=P;e:for(;j!==null;){switch(j.tag){case 27:if(ms(j.type)){Rt=j.stateNode,kn=!1;break e}break;case 5:Rt=j.stateNode,kn=!1;break e;case 3:case 4:Rt=j.stateNode.containerInfo,kn=!0;break e}j=j.return}if(Rt===null)throw Error(s(160));x0(w,P,v),Rt=null,kn=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)D0(i,r),i=i.sibling}var Or=null;function D0(r,i){var o=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Yn(i,r),Qn(r),f&4&&(as(3,r,r.return),Vl(3,r),as(5,r,r.return));break;case 1:Yn(i,r),Qn(r),f&512&&(kt||o===null||Jr(o,o.return)),f&64&&Ii&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?f:o.concat(f))));break;case 26:var v=Or;if(Yn(i,r),Qn(r),f&512&&(kt||o===null||Jr(o,o.return)),f&4){var w=o!==null?o.memoizedState:null;if(f=r.memoizedState,o===null)if(f===null)if(r.stateNode===null){e:{f=r.type,o=r.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":w=v.getElementsByTagName("title")[0],(!w||w[Ie]||w[le]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(f),v.head.insertBefore(w,v.querySelector("head > title"))),hn(w,f,o),w[le]=r,tt(w),f=w;break e;case"link":var P=w_("link","href",v).get(f+(o.href||""));if(P){for(var j=0;j<P.length;j++)if(w=P[j],w.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&w.getAttribute("rel")===(o.rel==null?null:o.rel)&&w.getAttribute("title")===(o.title==null?null:o.title)&&w.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){P.splice(j,1);break t}}w=v.createElement(f),hn(w,f,o),v.head.appendChild(w);break;case"meta":if(P=w_("meta","content",v).get(f+(o.content||""))){for(j=0;j<P.length;j++)if(w=P[j],w.getAttribute("content")===(o.content==null?null:""+o.content)&&w.getAttribute("name")===(o.name==null?null:o.name)&&w.getAttribute("property")===(o.property==null?null:o.property)&&w.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&w.getAttribute("charset")===(o.charSet==null?null:o.charSet)){P.splice(j,1);break t}}w=v.createElement(f),hn(w,f,o),v.head.appendChild(w);break;default:throw Error(s(468,f))}w[le]=r,tt(w),f=w}r.stateNode=f}else S_(v,r.type,r.stateNode);else r.stateNode=T_(v,f,r.memoizedProps);else w!==f?(w===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):w.count--,f===null?S_(v,r.type,r.stateNode):T_(v,f,r.memoizedProps)):f===null&&r.stateNode!==null&&Bd(r,r.memoizedProps,o.memoizedProps)}break;case 27:Yn(i,r),Qn(r),f&512&&(kt||o===null||Jr(o,o.return)),o!==null&&f&4&&Bd(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Yn(i,r),Qn(r),f&512&&(kt||o===null||Jr(o,o.return)),r.flags&32){v=r.stateNode;try{fr(v,"")}catch(ne){Tt(r,r.return,ne)}}f&4&&r.stateNode!=null&&(v=r.memoizedProps,Bd(r,v,o!==null?o.memoizedProps:v)),f&1024&&(Hd=!0);break;case 6:if(Yn(i,r),Qn(r),f&4){if(r.stateNode===null)throw Error(s(162));f=r.memoizedProps,o=r.stateNode;try{o.nodeValue=f}catch(ne){Tt(r,r.return,ne)}}break;case 3:if(Jc=null,v=Or,Or=Zc(i.containerInfo),Yn(i,r),Or=v,Qn(r),f&4&&o!==null&&o.memoizedState.isDehydrated)try{Xl(i.containerInfo)}catch(ne){Tt(r,r.return,ne)}Hd&&(Hd=!1,M0(r));break;case 4:f=Or,Or=Zc(r.stateNode.containerInfo),Yn(i,r),Qn(r),Or=f;break;case 12:Yn(i,r),Qn(r);break;case 13:Yn(i,r),Qn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Wd=Cn()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Gd(r,f)));break;case 22:v=r.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,ee=Ii,ae=kt;if(Ii=ee||v,kt=ae||F,Yn(i,r),kt=ae,Ii=ee,Qn(r),f&8192)e:for(i=r.stateNode,i._visibility=v?i._visibility&-2:i._visibility|1,v&&(o===null||F||Ii||kt||ma(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){F=o=i;try{if(w=F.stateNode,v)P=w.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{j=F.stateNode;var ue=F.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;j.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){Tt(F,F.return,ne)}}}else if(i.tag===6){if(o===null){F=i;try{F.stateNode.nodeValue=v?"":F.memoizedProps}catch(ne){Tt(F,F.return,ne)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}f&4&&(f=r.updateQueue,f!==null&&(o=f.retryQueue,o!==null&&(f.retryQueue=null,Gd(r,o))));break;case 19:Yn(i,r),Qn(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Gd(r,f)));break;case 30:break;case 21:break;default:Yn(i,r),Qn(r)}}function Qn(r){var i=r.flags;if(i&2){try{for(var o,f=r.return;f!==null;){if(T0(f)){o=f;break}f=f.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var v=o.stateNode,w=Fd(r);jc(r,w,v);break;case 5:var P=o.stateNode;o.flags&32&&(fr(P,""),o.flags&=-33);var j=Fd(r);jc(r,j,P);break;case 3:case 4:var F=o.stateNode.containerInfo,ee=Fd(r);qd(r,ee,F);break;default:throw Error(s(161))}}catch(ae){Tt(r,r.return,ae)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function M0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;M0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function os(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)A0(r,i.alternate,i),i=i.sibling}function ma(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:as(4,i,i.return),ma(i);break;case 1:Jr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&b0(i,i.return,o),ma(i);break;case 27:Bl(i.stateNode);case 26:case 5:Jr(i,i.return),ma(i);break;case 22:i.memoizedState===null&&ma(i);break;case 30:ma(i);break;default:ma(i)}r=r.sibling}}function ls(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var f=i.alternate,v=r,w=i,P=w.flags;switch(w.tag){case 0:case 11:case 15:ls(v,w,o),Vl(4,w);break;case 1:if(ls(v,w,o),f=w,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ee){Tt(f,f.return,ee)}if(f=w,v=f.updateQueue,v!==null){var j=f.stateNode;try{var F=v.shared.hiddenCallbacks;if(F!==null)for(v.shared.hiddenCallbacks=null,v=0;v<F.length;v++)sv(F[v],j)}catch(ee){Tt(f,f.return,ee)}}o&&P&64&&_0(w),Il(w,w.return);break;case 27:w0(w);case 26:case 5:ls(v,w,o),o&&f===null&&P&4&&E0(w),Il(w,w.return);break;case 12:ls(v,w,o);break;case 13:ls(v,w,o),o&&P&4&&C0(v,w);break;case 22:w.memoizedState===null&&ls(v,w,o),Il(w,w.return);break;case 30:break;default:ls(v,w,o)}i=i.sibling}}function Kd(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&vl(o))}function Yd(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&vl(r))}function ei(r,i,o,f){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)O0(r,i,o,f),i=i.sibling}function O0(r,i,o,f){var v=i.flags;switch(i.tag){case 0:case 11:case 15:ei(r,i,o,f),v&2048&&Vl(9,i);break;case 1:ei(r,i,o,f);break;case 3:ei(r,i,o,f),v&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&vl(r)));break;case 12:if(v&2048){ei(r,i,o,f),r=i.stateNode;try{var w=i.memoizedProps,P=w.id,j=w.onPostCommit;typeof j=="function"&&j(P,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(F){Tt(i,i.return,F)}}else ei(r,i,o,f);break;case 13:ei(r,i,o,f);break;case 23:break;case 22:w=i.stateNode,P=i.alternate,i.memoizedState!==null?w._visibility&2?ei(r,i,o,f):Nl(r,i):w._visibility&2?ei(r,i,o,f):(w._visibility|=2,ao(r,i,o,f,(i.subtreeFlags&10256)!==0)),v&2048&&Kd(P,i);break;case 24:ei(r,i,o,f),v&2048&&Yd(i.alternate,i);break;default:ei(r,i,o,f)}}function ao(r,i,o,f,v){for(v=v&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var w=r,P=i,j=o,F=f,ee=P.flags;switch(P.tag){case 0:case 11:case 15:ao(w,P,j,F,v),Vl(8,P);break;case 23:break;case 22:var ae=P.stateNode;P.memoizedState!==null?ae._visibility&2?ao(w,P,j,F,v):Nl(w,P):(ae._visibility|=2,ao(w,P,j,F,v)),v&&ee&2048&&Kd(P.alternate,P);break;case 24:ao(w,P,j,F,v),v&&ee&2048&&Yd(P.alternate,P);break;default:ao(w,P,j,F,v)}i=i.sibling}}function Nl(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,f=i,v=f.flags;switch(f.tag){case 22:Nl(o,f),v&2048&&Kd(f.alternate,f);break;case 24:Nl(o,f),v&2048&&Yd(f.alternate,f);break;default:Nl(o,f)}i=i.sibling}}var Pl=8192;function oo(r){if(r.subtreeFlags&Pl)for(r=r.child;r!==null;)V0(r),r=r.sibling}function V0(r){switch(r.tag){case 26:oo(r),r.flags&Pl&&r.memoizedState!==null&&BA(Or,r.memoizedState,r.memoizedProps);break;case 5:oo(r);break;case 3:case 4:var i=Or;Or=Zc(r.stateNode.containerInfo),oo(r),Or=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Pl,Pl=16777216,oo(r),Pl=i):oo(r));break;default:oo(r)}}function I0(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Ll(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var f=i[o];rn=f,P0(f,r)}I0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)N0(r),r=r.sibling}function N0(r){switch(r.tag){case 0:case 11:case 15:Ll(r),r.flags&2048&&as(9,r,r.return);break;case 3:Ll(r);break;case 12:Ll(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Uc(r)):Ll(r);break;default:Ll(r)}}function Uc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var f=i[o];rn=f,P0(f,r)}I0(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:as(8,i,i.return),Uc(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Uc(i));break;default:Uc(i)}r=r.sibling}}function P0(r,i){for(;rn!==null;){var o=rn;switch(o.tag){case 0:case 11:case 15:as(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var f=o.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:vl(o.memoizedState.cache)}if(f=o.child,f!==null)f.return=o,rn=f;else e:for(o=r;rn!==null;){f=rn;var v=f.sibling,w=f.return;if(R0(f),f===o){rn=null;break e}if(v!==null){v.return=w,rn=v;break e}rn=w}}}var iA={getCacheForType:function(r){var i=bn(Qt),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o}},sA=typeof WeakMap=="function"?WeakMap:Map,mt=0,St=null,We=null,it=0,pt=0,Xn=null,us=!1,lo=!1,Qd=!1,Pi=0,Nt=0,cs=0,pa=0,Xd=0,br=0,uo=0,kl=null,jn=null,Zd=!1,Wd=0,zc=1/0,$c=null,fs=null,fn=0,hs=null,co=null,fo=0,Jd=0,em=null,L0=null,jl=0,tm=null;function Zn(){if((mt&2)!==0&&it!==0)return it&-it;if(K.T!==null){var r=Wa;return r!==0?r:lm()}return q()}function k0(){br===0&&(br=(it&536870912)===0||ct?pi():536870912);var r=_r.current;return r!==null&&(r.flags|=32),br}function Wn(r,i,o){(r===St&&(pt===2||pt===9)||r.cancelPendingCommit!==null)&&(ho(r,0),ds(r,it,br,!1)),Cr(r,o),((mt&2)===0||r!==St)&&(r===St&&((mt&2)===0&&(pa|=o),Nt===4&&ds(r,it,br,!1)),ti(r))}function j0(r,i,o){if((mt&6)!==0)throw Error(s(327));var f=!o&&(i&124)===0&&(i&r.expiredLanes)===0||or(r,i),v=f?lA(r,i):im(r,i,!0),w=f;do{if(v===0){lo&&!f&&ds(r,i,0,!1);break}else{if(o=r.current.alternate,w&&!aA(o)){v=im(r,i,!1),w=!1;continue}if(v===2){if(w=i,r.errorRecoveryDisabledLanes&w)var P=0;else P=r.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){i=P;e:{var j=r;v=kl;var F=j.current.memoizedState.isDehydrated;if(F&&(ho(j,P).flags|=256),P=im(j,P,!1),P!==2){if(Qd&&!F){j.errorRecoveryDisabledLanes|=w,pa|=w,v=4;break e}w=jn,jn=v,w!==null&&(jn===null?jn=w:jn.push.apply(jn,w))}v=P}if(w=!1,v!==2)continue}}if(v===1){ho(r,0),ds(r,i,0,!0);break}e:{switch(f=r,w=v,w){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ds(f,i,br,!us);break e;case 2:jn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(v=Wd+300-Cn(),10<v)){if(ds(f,i,br,!us),mi(f,0,!0)!==0)break e;f.timeoutHandle=d_(U0.bind(null,f,o,jn,$c,Zd,i,br,pa,uo,us,w,2,-0,0),v);break e}U0(f,o,jn,$c,Zd,i,br,pa,uo,us,w,0,-0,0)}}break}while(!0);ti(r)}function U0(r,i,o,f,v,w,P,j,F,ee,ae,ue,te,ne){if(r.timeoutHandle=-1,ue=i.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Hl={stylesheets:null,count:0,unsuspend:$A},V0(i),ue=FA(),ue!==null)){r.cancelPendingCommit=ue(G0.bind(null,r,i,w,o,f,v,P,j,F,ae,1,te,ne)),ds(r,w,P,!ee);return}G0(r,i,w,o,f,v,P,j,F)}function aA(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var f=0;f<o.length;f++){var v=o[f],w=v.getSnapshot;v=v.value;try{if(!Gn(w(),v))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ds(r,i,o,f){i&=~Xd,i&=~pa,r.suspendedLanes|=i,r.pingedLanes&=~i,f&&(r.warmLanes|=i),f=r.expirationTimes;for(var v=i;0<v;){var w=31-zt(v),P=1<<w;f[w]=-1,v&=~P}o!==0&&Dn(r,o,i)}function Bc(){return(mt&6)===0?(Ul(0),!1):!0}function nm(){if(We!==null){if(pt===0)var r=We.return;else r=We,xi=ua=null,_d(r),io=null,Dl=0,r=We;for(;r!==null;)v0(r.alternate,r),r=r.return;We=null}}function ho(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,SA(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),nm(),St=r,We=o=Si(r.current,null),it=i,pt=0,Xn=null,us=!1,lo=or(r,i),Qd=!1,uo=br=Xd=pa=cs=Nt=0,jn=kl=null,Zd=!1,(i&8)!==0&&(i|=i&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=i;0<f;){var v=31-zt(f),w=1<<v;i|=r[v],f&=~w}return Pi=i,cc(),o}function z0(r,i){Ge=null,K.H=Dc,i===bl||i===_c?(i=rv(),pt=3):i===ev?(i=rv(),pt=4):pt=i===i0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Xn=i,We===null&&(Nt=1,Nc(r,pr(i,r.current)))}function $0(){var r=K.H;return K.H=Dc,r===null?Dc:r}function B0(){var r=K.A;return K.A=iA,r}function rm(){Nt=4,us||(it&4194048)!==it&&_r.current!==null||(lo=!0),(cs&134217727)===0&&(pa&134217727)===0||St===null||ds(St,it,br,!1)}function im(r,i,o){var f=mt;mt|=2;var v=$0(),w=B0();(St!==r||it!==i)&&($c=null,ho(r,i)),i=!1;var P=Nt;e:do try{if(pt!==0&&We!==null){var j=We,F=Xn;switch(pt){case 8:nm(),P=6;break e;case 3:case 2:case 9:case 6:_r.current===null&&(i=!0);var ee=pt;if(pt=0,Xn=null,mo(r,j,F,ee),o&&lo){P=0;break e}break;default:ee=pt,pt=0,Xn=null,mo(r,j,F,ee)}}oA(),P=Nt;break}catch(ae){z0(r,ae)}while(!0);return i&&r.shellSuspendCounter++,xi=ua=null,mt=f,K.H=v,K.A=w,We===null&&(St=null,it=0,cc()),P}function oA(){for(;We!==null;)F0(We)}function lA(r,i){var o=mt;mt|=2;var f=$0(),v=B0();St!==r||it!==i?($c=null,zc=Cn()+500,ho(r,i)):lo=or(r,i);e:do try{if(pt!==0&&We!==null){i=We;var w=Xn;t:switch(pt){case 1:pt=0,Xn=null,mo(r,i,w,1);break;case 2:case 9:if(tv(w)){pt=0,Xn=null,q0(i);break}i=function(){pt!==2&&pt!==9||St!==r||(pt=7),ti(r)},w.then(i,i);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:tv(w)?(pt=0,Xn=null,q0(i)):(pt=0,Xn=null,mo(r,i,w,7));break;case 5:var P=null;switch(We.tag){case 26:P=We.memoizedState;case 5:case 27:var j=We;if(!P||A_(P)){pt=0,Xn=null;var F=j.sibling;if(F!==null)We=F;else{var ee=j.return;ee!==null?(We=ee,Fc(ee)):We=null}break t}}pt=0,Xn=null,mo(r,i,w,5);break;case 6:pt=0,Xn=null,mo(r,i,w,6);break;case 8:nm(),Nt=6;break e;default:throw Error(s(462))}}uA();break}catch(ae){z0(r,ae)}while(!0);return xi=ua=null,K.H=f,K.A=v,mt=o,We!==null?0:(St=null,it=0,cc(),Nt)}function uA(){for(;We!==null&&!Bs();)F0(We)}function F0(r){var i=g0(r.alternate,r,Pi);r.memoizedProps=r.pendingProps,i===null?Fc(r):We=i}function q0(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=c0(o,i,i.pendingProps,i.type,void 0,it);break;case 11:i=c0(o,i,i.pendingProps,i.type.render,i.ref,it);break;case 5:_d(i);default:v0(o,i),i=We=Hy(i,Pi),i=g0(o,i,Pi)}r.memoizedProps=r.pendingProps,i===null?Fc(r):We=i}function mo(r,i,o,f){xi=ua=null,_d(i),io=null,Dl=0;var v=i.return;try{if(W2(r,v,i,o,it)){Nt=1,Nc(r,pr(o,r.current)),We=null;return}}catch(w){if(v!==null)throw We=v,w;Nt=1,Nc(r,pr(o,r.current)),We=null;return}i.flags&32768?(ct||f===1?r=!0:lo||(it&536870912)!==0?r=!1:(us=r=!0,(f===2||f===9||f===3||f===6)&&(f=_r.current,f!==null&&f.tag===13&&(f.flags|=16384))),H0(i,r)):Fc(i)}function Fc(r){var i=r;do{if((i.flags&32768)!==0){H0(i,us);return}r=i.return;var o=eA(i.alternate,i,Pi);if(o!==null){We=o;return}if(i=i.sibling,i!==null){We=i;return}We=i=r}while(i!==null);Nt===0&&(Nt=5)}function H0(r,i){do{var o=tA(r.alternate,r);if(o!==null){o.flags&=32767,We=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){We=r;return}We=r=o}while(r!==null);Nt=6,We=null}function G0(r,i,o,f,v,w,P,j,F){r.cancelPendingCommit=null;do qc();while(fn!==0);if((mt&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(w=i.lanes|i.childLanes,w|=Yh,Yi(r,o,w,P,j,F),r===St&&(We=St=null,it=0),co=i,hs=r,fo=o,Jd=w,em=v,L0=f,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,dA(di,function(){return Z0(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||f){f=K.T,K.T=null,v=se.p,se.p=2,P=mt,mt|=4;try{nA(r,i,o)}finally{mt=P,se.p=v,K.T=f}}fn=1,K0(),Y0(),Q0()}}function K0(){if(fn===1){fn=0;var r=hs,i=co,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var f=se.p;se.p=2;var v=mt;mt|=4;try{D0(i,r);var w=gm,P=Py(r.containerInfo),j=w.focusedElem,F=w.selectionRange;if(P!==j&&j&&j.ownerDocument&&Ny(j.ownerDocument.documentElement,j)){if(F!==null&&Fh(j)){var ee=F.start,ae=F.end;if(ae===void 0&&(ae=ee),"selectionStart"in j)j.selectionStart=ee,j.selectionEnd=Math.min(ae,j.value.length);else{var ue=j.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Ue=j.textContent.length,Ne=Math.min(F.start,Ue),bt=F.end===void 0?Ne:Math.min(F.end,Ue);!ne.extend&&Ne>bt&&(P=bt,bt=Ne,Ne=P);var Q=Iy(j,Ne),G=Iy(j,bt);if(Q&&G&&(ne.rangeCount!==1||ne.anchorNode!==Q.node||ne.anchorOffset!==Q.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var W=ue.createRange();W.setStart(Q.node,Q.offset),ne.removeAllRanges(),Ne>bt?(ne.addRange(W),ne.extend(G.node,G.offset)):(W.setEnd(G.node,G.offset),ne.addRange(W))}}}}for(ue=[],ne=j;ne=ne.parentNode;)ne.nodeType===1&&ue.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<ue.length;j++){var oe=ue[j];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}nf=!!pm,gm=pm=null}finally{mt=v,se.p=f,K.T=o}}r.current=i,fn=2}}function Y0(){if(fn===2){fn=0;var r=hs,i=co,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var f=se.p;se.p=2;var v=mt;mt|=4;try{A0(r,i.alternate,i)}finally{mt=v,se.p=f,K.T=o}}fn=3}}function Q0(){if(fn===4||fn===3){fn=0,Ia();var r=hs,i=co,o=fo,f=L0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?fn=5:(fn=0,co=hs=null,X0(r,r.pendingLanes));var v=r.pendingLanes;if(v===0&&(fs=null),Qi(o),i=i.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}if(f!==null){i=K.T,v=se.p,se.p=2,K.T=null;try{for(var w=r.onRecoverableError,P=0;P<f.length;P++){var j=f[P];w(j.value,{componentStack:j.stack})}}finally{K.T=i,se.p=v}}(fo&3)!==0&&qc(),ti(r),v=r.pendingLanes,(o&4194090)!==0&&(v&42)!==0?r===tm?jl++:(jl=0,tm=r):jl=0,Ul(0)}}function X0(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,vl(i)))}function qc(r){return K0(),Y0(),Q0(),Z0()}function Z0(){if(fn!==5)return!1;var r=hs,i=Jd;Jd=0;var o=Qi(fo),f=K.T,v=se.p;try{se.p=32>o?32:o,K.T=null,o=em,em=null;var w=hs,P=fo;if(fn=0,co=hs=null,fo=0,(mt&6)!==0)throw Error(s(331));var j=mt;if(mt|=4,N0(w.current),O0(w,w.current,P,o),mt=j,Ul(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(ut,w)}catch{}return!0}finally{se.p=v,K.T=f,X0(r,i)}}function W0(r,i,o){i=pr(o,i),i=Id(r.stateNode,i,2),r=ns(r,i,2),r!==null&&(Cr(r,2),ti(r))}function Tt(r,i,o){if(r.tag===3)W0(r,r,o);else for(;i!==null;){if(i.tag===3){W0(i,r,o);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(fs===null||!fs.has(f))){r=pr(o,r),o=n0(2),f=ns(i,o,2),f!==null&&(r0(o,f,i,r),Cr(f,2),ti(f));break}}i=i.return}}function sm(r,i,o){var f=r.pingCache;if(f===null){f=r.pingCache=new sA;var v=new Set;f.set(i,v)}else v=f.get(i),v===void 0&&(v=new Set,f.set(i,v));v.has(o)||(Qd=!0,v.add(o),r=cA.bind(null,r,i,o),i.then(r,r))}function cA(r,i,o){var f=r.pingCache;f!==null&&f.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,St===r&&(it&o)===o&&(Nt===4||Nt===3&&(it&62914560)===it&&300>Cn()-Wd?(mt&2)===0&&ho(r,0):Xd|=o,uo===it&&(uo=0)),ti(r)}function J0(r,i){i===0&&(i=qs()),r=Ya(r,i),r!==null&&(Cr(r,i),ti(r))}function fA(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),J0(r,o)}function hA(r,i){var o=0;switch(r.tag){case 13:var f=r.stateNode,v=r.memoizedState;v!==null&&(o=v.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(s(314))}f!==null&&f.delete(i),J0(r,o)}function dA(r,i){return hi(r,i)}var Hc=null,po=null,am=!1,Gc=!1,om=!1,ga=0;function ti(r){r!==po&&r.next===null&&(po===null?Hc=po=r:po=po.next=r),Gc=!0,am||(am=!0,pA())}function Ul(r,i){if(!om&&Gc){om=!0;do for(var o=!1,f=Hc;f!==null;){if(r!==0){var v=f.pendingLanes;if(v===0)var w=0;else{var P=f.suspendedLanes,j=f.pingedLanes;w=(1<<31-zt(42|r)+1)-1,w&=v&~(P&~j),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(o=!0,r_(f,w))}else w=it,w=mi(f,f===St?w:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(w&3)===0||or(f,w)||(o=!0,r_(f,w));f=f.next}while(o);om=!1}}function mA(){e_()}function e_(){Gc=am=!1;var r=0;ga!==0&&(wA()&&(r=ga),ga=0);for(var i=Cn(),o=null,f=Hc;f!==null;){var v=f.next,w=t_(f,i);w===0?(f.next=null,o===null?Hc=v:o.next=v,v===null&&(po=o)):(o=f,(r!==0||(w&3)!==0)&&(Gc=!0)),f=v}Ul(r)}function t_(r,i){for(var o=r.suspendedLanes,f=r.pingedLanes,v=r.expirationTimes,w=r.pendingLanes&-62914561;0<w;){var P=31-zt(w),j=1<<P,F=v[P];F===-1?((j&o)===0||(j&f)!==0)&&(v[P]=Ki(j,i)):F<=i&&(r.expiredLanes|=j),w&=~j}if(i=St,o=it,o=mi(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,o===0||r===i&&(pt===2||pt===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&xn(f),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||or(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(f!==null&&xn(f),Qi(o)){case 2:case 8:o=qi;break;case 32:o=di;break;case 268435456:o=sr;break;default:o=di}return f=n_.bind(null,r),o=hi(o,f),r.callbackPriority=i,r.callbackNode=o,i}return f!==null&&f!==null&&xn(f),r.callbackPriority=2,r.callbackNode=null,2}function n_(r,i){if(fn!==0&&fn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(qc()&&r.callbackNode!==o)return null;var f=it;return f=mi(r,r===St?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(j0(r,f,i),t_(r,Cn()),r.callbackNode!=null&&r.callbackNode===o?n_.bind(null,r):null)}function r_(r,i){if(qc())return null;j0(r,i,!0)}function pA(){AA(function(){(mt&6)!==0?hi(Fs,mA):e_()})}function lm(){return ga===0&&(ga=pi()),ga}function i_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:La(""+r)}function s_(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function gA(r,i,o,f,v){if(i==="submit"&&o&&o.stateNode===v){var w=i_((v[ye]||null).action),P=f.submitter;P&&(i=(i=P[ye]||null)?i_(i.formAction):P.getAttribute("formAction"),i!==null&&(w=i,P=null));var j=new ka("action","action",null,f,v);r.push({event:j,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ga!==0){var F=P?s_(v,P):new FormData(v);Cd(o,{pending:!0,data:F,method:v.method,action:w},null,F)}}else typeof w=="function"&&(j.preventDefault(),F=P?s_(v,P):new FormData(v),Cd(o,{pending:!0,data:F,method:v.method,action:w},w,F))},currentTarget:v}]})}}for(var um=0;um<Kh.length;um++){var cm=Kh[um],yA=cm.toLowerCase(),vA=cm[0].toUpperCase()+cm.slice(1);Mr(yA,"on"+vA)}Mr(jy,"onAnimationEnd"),Mr(Uy,"onAnimationIteration"),Mr(zy,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(P2,"onTransitionRun"),Mr(L2,"onTransitionStart"),Mr(k2,"onTransitionCancel"),Mr($y,"onTransitionEnd"),Mn("onMouseEnter",["mouseout","mouseover"]),Mn("onMouseLeave",["mouseout","mouseover"]),Mn("onPointerEnter",["pointerout","pointerover"]),Mn("onPointerLeave",["pointerout","pointerover"]),Gt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_A=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function a_(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var f=r[o],v=f.event;f=f.listeners;e:{var w=void 0;if(i)for(var P=f.length-1;0<=P;P--){var j=f[P],F=j.instance,ee=j.currentTarget;if(j=j.listener,F!==w&&v.isPropagationStopped())break e;w=j,v.currentTarget=ee;try{w(v)}catch(ae){Ic(ae)}v.currentTarget=null,w=F}else for(P=0;P<f.length;P++){if(j=f[P],F=j.instance,ee=j.currentTarget,j=j.listener,F!==w&&v.isPropagationStopped())break e;w=j,v.currentTarget=ee;try{w(v)}catch(ae){Ic(ae)}v.currentTarget=null,w=F}}}}function Je(r,i){var o=i[Oe];o===void 0&&(o=i[Oe]=new Set);var f=r+"__bubble";o.has(f)||(o_(i,r,2,!1),o.add(f))}function fm(r,i,o){var f=0;i&&(f|=4),o_(o,r,f,i)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function hm(r){if(!r[Kc]){r[Kc]=!0,Qe.forEach(function(o){o!=="selectionchange"&&(_A.has(o)||fm(o,!1,r),fm(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Kc]||(i[Kc]=!0,fm("selectionchange",!1,i))}}function o_(r,i,o,f){switch(O_(i)){case 2:var v=GA;break;case 8:v=KA;break;default:v=Rm}o=v.bind(null,i,o,r),v=void 0,!dr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(v=!0),f?v!==void 0?r.addEventListener(i,o,{capture:!0,passive:v}):r.addEventListener(i,o,!0):v!==void 0?r.addEventListener(i,o,{passive:v}):r.addEventListener(i,o,!1)}function dm(r,i,o,f,v){var w=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var P=f.tag;if(P===3||P===4){var j=f.stateNode.containerInfo;if(j===v)break;if(P===4)for(P=f.return;P!==null;){var F=P.tag;if((F===3||F===4)&&P.stateNode.containerInfo===v)return;P=P.return}for(;j!==null;){if(P=Pe(j),P===null)return;if(F=P.tag,F===5||F===6||F===26||F===27){f=w=P;continue e}j=j.parentNode}}f=f.return}Qu(function(){var ee=w,ae=hr(o),ue=[];e:{var te=By.get(r);if(te!==void 0){var ne=ka,Ue=r;switch(r){case"keypress":if(Gr(o)===0)break e;case"keydown":case"keyup":ne=Fa;break;case"focusin":Ue="focus",ne=za;break;case"focusout":Ue="blur",ne=za;break;case"beforeblur":case"afterblur":ne=za;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=rc;break;case jy:case Uy:case zy:ne=$a;break;case $y:ne=sc;break;case"scroll":case"scrollend":ne=Xu;break;case"wheel":ne=qa;break;case"copy":case"cut":case"paste":ne=Ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=cl;break;case"toggle":case"beforetoggle":ne=oc}var Ne=(i&4)!==0,bt=!Ne&&(r==="scroll"||r==="scrollend"),Q=Ne?te!==null?te+"Capture":null:te;Ne=[];for(var G=ee,W;G!==null;){var oe=G;if(W=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||W===null||Q===null||(oe=Qs(G,Q),oe!=null&&Ne.push($l(G,oe,W))),bt)break;G=G.return}0<Ne.length&&(te=new ne(te,Ue,null,o,ae),ue.push({event:te,listeners:Ne}))}}if((i&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",te&&o!==vi&&(Ue=o.relatedTarget||o.fromElement)&&(Pe(Ue)||Ue[Ee]))break e;if((ne||te)&&(te=ae.window===ae?ae:(te=ae.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Ue=o.relatedTarget||o.toElement,ne=ee,Ue=Ue?Pe(Ue):null,Ue!==null&&(bt=l(Ue),Ne=Ue.tag,Ue!==bt||Ne!==5&&Ne!==27&&Ne!==6)&&(Ue=null)):(ne=null,Ue=ee),ne!==Ue)){if(Ne=mr,oe="onMouseLeave",Q="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(Ne=cl,oe="onPointerLeave",Q="onPointerEnter",G="pointer"),bt=ne==null?te:ft(ne),W=Ue==null?te:ft(Ue),te=new Ne(oe,G+"leave",ne,o,ae),te.target=bt,te.relatedTarget=W,oe=null,Pe(ae)===ee&&(Ne=new Ne(Q,G+"enter",Ue,o,ae),Ne.target=W,Ne.relatedTarget=bt,oe=Ne),bt=oe,ne&&Ue)t:{for(Ne=ne,Q=Ue,G=0,W=Ne;W;W=go(W))G++;for(W=0,oe=Q;oe;oe=go(oe))W++;for(;0<G-W;)Ne=go(Ne),G--;for(;0<W-G;)Q=go(Q),W--;for(;G--;){if(Ne===Q||Q!==null&&Ne===Q.alternate)break t;Ne=go(Ne),Q=go(Q)}Ne=null}else Ne=null;ne!==null&&l_(ue,te,ne,Ne,!1),Ue!==null&&bt!==null&&l_(ue,bt,Ue,Ne,!0)}}e:{if(te=ee?ft(ee):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var we=xy;else if(Yt(te))if(Cy)we=V2;else{we=M2;var Xe=D2}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&rl(ee.elementType)&&(we=xy):we=O2;if(we&&(we=we(r,ee))){wi(ue,we,o,ae);break e}Xe&&Xe(r,te,ee),r==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Zi(te,"number",te.value)}switch(Xe=ee?ft(ee):window,r){case"focusin":(Yt(Xe)||Xe.contentEditable==="true")&&(Ha=Xe,qh=ee,dl=null);break;case"focusout":dl=qh=Ha=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Ly(ue,o,ae);break;case"selectionchange":if(N2)break;case"keydown":case"keyup":Ly(ue,o,ae)}var De;if(Qr)e:{switch(r){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else nt?ie(r,o)&&(Le="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Le="onCompositionStart");Le&&(V&&o.locale!=="ko"&&(nt||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&nt&&(De=sl()):(Hr=ae,Wi="value"in Hr?Hr.value:Hr.textContent,nt=!0)),Xe=Yc(ee,Le),0<Xe.length&&(Le=new ll(Le,r,null,o,ae),ue.push({event:Le,listeners:Xe}),De?Le.data=De:(De=ve(o),De!==null&&(Le.data=De)))),(De=D?Kt(r,o):rt(r,o))&&(Le=Yc(ee,"onBeforeInput"),0<Le.length&&(Xe=new ll("onBeforeInput","beforeinput",null,o,ae),ue.push({event:Xe,listeners:Le}),Xe.data=De)),gA(ue,r,ee,o,ae)}a_(ue,i)})}function $l(r,i,o){return{instance:r,listener:i,currentTarget:o}}function Yc(r,i){for(var o=i+"Capture",f=[];r!==null;){var v=r,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=Qs(r,o),v!=null&&f.unshift($l(r,v,w)),v=Qs(r,i),v!=null&&f.push($l(r,v,w))),r.tag===3)return f;r=r.return}return[]}function go(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function l_(r,i,o,f,v){for(var w=i._reactName,P=[];o!==null&&o!==f;){var j=o,F=j.alternate,ee=j.stateNode;if(j=j.tag,F!==null&&F===f)break;j!==5&&j!==26&&j!==27||ee===null||(F=ee,v?(ee=Qs(o,w),ee!=null&&P.unshift($l(o,ee,F))):v||(ee=Qs(o,w),ee!=null&&P.push($l(o,ee,F)))),o=o.return}P.length!==0&&r.push({event:i,listeners:P})}var bA=/\r\n?/g,EA=/\u0000|\uFFFD/g;function u_(r){return(typeof r=="string"?r:""+r).replace(bA,`
`).replace(EA,"")}function c_(r,i){return i=u_(i),u_(r)===i}function Qc(){}function _t(r,i,o,f,v,w){switch(o){case"children":typeof f=="string"?i==="body"||i==="textarea"&&f===""||fr(r,f):(typeof f=="number"||typeof f=="bigint")&&i!=="body"&&fr(r,""+f);break;case"className":On(r,"class",f);break;case"tabIndex":On(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":On(r,o,f);break;case"style":nl(r,f,w);break;case"data":if(i!=="object"){On(r,"data",f);break}case"src":case"href":if(f===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(o);break}f=La(""+f),r.setAttribute(o,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(o==="formAction"?(i!=="input"&&_t(r,i,"name",v.name,v,null),_t(r,i,"formEncType",v.formEncType,v,null),_t(r,i,"formMethod",v.formMethod,v,null),_t(r,i,"formTarget",v.formTarget,v,null)):(_t(r,i,"encType",v.encType,v,null),_t(r,i,"method",v.method,v,null),_t(r,i,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(o);break}f=La(""+f),r.setAttribute(o,f);break;case"onClick":f!=null&&(r.onclick=Qc);break;case"onScroll":f!=null&&Je("scroll",r);break;case"onScrollEnd":f!=null&&Je("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(o=f.__html,o!=null){if(v.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}o=La(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(o,""+f):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":f===!0?r.setAttribute(o,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(o,f):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(o,f):r.removeAttribute(o);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(o):r.setAttribute(o,f);break;case"popover":Je("beforetoggle",r),Je("toggle",r),_n(r,"popover",f);break;case"xlinkActuate":$e(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":$e(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":$e(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":$e(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":$e(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":$e(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":$e(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":$e(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":$e(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":_n(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=kh.get(o)||o,_n(r,o,f))}}function mm(r,i,o,f,v,w){switch(o){case"style":nl(r,f,w);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(o=f.__html,o!=null){if(v.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof f=="string"?fr(r,f):(typeof f=="number"||typeof f=="bigint")&&fr(r,""+f);break;case"onScroll":f!=null&&Je("scroll",r);break;case"onScrollEnd":f!=null&&Je("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ur.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(v=o.endsWith("Capture"),i=o.slice(2,v?o.length-7:void 0),w=r[ye]||null,w=w!=null?w[o]:null,typeof w=="function"&&r.removeEventListener(i,w,v),typeof f=="function")){typeof w!="function"&&w!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,f,v);break e}o in r?r[o]=f:f===!0?r.setAttribute(o,""):_n(r,o,f)}}}function hn(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",r),Je("load",r);var f=!1,v=!1,w;for(w in o)if(o.hasOwnProperty(w)){var P=o[w];if(P!=null)switch(w){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:_t(r,i,w,P,o,null)}}v&&_t(r,i,"srcSet",o.srcSet,o,null),f&&_t(r,i,"src",o.src,o,null);return;case"input":Je("invalid",r);var j=w=P=v=null,F=null,ee=null;for(f in o)if(o.hasOwnProperty(f)){var ae=o[f];if(ae!=null)switch(f){case"name":v=ae;break;case"type":P=ae;break;case"checked":F=ae;break;case"defaultChecked":ee=ae;break;case"value":w=ae;break;case"defaultValue":j=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,i));break;default:_t(r,i,f,ae,o,null)}}Gs(r,w,j,F,ee,P,v,!1),Pa(r);return;case"select":Je("invalid",r),f=P=w=null;for(v in o)if(o.hasOwnProperty(v)&&(j=o[v],j!=null))switch(v){case"value":w=j;break;case"defaultValue":P=j;break;case"multiple":f=j;default:_t(r,i,v,j,o,null)}i=w,o=P,r.multiple=!!f,i!=null?yi(r,!!f,i,!1):o!=null&&yi(r,!!f,o,!0);return;case"textarea":Je("invalid",r),w=v=f=null;for(P in o)if(o.hasOwnProperty(P)&&(j=o[P],j!=null))switch(P){case"value":f=j;break;case"defaultValue":v=j;break;case"children":w=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(91));break;default:_t(r,i,P,j,o,null)}Ks(r,f,v,w),Pa(r);return;case"option":for(F in o)if(o.hasOwnProperty(F)&&(f=o[F],f!=null))switch(F){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:_t(r,i,F,f,o,null)}return;case"dialog":Je("beforetoggle",r),Je("toggle",r),Je("cancel",r),Je("close",r);break;case"iframe":case"object":Je("load",r);break;case"video":case"audio":for(f=0;f<zl.length;f++)Je(zl[f],r);break;case"image":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"embed":case"source":case"link":Je("error",r),Je("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(f=o[ee],f!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:_t(r,i,ee,f,o,null)}return;default:if(rl(i)){for(ae in o)o.hasOwnProperty(ae)&&(f=o[ae],f!==void 0&&mm(r,i,ae,f,o,void 0));return}}for(j in o)o.hasOwnProperty(j)&&(f=o[j],f!=null&&_t(r,i,j,f,o,null))}function TA(r,i,o,f){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,P=null,j=null,F=null,ee=null,ae=null;for(ne in o){var ue=o[ne];if(o.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":F=ue;default:f.hasOwnProperty(ne)||_t(r,i,ne,null,f,ue)}}for(var te in f){var ne=f[te];if(ue=o[te],f.hasOwnProperty(te)&&(ne!=null||ue!=null))switch(te){case"type":w=ne;break;case"name":v=ne;break;case"checked":ee=ne;break;case"defaultChecked":ae=ne;break;case"value":P=ne;break;case"defaultValue":j=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,i));break;default:ne!==ue&&_t(r,i,te,ne,f,ue)}}Hn(r,P,j,F,ee,ae,w,v);return;case"select":ne=P=j=te=null;for(w in o)if(F=o[w],o.hasOwnProperty(w)&&F!=null)switch(w){case"value":break;case"multiple":ne=F;default:f.hasOwnProperty(w)||_t(r,i,w,null,f,F)}for(v in f)if(w=f[v],F=o[v],f.hasOwnProperty(v)&&(w!=null||F!=null))switch(v){case"value":te=w;break;case"defaultValue":j=w;break;case"multiple":P=w;default:w!==F&&_t(r,i,v,w,f,F)}i=j,o=P,f=ne,te!=null?yi(r,!!o,te,!1):!!f!=!!o&&(i!=null?yi(r,!!o,i,!0):yi(r,!!o,o?[]:"",!1));return;case"textarea":ne=te=null;for(j in o)if(v=o[j],o.hasOwnProperty(j)&&v!=null&&!f.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:_t(r,i,j,null,f,v)}for(P in f)if(v=f[P],w=o[P],f.hasOwnProperty(P)&&(v!=null||w!=null))switch(P){case"value":te=v;break;case"defaultValue":ne=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:v!==w&&_t(r,i,P,v,f,w)}yt(r,te,ne);return;case"option":for(var Ue in o)if(te=o[Ue],o.hasOwnProperty(Ue)&&te!=null&&!f.hasOwnProperty(Ue))switch(Ue){case"selected":r.selected=!1;break;default:_t(r,i,Ue,null,f,te)}for(F in f)if(te=f[F],ne=o[F],f.hasOwnProperty(F)&&te!==ne&&(te!=null||ne!=null))switch(F){case"selected":r.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:_t(r,i,F,te,f,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in o)te=o[Ne],o.hasOwnProperty(Ne)&&te!=null&&!f.hasOwnProperty(Ne)&&_t(r,i,Ne,null,f,te);for(ee in f)if(te=f[ee],ne=o[ee],f.hasOwnProperty(ee)&&te!==ne&&(te!=null||ne!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,i));break;default:_t(r,i,ee,te,f,ne)}return;default:if(rl(i)){for(var bt in o)te=o[bt],o.hasOwnProperty(bt)&&te!==void 0&&!f.hasOwnProperty(bt)&&mm(r,i,bt,void 0,f,te);for(ae in f)te=f[ae],ne=o[ae],!f.hasOwnProperty(ae)||te===ne||te===void 0&&ne===void 0||mm(r,i,ae,te,f,ne);return}}for(var Q in o)te=o[Q],o.hasOwnProperty(Q)&&te!=null&&!f.hasOwnProperty(Q)&&_t(r,i,Q,null,f,te);for(ue in f)te=f[ue],ne=o[ue],!f.hasOwnProperty(ue)||te===ne||te==null&&ne==null||_t(r,i,ue,te,f,ne)}var pm=null,gm=null;function Xc(r){return r.nodeType===9?r:r.ownerDocument}function f_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h_(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function ym(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var vm=null;function wA(){var r=window.event;return r&&r.type==="popstate"?r===vm?!1:(vm=r,!0):(vm=null,!1)}var d_=typeof setTimeout=="function"?setTimeout:void 0,SA=typeof clearTimeout=="function"?clearTimeout:void 0,m_=typeof Promise=="function"?Promise:void 0,AA=typeof queueMicrotask=="function"?queueMicrotask:typeof m_<"u"?function(r){return m_.resolve(null).then(r).catch(RA)}:d_;function RA(r){setTimeout(function(){throw r})}function ms(r){return r==="head"}function p_(r,i){var o=i,f=0,v=0;do{var w=o.nextSibling;if(r.removeChild(o),w&&w.nodeType===8)if(o=w.data,o==="/$"){if(0<f&&8>f){o=f;var P=r.ownerDocument;if(o&1&&Bl(P.documentElement),o&2&&Bl(P.body),o&4)for(o=P.head,Bl(o),P=o.firstChild;P;){var j=P.nextSibling,F=P.nodeName;P[Ie]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&P.rel.toLowerCase()==="stylesheet"||o.removeChild(P),P=j}}if(v===0){r.removeChild(w),Xl(i);return}v--}else o==="$"||o==="$?"||o==="$!"?v++:f=o.charCodeAt(0)-48;else f=0;o=w}while(o);Xl(i)}function _m(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":_m(o),Re(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function xA(r,i,o,f){for(;r.nodeType===1;){var v=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[Ie])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(w=r.getAttribute("rel"),w==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(w!==v.rel||r.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||r.getAttribute("title")!==(v.title==null?null:v.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(w=r.getAttribute("src"),(w!==(v.src==null?null:v.src)||r.getAttribute("type")!==(v.type==null?null:v.type)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&r.getAttribute("name")===w)return r}else return r;if(r=Vr(r.nextSibling),r===null)break}return null}function CA(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Vr(r.nextSibling),r===null))return null;return r}function bm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function DA(r,i){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")i();else{var f=function(){i(),o.removeEventListener("DOMContentLoaded",f)};o.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function Vr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Em=null;function g_(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return r;i--}else o==="/$"&&i++}r=r.previousSibling}return null}function y_(r,i,o){switch(i=Xc(o),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Bl(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Re(r)}var Er=new Map,v_=new Set;function Zc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Li=se.d;se.d={f:MA,r:OA,D:VA,C:IA,L:NA,m:PA,X:kA,S:LA,M:jA};function MA(){var r=Li.f(),i=Bc();return r||i}function OA(r){var i=Ze(r);i!==null&&i.tag===5&&i.type==="form"?jv(i):Li.r(r)}var yo=typeof document>"u"?null:document;function __(r,i,o){var f=yo;if(f&&typeof i=="string"&&i){var v=Bt(i);v='link[rel="'+r+'"][href="'+v+'"]',typeof o=="string"&&(v+='[crossorigin="'+o+'"]'),v_.has(v)||(v_.add(v),r={rel:r,crossOrigin:o,href:i},f.querySelector(v)===null&&(i=f.createElement("link"),hn(i,"link",r),tt(i),f.head.appendChild(i)))}}function VA(r){Li.D(r),__("dns-prefetch",r,null)}function IA(r,i){Li.C(r,i),__("preconnect",r,i)}function NA(r,i,o){Li.L(r,i,o);var f=yo;if(f&&r&&i){var v='link[rel="preload"][as="'+Bt(i)+'"]';i==="image"&&o&&o.imageSrcSet?(v+='[imagesrcset="'+Bt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(v+='[imagesizes="'+Bt(o.imageSizes)+'"]')):v+='[href="'+Bt(r)+'"]';var w=v;switch(i){case"style":w=vo(r);break;case"script":w=_o(r)}Er.has(w)||(r=g({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),Er.set(w,r),f.querySelector(v)!==null||i==="style"&&f.querySelector(Fl(w))||i==="script"&&f.querySelector(ql(w))||(i=f.createElement("link"),hn(i,"link",r),tt(i),f.head.appendChild(i)))}}function PA(r,i){Li.m(r,i);var o=yo;if(o&&r){var f=i&&typeof i.as=="string"?i.as:"script",v='link[rel="modulepreload"][as="'+Bt(f)+'"][href="'+Bt(r)+'"]',w=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=_o(r)}if(!Er.has(w)&&(r=g({rel:"modulepreload",href:r},i),Er.set(w,r),o.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ql(w)))return}f=o.createElement("link"),hn(f,"link",r),tt(f),o.head.appendChild(f)}}}function LA(r,i,o){Li.S(r,i,o);var f=yo;if(f&&r){var v=ot(f).hoistableStyles,w=vo(r);i=i||"default";var P=v.get(w);if(!P){var j={loading:0,preload:null};if(P=f.querySelector(Fl(w)))j.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":i},o),(o=Er.get(w))&&Tm(r,o);var F=P=f.createElement("link");tt(F),hn(F,"link",r),F._p=new Promise(function(ee,ae){F.onload=ee,F.onerror=ae}),F.addEventListener("load",function(){j.loading|=1}),F.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Wc(P,i,f)}P={type:"stylesheet",instance:P,count:1,state:j},v.set(w,P)}}}function kA(r,i){Li.X(r,i);var o=yo;if(o&&r){var f=ot(o).hoistableScripts,v=_o(r),w=f.get(v);w||(w=o.querySelector(ql(v)),w||(r=g({src:r,async:!0},i),(i=Er.get(v))&&wm(r,i),w=o.createElement("script"),tt(w),hn(w,"link",r),o.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(v,w))}}function jA(r,i){Li.M(r,i);var o=yo;if(o&&r){var f=ot(o).hoistableScripts,v=_o(r),w=f.get(v);w||(w=o.querySelector(ql(v)),w||(r=g({src:r,async:!0,type:"module"},i),(i=Er.get(v))&&wm(r,i),w=o.createElement("script"),tt(w),hn(w,"link",r),o.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(v,w))}}function b_(r,i,o,f){var v=(v=xe.current)?Zc(v):null;if(!v)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=vo(o.href),o=ot(v).hoistableStyles,f=o.get(i),f||(f={type:"style",instance:null,count:0,state:null},o.set(i,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=vo(o.href);var w=ot(v).hoistableStyles,P=w.get(r);if(P||(v=v.ownerDocument||v,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(r,P),(w=v.querySelector(Fl(r)))&&!w._p&&(P.instance=w,P.state.loading=5),Er.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Er.set(r,o),w||UA(v,r,o,P.state))),i&&f===null)throw Error(s(528,""));return P}if(i&&f!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=_o(o),o=ot(v).hoistableScripts,f=o.get(i),f||(f={type:"script",instance:null,count:0,state:null},o.set(i,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function vo(r){return'href="'+Bt(r)+'"'}function Fl(r){return'link[rel="stylesheet"]['+r+"]"}function E_(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function UA(r,i,o,f){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?f.loading=1:(i=r.createElement("link"),f.preload=i,i.addEventListener("load",function(){return f.loading|=1}),i.addEventListener("error",function(){return f.loading|=2}),hn(i,"link",o),tt(i),r.head.appendChild(i))}function _o(r){return'[src="'+Bt(r)+'"]'}function ql(r){return"script[async]"+r}function T_(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var f=r.querySelector('style[data-href~="'+Bt(o.href)+'"]');if(f)return i.instance=f,tt(f),f;var v=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),tt(f),hn(f,"style",v),Wc(f,o.precedence,r),i.instance=f;case"stylesheet":v=vo(o.href);var w=r.querySelector(Fl(v));if(w)return i.state.loading|=4,i.instance=w,tt(w),w;f=E_(o),(v=Er.get(v))&&Tm(f,v),w=(r.ownerDocument||r).createElement("link"),tt(w);var P=w;return P._p=new Promise(function(j,F){P.onload=j,P.onerror=F}),hn(w,"link",f),i.state.loading|=4,Wc(w,o.precedence,r),i.instance=w;case"script":return w=_o(o.src),(v=r.querySelector(ql(w)))?(i.instance=v,tt(v),v):(f=o,(v=Er.get(w))&&(f=g({},o),wm(f,v)),r=r.ownerDocument||r,v=r.createElement("script"),tt(v),hn(v,"link",f),r.head.appendChild(v),i.instance=v);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(f=i.instance,i.state.loading|=4,Wc(f,o.precedence,r));return i.instance}function Wc(r,i,o){for(var f=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,w=v,P=0;P<f.length;P++){var j=f[P];if(j.dataset.precedence===i)w=j;else if(w!==v)break}w?w.parentNode.insertBefore(r,w.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Tm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function wm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Jc=null;function w_(r,i,o){if(Jc===null){var f=new Map,v=Jc=new Map;v.set(o,f)}else v=Jc,f=v.get(o),f||(f=new Map,v.set(o,f));if(f.has(r))return f;for(f.set(r,null),o=o.getElementsByTagName(r),v=0;v<o.length;v++){var w=o[v];if(!(w[Ie]||w[le]||r==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var P=w.getAttribute(i)||"";P=r+P;var j=f.get(P);j?j.push(w):f.set(P,[w])}}return f}function S_(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function zA(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function A_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Hl=null;function $A(){}function BA(r,i,o){if(Hl===null)throw Error(s(475));var f=Hl;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var v=vo(o.href),w=r.querySelector(Fl(v));if(w){r=w._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=ef.bind(f),r.then(f,f)),i.state.loading|=4,i.instance=w,tt(w);return}w=r.ownerDocument||r,o=E_(o),(v=Er.get(v))&&Tm(o,v),w=w.createElement("link"),tt(w);var P=w;P._p=new Promise(function(j,F){P.onload=j,P.onerror=F}),hn(w,"link",o),i.instance=w}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(f.count++,i=ef.bind(f),r.addEventListener("load",i),r.addEventListener("error",i))}}function FA(){if(Hl===null)throw Error(s(475));var r=Hl;return r.stylesheets&&r.count===0&&Sm(r,r.stylesheets),0<r.count?function(i){var o=setTimeout(function(){if(r.stylesheets&&Sm(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(o)}}:null}function ef(){if(this.count--,this.count===0){if(this.stylesheets)Sm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var tf=null;function Sm(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,tf=new Map,i.forEach(qA,r),tf=null,ef.call(r))}function qA(r,i){if(!(i.state.loading&4)){var o=tf.get(r);if(o)var f=o.get(null);else{o=new Map,tf.set(r,o);for(var v=r.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var P=v[w];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(o.set(P.dataset.precedence,P),f=P)}f&&o.set(null,f)}v=i.instance,P=v.getAttribute("data-precedence"),w=o.get(P)||f,w===f&&o.set(null,v),o.set(P,v),this.count++,f=ef.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),w?w.parentNode.insertBefore(v,w.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(v,r.firstChild)),i.state.loading|=4}}var Gl={$$typeof:x,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function HA(r,i,o,f,v,w,P,j){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lr(0),this.hiddenUpdates=lr(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function R_(r,i,o,f,v,w,P,j,F,ee,ae,ue){return r=new HA(r,i,o,P,j,F,ee,ue),i=1,w===!0&&(i|=24),w=Kn(3,null,null,i),r.current=w,w.stateNode=r,i=sd(),i.refCount++,r.pooledCache=i,i.refCount++,w.memoizedState={element:f,isDehydrated:o,cache:i},ud(w),r}function x_(r){return r?(r=Qa,r):Qa}function C_(r,i,o,f,v,w){v=x_(v),f.context===null?f.context=v:f.pendingContext=v,f=ts(i),f.payload={element:o},w=w===void 0?null:w,w!==null&&(f.callback=w),o=ns(r,f,i),o!==null&&(Wn(o,r,i),Tl(o,r,i))}function D_(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function Am(r,i){D_(r,i),(r=r.alternate)&&D_(r,i)}function M_(r){if(r.tag===13){var i=Ya(r,67108864);i!==null&&Wn(i,r,67108864),Am(r,67108864)}}var nf=!0;function GA(r,i,o,f){var v=K.T;K.T=null;var w=se.p;try{se.p=2,Rm(r,i,o,f)}finally{se.p=w,K.T=v}}function KA(r,i,o,f){var v=K.T;K.T=null;var w=se.p;try{se.p=8,Rm(r,i,o,f)}finally{se.p=w,K.T=v}}function Rm(r,i,o,f){if(nf){var v=xm(f);if(v===null)dm(r,i,f,rf,o),V_(r,f);else if(QA(v,r,i,o,f))f.stopPropagation();else if(V_(r,f),i&4&&-1<YA.indexOf(r)){for(;v!==null;){var w=Ze(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var P=Bn(w.pendingLanes);if(P!==0){var j=w;for(j.pendingLanes|=2,j.entangledLanes|=2;P;){var F=1<<31-zt(P);j.entanglements[1]|=F,P&=~F}ti(w),(mt&6)===0&&(zc=Cn()+500,Ul(0))}}break;case 13:j=Ya(w,2),j!==null&&Wn(j,w,2),Bc(),Am(w,2)}if(w=xm(f),w===null&&dm(r,i,f,rf,o),w===v)break;v=w}v!==null&&f.stopPropagation()}else dm(r,i,f,null,o)}}function xm(r){return r=hr(r),Cm(r)}var rf=null;function Cm(r){if(rf=null,r=Pe(r),r!==null){var i=l(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=c(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return rf=r,null}function O_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jo()){case Fs:return 2;case qi:return 8;case di:case xr:return 32;case sr:return 268435456;default:return 32}default:return 32}}var Dm=!1,ps=null,gs=null,ys=null,Kl=new Map,Yl=new Map,vs=[],YA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V_(r,i){switch(r){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":Kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(i.pointerId)}}function Ql(r,i,o,f,v,w){return r===null||r.nativeEvent!==w?(r={blockedOn:i,domEventName:o,eventSystemFlags:f,nativeEvent:w,targetContainers:[v]},i!==null&&(i=Ze(i),i!==null&&M_(i)),r):(r.eventSystemFlags|=f,i=r.targetContainers,v!==null&&i.indexOf(v)===-1&&i.push(v),r)}function QA(r,i,o,f,v){switch(i){case"focusin":return ps=Ql(ps,r,i,o,f,v),!0;case"dragenter":return gs=Ql(gs,r,i,o,f,v),!0;case"mouseover":return ys=Ql(ys,r,i,o,f,v),!0;case"pointerover":var w=v.pointerId;return Kl.set(w,Ql(Kl.get(w)||null,r,i,o,f,v)),!0;case"gotpointercapture":return w=v.pointerId,Yl.set(w,Ql(Yl.get(w)||null,r,i,o,f,v)),!0}return!1}function I_(r){var i=Pe(r.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){r.blockedOn=i,X(r.priority,function(){if(o.tag===13){var f=Zn();f=$r(f);var v=Ya(o,f);v!==null&&Wn(v,o,f),Am(o,f)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function sf(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=xm(r.nativeEvent);if(o===null){o=r.nativeEvent;var f=new o.constructor(o.type,o);vi=f,o.target.dispatchEvent(f),vi=null}else return i=Ze(o),i!==null&&M_(i),r.blockedOn=o,!1;i.shift()}return!0}function N_(r,i,o){sf(r)&&o.delete(i)}function XA(){Dm=!1,ps!==null&&sf(ps)&&(ps=null),gs!==null&&sf(gs)&&(gs=null),ys!==null&&sf(ys)&&(ys=null),Kl.forEach(N_),Yl.forEach(N_)}function af(r,i){r.blockedOn===i&&(r.blockedOn=null,Dm||(Dm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,XA)))}var of=null;function P_(r){of!==r&&(of=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){of===r&&(of=null);for(var i=0;i<r.length;i+=3){var o=r[i],f=r[i+1],v=r[i+2];if(typeof f!="function"){if(Cm(f||o)===null)continue;break}var w=Ze(o);w!==null&&(r.splice(i,3),i-=3,Cd(w,{pending:!0,data:v,method:o.method,action:f},f,v))}}))}function Xl(r){function i(F){return af(F,r)}ps!==null&&af(ps,r),gs!==null&&af(gs,r),ys!==null&&af(ys,r),Kl.forEach(i),Yl.forEach(i);for(var o=0;o<vs.length;o++){var f=vs[o];f.blockedOn===r&&(f.blockedOn=null)}for(;0<vs.length&&(o=vs[0],o.blockedOn===null);)I_(o),o.blockedOn===null&&vs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(f=0;f<o.length;f+=3){var v=o[f],w=o[f+1],P=v[ye]||null;if(typeof w=="function")P||P_(o);else if(P){var j=null;if(w&&w.hasAttribute("formAction")){if(v=w,P=w[ye]||null)j=P.formAction;else if(Cm(v)!==null)continue}else j=P.action;typeof j=="function"?o[f+1]=j:(o.splice(f,3),f-=3),P_(o)}}}function Mm(r){this._internalRoot=r}lf.prototype.render=Mm.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,f=Zn();C_(o,f,r,i,null,null)},lf.prototype.unmount=Mm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;C_(r.current,2,null,r,null,null),Bc(),i[Ee]=null}};function lf(r){this._internalRoot=r}lf.prototype.unstable_scheduleHydration=function(r){if(r){var i=q();r={blockedOn:null,target:r,priority:i};for(var o=0;o<vs.length&&i!==0&&i<vs[o].priority;o++);vs.splice(o,0,r),o===0&&I_(r)}};var L_=e.version;if(L_!=="19.1.0")throw Error(s(527,L_,"19.1.0"));se.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=h(i),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var ZA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uf.isDisabled&&uf.supportsFiber)try{ut=uf.inject(ZA),He=uf}catch{}}return Wl.createRoot=function(r,i){if(!a(r))throw Error(s(299));var o=!1,f="",v=Wv,w=Jv,P=e0,j=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(v=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(P=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(j=i.unstable_transitionCallbacks)),i=R_(r,1,!1,null,null,o,f,v,w,P,j,null),r[Ee]=i.current,hm(r),new Mm(i)},Wl.hydrateRoot=function(r,i,o){if(!a(r))throw Error(s(299));var f=!1,v="",w=Wv,P=Jv,j=e0,F=null,ee=null;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(v=o.identifierPrefix),o.onUncaughtError!==void 0&&(w=o.onUncaughtError),o.onCaughtError!==void 0&&(P=o.onCaughtError),o.onRecoverableError!==void 0&&(j=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(F=o.unstable_transitionCallbacks),o.formState!==void 0&&(ee=o.formState)),i=R_(r,1,!0,i,o??null,f,v,w,P,j,F,ee),i.context=x_(null),o=i.current,f=Zn(),f=$r(f),v=ts(f),v.callback=null,ns(o,v,f),o=f,i.current.lanes=o,Cr(i,o),ti(i),r[Ee]=i.current,hm(r),new lf(i)},Wl.version="19.1.0",Wl}var K_;function oR(){if(K_)return Im.exports;K_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Im.exports=aR(),Im.exports}var lR=oR(),Jl={},Y_;function uR(){if(Y_)return Jl;Y_=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.parse=c,Jl.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function c(y,_){const b=new l,E=y.length;if(E<2)return b;const R=(_==null?void 0:_.decode)||g;let T=0;do{const A=y.indexOf("=",T);if(A===-1)break;const x=y.indexOf(";",T),I=x===-1?E:x;if(A>I){T=y.lastIndexOf(";",A-1)+1;continue}const N=u(y,T,A),L=h(y,A,N),O=y.slice(N,L);if(b[O]===void 0){let S=u(y,A+1,I),C=h(y,I,S);const M=R(y.slice(S,C));b[O]=M}T=I+1}while(T<E);return b}function u(y,_,b){do{const E=y.charCodeAt(_);if(E!==32&&E!==9)return _}while(++_<b);return b}function h(y,_,b){for(;_>b;){const E=y.charCodeAt(--_);if(E!==32&&E!==9)return _+1}return b}function m(y,_,b){const E=(b==null?void 0:b.encode)||encodeURIComponent;if(!t.test(y))throw new TypeError(`argument name is invalid: ${y}`);const R=E(_);if(!e.test(R))throw new TypeError(`argument val is invalid: ${_}`);let T=y+"="+R;if(!b)return T;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);T+="; Max-Age="+b.maxAge}if(b.domain){if(!n.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);T+="; Domain="+b.domain}if(b.path){if(!s.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);T+="; Path="+b.path}if(b.expires){if(!d(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);T+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(T+="; HttpOnly"),b.secure&&(T+="; Secure"),b.partitioned&&(T+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return T}function g(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function d(y){return a.call(y)==="[object Date]"}return Jl}uR();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $T=t=>{throw TypeError(t)},cR=(t,e,n)=>e.has(t)||$T("Cannot "+n),km=(t,e,n)=>(cR(t,e,"read from private field"),n?n.call(t):e.get(t)),fR=(t,e,n)=>e.has(t)?$T("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Q_="popstate";function hR(t={}){function e(a,l){let{pathname:c="/",search:u="",hash:h=""}=Fi(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),_u("",{pathname:c,search:u,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let h=a.location.href,m=h.indexOf("#");u=m===-1?h:h.slice(0,m)}return u+"#"+(typeof l=="string"?l:Ds(l))}function s(a,l){Mt(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return mR(e,n,s,t)}function Ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dR(){return Math.random().toString(36).substring(2,10)}function X_(t,e){return{usr:t.state,key:t.key,idx:e}}function _u(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Fi(e):e,state:n,key:e&&e.key||s||dR()}}function Ds({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function mR(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,u="POP",h=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function d(){u="POP";let R=g(),T=R==null?null:R-m;m=R,h&&h({action:u,location:E.location,delta:T})}function y(R,T){u="PUSH";let A=_u(E.location,R,T);n&&n(A,R),m=g()+1;let x=X_(A,m),I=E.createHref(A);try{c.pushState(x,"",I)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(I)}l&&h&&h({action:u,location:E.location,delta:1})}function _(R,T){u="REPLACE";let A=_u(E.location,R,T);n&&n(A,R),m=g();let x=X_(A,m),I=E.createHref(A);c.replaceState(x,"",I),l&&h&&h({action:u,location:E.location,delta:0})}function b(R){let T=a.location.origin!=="null"?a.location.origin:a.location.href,A=typeof R=="string"?R:Ds(R);return A=A.replace(/ $/,"%20"),Ye(T,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,T)}let E={get action(){return u},get location(){return t(a,c)},listen(R){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Q_,d),h=R,()=>{a.removeEventListener(Q_,d),h=null}},createHref(R){return e(a,R)},createURL:b,encodeLocation(R){let T=b(R);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:_,go(R){return c.go(R)}};return E}var iu,Z_=class{constructor(t){if(fR(this,iu,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(km(this,iu).has(t))return km(this,iu).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){km(this,iu).set(t,e)}};iu=new WeakMap;var pR=new Set(["lazy","caseSensitive","path","id","index","children"]);function gR(t){return pR.has(t)}var yR=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function vR(t){return yR.has(t)}function _R(t){return t.index===!0}function Pf(t,e,n=[],s={}){return t.map((a,l)=>{let c=[...n,String(l)],u=typeof a.id=="string"?a.id:c.join("-");if(Ye(a.index!==!0||!a.children,"Cannot specify children on an index route"),Ye(!s[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),_R(a)){let h={...a,...e(a),id:u};return s[u]=h,h}else{let h={...a,...e(a),id:u,children:void 0};return s[u]=h,a.children&&(h.children=Pf(a.children,e,c,s)),h}})}function Ts(t,e,n="/"){return Tf(t,e,n,!1)}function Tf(t,e,n,s){let a=typeof e=="string"?Fi(e):e,l=nr(a.pathname||"/",n);if(l==null)return null;let c=FT(t);bR(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let m=OR(l);u=DR(c[h],m,s)}return u}function BT(t,e){let{route:n,pathname:s,params:a}=t;return{id:n.id,pathname:s,params:a,data:e[n.id],handle:n.handle}}function FT(t,e=[],n=[],s=""){let a=(l,c,u)=>{let h={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&(Ye(h.relativePath.startsWith(s),`Absolute route path "${h.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(s.length));let m=ri([s,h.relativePath]),g=n.concat(h);l.children&&l.children.length>0&&(Ye(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),FT(l.children,e,g,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:xR(m,l.index),routesMeta:g})};return t.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))a(l,c);else for(let h of qT(l.path))a(l,c,h)}),e}function qT(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=qT(s.join("/")),u=[];return u.push(...c.map(h=>h===""?l:[l,h].join("/"))),a&&u.push(...c),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function bR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:CR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var ER=/^:[\w-]+$/,TR=3,wR=2,SR=1,AR=10,RR=-2,W_=t=>t==="*";function xR(t,e){let n=t.split("/"),s=n.length;return n.some(W_)&&(s+=RR),e&&(s+=wR),n.filter(a=>!W_(a)).reduce((a,l)=>a+(ER.test(l)?TR:l===""?SR:AR),s)}function CR(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function DR(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let u=0;u<s.length;++u){let h=s[u],m=u===s.length-1,g=l==="/"?e:e.slice(l.length)||"/",d=Lf({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),y=h.route;if(!d&&m&&n&&!s[s.length-1].route.index&&(d=Lf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!d)return null;Object.assign(a,d.params),c.push({params:a,pathname:ri([l,d.pathname]),pathnameBase:NR(ri([l,d.pathnameBase])),route:y}),d.pathnameBase!=="/"&&(l=ri([l,d.pathnameBase]))}return c}function Lf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=MR(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:s.reduce((m,{paramName:g,isOptional:d},y)=>{if(g==="*"){let b=u[y]||"";c=l.slice(0,l.length-b.length).replace(/(.)\/+$/,"$1")}const _=u[y];return d&&!_?m[g]=void 0:m[g]=(_||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function MR(t,e=!1,n=!0){Mt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(s.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function OR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function nr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function VR(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Fi(t):t;return{pathname:n?n.startsWith("/")?n:IR(n,e):e,search:PR(s),hash:LR(a)}}function IR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function jm(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function oh(t){let e=HT(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function lh(t,e,n,s=!1){let a;typeof t=="string"?a=Fi(t):(a={...t},Ye(!a.pathname||!a.pathname.includes("?"),jm("?","pathname","search",a)),Ye(!a.pathname||!a.pathname.includes("#"),jm("#","pathname","hash",a)),Ye(!a.search||!a.search.includes("#"),jm("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,u;if(c==null)u=n;else{let d=e.length-1;if(!s&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),d-=1;a.pathname=y.join("/")}u=d>=0?e[d]:"/"}let h=VR(a,u),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}var ri=t=>t.join("/").replace(/\/\/+/g,"/"),NR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,kf=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function bu(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var GT=["POST","PUT","PATCH","DELETE"],kR=new Set(GT),jR=["GET",...GT],UR=new Set(jR),zR=new Set([301,302,303,307,308]),$R=new Set([307,308]),Um={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},BR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},eu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ig=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FR=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),KT="remix-router-transitions",YT=Symbol("ResetLoaderData");function qR(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ye(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=t.hydrationRouteProperties||[],a=t.mapRouteProperties||FR,l={},c=Pf(t.routes,a,void 0,l),u,h=t.basename||"/",m=t.dataStrategy||QR,g={unstable_middleware:!1,...t.future},d=null,y=new Set,_=null,b=null,E=null,R=t.hydrationData!=null,T=Ts(c,t.history.location,h),A=!1,x=null;if(T==null&&!t.patchRoutesOnNavigation){let q=Sr(404,{pathname:t.history.location.pathname}),{matches:X,route:J}=cb(c);T=X,x={[J.id]:q}}T&&!t.hydrationData&&Dn(T,c,t.history.location.pathname).active&&(T=null);let I;if(T)if(T.some(q=>q.route.lazy))I=!1;else if(!T.some(q=>q.route.loader))I=!0;else{let q=t.hydrationData?t.hydrationData.loaderData:null,X=t.hydrationData?t.hydrationData.errors:null;if(X){let J=T.findIndex(le=>X[le.route.id]!==void 0);I=T.slice(0,J+1).every(le=>!cp(le.route,q,X))}else I=T.every(J=>!cp(J.route,q,X))}else{I=!1,T=[];let q=Dn(null,c,t.history.location.pathname);q.active&&q.matches&&(A=!0,T=q.matches)}let N,L={historyAction:t.history.action,location:t.history.location,matches:T,initialized:I,navigation:Um,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||x,fetchers:new Map,blockers:new Map},O="POP",S=!1,C,M=!1,k=new Map,$=null,U=!1,he=!1,ge=new Set,K=new Map,se=0,pe=-1,Se=new Map,B=new Set,re=new Map,me=new Map,ce=new Set,_e=new Map,ke,xe=null;function wt(){if(d=t.history.listen(({action:q,location:X,delta:J})=>{if(ke){ke(),ke=void 0;return}Mt(_e.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=Ki({currentLocation:L.location,nextLocation:X,historyAction:q});if(le&&J!=null){let ye=new Promise(Ee=>{ke=Ee});t.history.go(J*-1),or(le,{state:"blocked",location:X,proceed(){or(le,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),ye.then(()=>t.history.go(J))},reset(){let Ee=new Map(L.blockers);Ee.set(le,eu),At({blockers:Ee})}});return}return xn(q,X)}),n){ax(e,k);let q=()=>ox(e,k);e.addEventListener("pagehide",q),$=()=>e.removeEventListener("pagehide",q)}return L.initialized||xn("POP",L.location,{initialHydration:!0}),N}function gt(){d&&d(),$&&$(),y.clear(),C&&C.abort(),L.fetchers.forEach((q,X)=>zt(X)),L.blockers.forEach((q,X)=>mi(X))}function ir(q){return y.add(q),()=>y.delete(q)}function At(q,X={}){L={...L,...q};let J=[],le=[];L.fetchers.forEach((ye,Ee)=>{ye.state==="idle"&&(ce.has(Ee)?J.push(Ee):le.push(Ee))}),ce.forEach(ye=>{!L.fetchers.has(ye)&&!K.has(ye)&&J.push(ye)}),[...y].forEach(ye=>ye(L,{deletedFetchers:J,viewTransitionOpts:X.viewTransitionOpts,flushSync:X.flushSync===!0})),J.forEach(ye=>zt(ye)),le.forEach(ye=>L.fetchers.delete(ye))}function yn(q,X,{flushSync:J}={}){var Ce,Ie;let le=L.actionData!=null&&L.navigation.formMethod!=null&&er(L.navigation.formMethod)&&L.navigation.state==="loading"&&((Ce=q.state)==null?void 0:Ce._isRedirect)!==!0,ye;X.actionData?Object.keys(X.actionData).length>0?ye=X.actionData:ye=null:le?ye=L.actionData:ye=null;let Ee=X.loaderData?lb(L.loaderData,X.loaderData,X.matches||[],X.errors):L.loaderData,Oe=L.blockers;Oe.size>0&&(Oe=new Map(Oe),Oe.forEach((Re,Pe)=>Oe.set(Pe,eu)));let Te=S===!0||L.navigation.formMethod!=null&&er(L.navigation.formMethod)&&((Ie=q.state)==null?void 0:Ie._isRedirect)!==!0;u&&(c=u,u=void 0),U||O==="POP"||(O==="PUSH"?t.history.push(q,q.state):O==="REPLACE"&&t.history.replace(q,q.state));let Ae;if(O==="POP"){let Re=k.get(L.location.pathname);Re&&Re.has(q.pathname)?Ae={currentLocation:L.location,nextLocation:q}:k.has(q.pathname)&&(Ae={currentLocation:q,nextLocation:L.location})}else if(M){let Re=k.get(L.location.pathname);Re?Re.add(q.pathname):(Re=new Set([q.pathname]),k.set(L.location.pathname,Re)),Ae={currentLocation:L.location,nextLocation:q}}At({...X,actionData:ye,loaderData:Ee,historyAction:O,location:q,initialized:!0,navigation:Um,revalidation:"idle",restoreScrollPosition:Yi(q,X.matches||L.matches),preventScrollReset:Te,blockers:Oe},{viewTransitionOpts:Ae,flushSync:J===!0}),O="POP",S=!1,M=!1,U=!1,he=!1,xe==null||xe.resolve(),xe=null}async function Lr(q,X){if(typeof q=="number"){t.history.go(q);return}let J=up(L.location,L.matches,h,q,X==null?void 0:X.fromRouteId,X==null?void 0:X.relative),{path:le,submission:ye,error:Ee}=J_(!1,J,X),Oe=L.location,Te=_u(L.location,le,X&&X.state);Te={...Te,...t.history.encodeLocation(Te)};let Ae=X&&X.replace!=null?X.replace:void 0,Ce="PUSH";Ae===!0?Ce="REPLACE":Ae===!1||ye!=null&&er(ye.formMethod)&&ye.formAction===L.location.pathname+L.location.search&&(Ce="REPLACE");let Ie=X&&"preventScrollReset"in X?X.preventScrollReset===!0:void 0,Re=(X&&X.flushSync)===!0,Pe=Ki({currentLocation:Oe,nextLocation:Te,historyAction:Ce});if(Pe){or(Pe,{state:"blocked",location:Te,proceed(){or(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:Te}),Lr(q,X)},reset(){let Ze=new Map(L.blockers);Ze.set(Pe,eu),At({blockers:Ze})}});return}await xn(Ce,Te,{submission:ye,pendingError:Ee,preventScrollReset:Ie,replace:X&&X.replace,enableViewTransition:X&&X.viewTransition,flushSync:Re})}function hi(){xe||(xe=lx()),Gi(),At({revalidation:"loading"});let q=xe.promise;return L.navigation.state==="submitting"?q:L.navigation.state==="idle"?(xn(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),q):(xn(O||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:M===!0}),q)}async function xn(q,X,J){C&&C.abort(),C=null,O=q,U=(J&&J.startUninterruptedRevalidation)===!0,Cr(L.location,L.matches),S=(J&&J.preventScrollReset)===!0,M=(J&&J.enableViewTransition)===!0;let le=u||c,ye=J&&J.overrideNavigation,Ee=J!=null&&J.initialHydration&&L.matches&&L.matches.length>0&&!A?L.matches:Ts(le,X,h),Oe=(J&&J.flushSync)===!0;if(Ee&&L.initialized&&!he&&tx(L.location,X)&&!(J&&J.submission&&er(J.submission.formMethod))){yn(X,{matches:Ee},{flushSync:Oe});return}let Te=Dn(Ee,le,X.pathname);if(Te.active&&Te.matches&&(Ee=Te.matches),!Ee){let{error:ot,notFoundMatches:tt,route:Qe}=pi(X.pathname);yn(X,{matches:tt,loaderData:{},errors:{[Qe.id]:ot}},{flushSync:Oe});return}C=new AbortController;let Ae=Eo(t.history,X,C.signal,J&&J.submission),Ce=new Z_(t.unstable_getContext?await t.unstable_getContext():void 0),Ie;if(J&&J.pendingError)Ie=[ba(Ee).route.id,{type:"error",error:J.pendingError}];else if(J&&J.submission&&er(J.submission.formMethod)){let ot=await Bs(Ae,X,J.submission,Ee,Ce,Te.active,J&&J.initialHydration===!0,{replace:J.replace,flushSync:Oe});if(ot.shortCircuited)return;if(ot.pendingActionResult){let[tt,Qe]=ot.pendingActionResult;if(Jn(Qe)&&bu(Qe.error)&&Qe.error.status===404){C=null,yn(X,{matches:ot.matches,loaderData:{},errors:{[tt]:Qe.error}});return}}Ee=ot.matches||Ee,Ie=ot.pendingActionResult,ye=zm(X,J.submission),Oe=!1,Te.active=!1,Ae=Eo(t.history,Ae.url,Ae.signal)}let{shortCircuited:Re,matches:Pe,loaderData:Ze,errors:ft}=await Ia(Ae,X,Ee,Ce,Te.active,ye,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,Oe,Ie);Re||(C=null,yn(X,{matches:Pe||Ee,...ub(Ie),loaderData:Ze,errors:ft}))}async function Bs(q,X,J,le,ye,Ee,Oe,Te={}){Gi();let Ae=ix(X,J);if(At({navigation:Ae},{flushSync:Te.flushSync===!0}),Ee){let Re=await zr(le,X.pathname,q.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){let Pe=ba(Re.partialMatches).route.id;return{matches:Re.partialMatches,pendingActionResult:[Pe,{type:"error",error:Re.error}]}}else if(Re.matches)le=Re.matches;else{let{notFoundMatches:Pe,error:Ze,route:ft}=pi(X.pathname);return{matches:Pe,pendingActionResult:[ft.id,{type:"error",error:Ze}]}}}let Ce,Ie=su(le,X);if(!Ie.route.action&&!Ie.route.lazy)Ce={type:"error",error:Sr(405,{method:q.method,pathname:X.pathname,routeId:Ie.route.id})};else{let Re=Oo(a,l,q,le,Ie,Oe?[]:s,ye),Pe=await sr(q,Re,ye,null);if(Ce=Pe[Ie.route.id],!Ce){for(let Ze of le)if(Pe[Ze.route.id]){Ce=Pe[Ze.route.id];break}}if(q.signal.aborted)return{shortCircuited:!0}}if(Ea(Ce)){let Re;return Te&&Te.replace!=null?Re=Te.replace:Re=sb(Ce.response.headers.get("Location"),new URL(q.url),h)===L.location.pathname+L.location.search,await xr(q,Ce,!0,{submission:J,replace:Re}),{shortCircuited:!0}}if(Jn(Ce)){let Re=ba(le,Ie.route.id);return(Te&&Te.replace)!==!0&&(O="PUSH"),{matches:le,pendingActionResult:[Re.route.id,Ce,Ie.route.id]}}return{matches:le,pendingActionResult:[Ie.route.id,Ce]}}async function Ia(q,X,J,le,ye,Ee,Oe,Te,Ae,Ce,Ie,Re){let Pe=Ee||zm(X,Oe),Ze=Oe||Te||hb(Pe),ft=!U&&!Ce;if(ye){if(ft){let $t=Cn(Re);At({navigation:Pe,...$t!==void 0?{actionData:$t}:{}},{flushSync:Ie})}let $e=await zr(J,X.pathname,q.signal);if($e.type==="aborted")return{shortCircuited:!0};if($e.type==="error"){let $t=ba($e.partialMatches).route.id;return{matches:$e.partialMatches,loaderData:{},errors:{[$t]:$e.error}}}else if($e.matches)J=$e.matches;else{let{error:$t,notFoundMatches:qn,route:Pn}=pi(X.pathname);return{matches:qn,loaderData:{},errors:{[Pn.id]:$t}}}}let ot=u||c,{dsMatches:tt,revalidatingFetchers:Qe}=eb(q,le,a,l,t.history,L,J,Ze,X,Ce?[]:s,Ce===!0,he,ge,ce,re,B,ot,h,Re);if(pe=++se,!t.dataStrategy&&!tt.some($e=>$e.shouldLoad)&&Qe.length===0){let $e=jr();return yn(X,{matches:J,loaderData:{},errors:Re&&Jn(Re[1])?{[Re[0]]:Re[1].error}:null,...ub(Re),...$e?{fetchers:new Map(L.fetchers)}:{}},{flushSync:Ie}),{shortCircuited:!0}}if(ft){let $e={};if(!ye){$e.navigation=Pe;let $t=Cn(Re);$t!==void 0&&($e.actionData=$t)}Qe.length>0&&($e.fetchers=Jo(Qe)),At($e,{flushSync:Ie})}Qe.forEach($e=>{ar($e.key),$e.controller&&K.set($e.key,$e.controller)});let ur=()=>Qe.forEach($e=>ar($e.key));C&&C.signal.addEventListener("abort",ur);let{loaderResults:Gt,fetcherResults:Mn}=await Hi(tt,Qe,q,le);if(q.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",ur),Qe.forEach($e=>K.delete($e.key));let on=cf(Gt);if(on)return await xr(q,on.result,!0,{replace:Ae}),{shortCircuited:!0};if(on=cf(Mn),on)return B.add(on.key),await xr(q,on.result,!0,{replace:Ae}),{shortCircuited:!0};let{loaderData:Br,errors:Fn}=ob(L,J,Gt,Re,Qe,Mn);Ce&&L.errors&&(Fn={...L.errors,...Fn});let Xi=jr(),_n=Ur(pe),On=Xi||_n||Qe.length>0;return{matches:J,loaderData:Br,errors:Fn,...On?{fetchers:new Map(L.fetchers)}:{}}}function Cn(q){if(q&&!Jn(q[1]))return{[q[0]]:q[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function Jo(q){return q.forEach(X=>{let J=L.fetchers.get(X.key),le=tu(void 0,J?J.data:void 0);L.fetchers.set(X.key,le)}),new Map(L.fetchers)}async function Fs(q,X,J,le){ar(q);let ye=(le&&le.flushSync)===!0,Ee=u||c,Oe=up(L.location,L.matches,h,J,X,le==null?void 0:le.relative),Te=Ts(Ee,Oe,h),Ae=Dn(Te,Ee,Oe);if(Ae.active&&Ae.matches&&(Te=Ae.matches),!Te){He(q,X,Sr(404,{pathname:Oe}),{flushSync:ye});return}let{path:Ce,submission:Ie,error:Re}=J_(!0,Oe,le);if(Re){He(q,X,Re,{flushSync:ye});return}let Pe=su(Te,Ce),Ze=new Z_(t.unstable_getContext?await t.unstable_getContext():void 0),ft=(le&&le.preventScrollReset)===!0;if(Ie&&er(Ie.formMethod)){await qi(q,X,Ce,Pe,Te,Ze,Ae.active,ye,ft,Ie);return}re.set(q,{routeId:X,path:Ce}),await di(q,X,Ce,Pe,Te,Ze,Ae.active,ye,ft,Ie)}async function qi(q,X,J,le,ye,Ee,Oe,Te,Ae,Ce){Gi(),re.delete(q);function Ie(Et){if(!Et.route.action&&!Et.route.lazy){let cr=Sr(405,{method:Ce.formMethod,pathname:J,routeId:X});return He(q,X,cr,{flushSync:Te}),!0}return!1}if(!Oe&&Ie(le))return;let Re=L.fetchers.get(q);ut(q,sx(Ce,Re),{flushSync:Te});let Pe=new AbortController,Ze=Eo(t.history,J,Pe.signal,Ce);if(Oe){let Et=await zr(ye,J,Ze.signal,q);if(Et.type==="aborted")return;if(Et.type==="error"){He(q,X,Et.error,{flushSync:Te});return}else if(Et.matches){if(ye=Et.matches,le=su(ye,J),Ie(le))return}else{He(q,X,Sr(404,{pathname:J}),{flushSync:Te});return}}K.set(q,Pe);let ft=se,ot=Oo(a,l,Ze,ye,le,s,Ee),Qe=(await sr(Ze,ot,Ee,q))[le.route.id];if(Ze.signal.aborted){K.get(q)===Pe&&K.delete(q);return}if(ce.has(q)){if(Ea(Qe)||Jn(Qe)){ut(q,bs(void 0));return}}else{if(Ea(Qe))if(K.delete(q),pe>ft){ut(q,bs(void 0));return}else return B.add(q),ut(q,tu(Ce)),xr(Ze,Qe,!1,{fetcherSubmission:Ce,preventScrollReset:Ae});if(Jn(Qe)){He(q,X,Qe.error);return}}let ur=L.navigation.location||L.location,Gt=Eo(t.history,ur,Pe.signal),Mn=u||c,on=L.navigation.state!=="idle"?Ts(Mn,L.navigation.location,h):L.matches;Ye(on,"Didn't find any matches after fetcher action");let Br=++se;Se.set(q,Br);let Fn=tu(Ce,Qe.data);L.fetchers.set(q,Fn);let{dsMatches:Xi,revalidatingFetchers:_n}=eb(Gt,Ee,a,l,t.history,L,on,Ce,ur,s,!1,he,ge,ce,re,B,Mn,h,[le.route.id,Qe]);_n.filter(Et=>Et.key!==q).forEach(Et=>{let cr=Et.key,gi=L.fetchers.get(cr),ln=tu(void 0,gi?gi.data:void 0);L.fetchers.set(cr,ln),ar(cr),Et.controller&&K.set(cr,Et.controller)}),At({fetchers:new Map(L.fetchers)});let On=()=>_n.forEach(Et=>ar(Et.key));Pe.signal.addEventListener("abort",On);let{loaderResults:$e,fetcherResults:$t}=await Hi(Xi,_n,Gt,Ee);if(Pe.signal.aborted)return;Pe.signal.removeEventListener("abort",On),Se.delete(q),K.delete(q),_n.forEach(Et=>K.delete(Et.key));let qn=cf($e);if(qn)return xr(Gt,qn.result,!1,{preventScrollReset:Ae});if(qn=cf($t),qn)return B.add(qn.key),xr(Gt,qn.result,!1,{preventScrollReset:Ae});let{loaderData:Pn,errors:Fr}=ob(L,on,$e,void 0,_n,$t);if(L.fetchers.has(q)){let Et=bs(Qe.data);L.fetchers.set(q,Et)}Ur(Br),L.navigation.state==="loading"&&Br>pe?(Ye(O,"Expected pending action"),C&&C.abort(),yn(L.navigation.location,{matches:on,loaderData:Pn,errors:Fr,fetchers:new Map(L.fetchers)})):(At({errors:Fr,loaderData:lb(L.loaderData,Pn,on,Fr),fetchers:new Map(L.fetchers)}),he=!1)}async function di(q,X,J,le,ye,Ee,Oe,Te,Ae,Ce){let Ie=L.fetchers.get(q);ut(q,tu(Ce,Ie?Ie.data:void 0),{flushSync:Te});let Re=new AbortController,Pe=Eo(t.history,J,Re.signal);if(Oe){let Qe=await zr(ye,J,Pe.signal,q);if(Qe.type==="aborted")return;if(Qe.type==="error"){He(q,X,Qe.error,{flushSync:Te});return}else if(Qe.matches)ye=Qe.matches,le=su(ye,J);else{He(q,X,Sr(404,{pathname:J}),{flushSync:Te});return}}K.set(q,Re);let Ze=se,ft=Oo(a,l,Pe,ye,le,s,Ee),tt=(await sr(Pe,ft,Ee,q))[le.route.id];if(K.get(q)===Re&&K.delete(q),!Pe.signal.aborted){if(ce.has(q)){ut(q,bs(void 0));return}if(Ea(tt))if(pe>Ze){ut(q,bs(void 0));return}else{B.add(q),await xr(Pe,tt,!1,{preventScrollReset:Ae});return}if(Jn(tt)){He(q,X,tt.error);return}ut(q,bs(tt.data))}}async function xr(q,X,J,{submission:le,fetcherSubmission:ye,preventScrollReset:Ee,replace:Oe}={}){X.response.headers.has("X-Remix-Revalidate")&&(he=!0);let Te=X.response.headers.get("Location");Ye(Te,"Expected a Location header on the redirect Response"),Te=sb(Te,new URL(q.url),h);let Ae=_u(L.location,Te,{_isRedirect:!0});if(n){let ft=!1;if(X.response.headers.has("X-Remix-Reload-Document"))ft=!0;else if(ig.test(Te)){const ot=t.history.createURL(Te);ft=ot.origin!==e.location.origin||nr(ot.pathname,h)==null}if(ft){Oe?e.location.replace(Te):e.location.assign(Te);return}}C=null;let Ce=Oe===!0||X.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ie,formAction:Re,formEncType:Pe}=L.navigation;!le&&!ye&&Ie&&Re&&Pe&&(le=hb(L.navigation));let Ze=le||ye;if($R.has(X.response.status)&&Ze&&er(Ze.formMethod))await xn(Ce,Ae,{submission:{...Ze,formAction:Te},preventScrollReset:Ee||S,enableViewTransition:J?M:void 0});else{let ft=zm(Ae,le);await xn(Ce,Ae,{overrideNavigation:ft,fetcherSubmission:ye,preventScrollReset:Ee||S,enableViewTransition:J?M:void 0})}}async function sr(q,X,J,le){let ye,Ee={};try{ye=await XR(m,q,X,le,J,!1)}catch(Oe){return X.filter(Te=>Te.shouldLoad).forEach(Te=>{Ee[Te.route.id]={type:"error",error:Oe}}),Ee}for(let[Oe,Te]of Object.entries(ye))if(nx(Te)){let Ae=Te.result;Ee[Oe]={type:"redirect",response:JR(Ae,q,Oe,X,h)}}else Ee[Oe]=await WR(Te);return Ee}async function Hi(q,X,J,le){let ye=sr(J,q,le,null),Ee=Promise.all(X.map(async Ae=>{if(Ae.matches&&Ae.match&&Ae.request&&Ae.controller){let Ie=(await sr(Ae.request,Ae.matches,le,Ae.key))[Ae.match.route.id];return{[Ae.key]:Ie}}else return Promise.resolve({[Ae.key]:{type:"error",error:Sr(404,{pathname:Ae.path})}})})),Oe=await ye,Te=(await Ee).reduce((Ae,Ce)=>Object.assign(Ae,Ce),{});return{loaderResults:Oe,fetcherResults:Te}}function Gi(){he=!0,re.forEach((q,X)=>{K.has(X)&&ge.add(X),ar(X)})}function ut(q,X,J={}){L.fetchers.set(q,X),At({fetchers:new Map(L.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function He(q,X,J,le={}){let ye=ba(L.matches,X);zt(q),At({errors:{[ye.route.id]:J},fetchers:new Map(L.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function vn(q){return me.set(q,(me.get(q)||0)+1),ce.has(q)&&ce.delete(q),L.fetchers.get(q)||BR}function zt(q){let X=L.fetchers.get(q);K.has(q)&&!(X&&X.state==="loading"&&Se.has(q))&&ar(q),re.delete(q),Se.delete(q),B.delete(q),ce.delete(q),ge.delete(q),L.fetchers.delete(q)}function Na(q){let X=(me.get(q)||0)-1;X<=0?(me.delete(q),ce.add(q)):me.set(q,X),At({fetchers:new Map(L.fetchers)})}function ar(q){let X=K.get(q);X&&(X.abort(),K.delete(q))}function kr(q){for(let X of q){let J=vn(X),le=bs(J.data);L.fetchers.set(X,le)}}function jr(){let q=[],X=!1;for(let J of B){let le=L.fetchers.get(J);Ye(le,`Expected fetcher: ${J}`),le.state==="loading"&&(B.delete(J),q.push(J),X=!0)}return kr(q),X}function Ur(q){let X=[];for(let[J,le]of Se)if(le<q){let ye=L.fetchers.get(J);Ye(ye,`Expected fetcher: ${J}`),ye.state==="loading"&&(ar(J),Se.delete(J),X.push(J))}return kr(X),X.length>0}function Bn(q,X){let J=L.blockers.get(q)||eu;return _e.get(q)!==X&&_e.set(q,X),J}function mi(q){L.blockers.delete(q),_e.delete(q)}function or(q,X){let J=L.blockers.get(q)||eu;Ye(J.state==="unblocked"&&X.state==="blocked"||J.state==="blocked"&&X.state==="blocked"||J.state==="blocked"&&X.state==="proceeding"||J.state==="blocked"&&X.state==="unblocked"||J.state==="proceeding"&&X.state==="unblocked",`Invalid blocker state transition: ${J.state} -> ${X.state}`);let le=new Map(L.blockers);le.set(q,X),At({blockers:le})}function Ki({currentLocation:q,nextLocation:X,historyAction:J}){if(_e.size===0)return;_e.size>1&&Mt(!1,"A router only supports one blocker at a time");let le=Array.from(_e.entries()),[ye,Ee]=le[le.length-1],Oe=L.blockers.get(ye);if(!(Oe&&Oe.state==="proceeding")&&Ee({currentLocation:q,nextLocation:X,historyAction:J}))return ye}function pi(q){let X=Sr(404,{pathname:q}),J=u||c,{matches:le,route:ye}=cb(J);return{notFoundMatches:le,route:ye,error:X}}function qs(q,X,J){if(_=q,E=X,b=J||null,!R&&L.navigation===Um){R=!0;let le=Yi(L.location,L.matches);le!=null&&At({restoreScrollPosition:le})}return()=>{_=null,E=null,b=null}}function lr(q,X){return b&&b(q,X.map(le=>BT(le,L.loaderData)))||q.key}function Cr(q,X){if(_&&E){let J=lr(q,X);_[J]=E()}}function Yi(q,X){if(_){let J=lr(q,X),le=_[J];if(typeof le=="number")return le}return null}function Dn(q,X,J){if(t.patchRoutesOnNavigation)if(q){if(Object.keys(q[0].params).length>0)return{active:!0,matches:Tf(X,J,h,!0)}}else return{active:!0,matches:Tf(X,J,h,!0)||[]};return{active:!1,matches:null}}async function zr(q,X,J,le){if(!t.patchRoutesOnNavigation)return{type:"success",matches:q};let ye=q;for(;;){let Ee=u==null,Oe=u||c,Te=l;try{await t.patchRoutesOnNavigation({signal:J,path:X,matches:ye,fetcherKey:le,patch:(Ie,Re)=>{J.aborted||tb(Ie,Re,Oe,Te,a)}})}catch(Ie){return{type:"error",error:Ie,partialMatches:ye}}finally{Ee&&!J.aborted&&(c=[...c])}if(J.aborted)return{type:"aborted"};let Ae=Ts(Oe,X,h);if(Ae)return{type:"success",matches:Ae};let Ce=Tf(Oe,X,h,!0);if(!Ce||ye.length===Ce.length&&ye.every((Ie,Re)=>Ie.route.id===Ce[Re].route.id))return{type:"success",matches:null};ye=Ce}}function $r(q){l={},u=Pf(q,a,void 0,l)}function Qi(q,X){let J=u==null;tb(q,X,u||c,l,a),J&&(c=[...c],At({}))}return N={get basename(){return h},get future(){return g},get state(){return L},get routes(){return c},get window(){return e},initialize:wt,subscribe:ir,enableScrollRestoration:qs,navigate:Lr,fetch:Fs,revalidate:hi,createHref:q=>t.history.createHref(q),encodeLocation:q=>t.history.encodeLocation(q),getFetcher:vn,deleteFetcher:Na,dispose:gt,getBlocker:Bn,deleteBlocker:mi,patchRoutes:Qi,_internalFetchControllers:K,_internalSetRoutes:$r},N}function HR(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function up(t,e,n,s,a,l){let c,u;if(a){c=[];for(let m of e)if(c.push(m),m.route.id===a){u=m;break}}else c=e,u=e[e.length-1];let h=lh(s||".",oh(c),nr(t.pathname,n)||t.pathname,l==="path");if(s==null&&(h.search=t.search,h.hash=t.hash),(s==null||s===""||s===".")&&u){let m=sg(h.search);if(u.route.index&&!m)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&m){let g=new URLSearchParams(h.search),d=g.getAll("index");g.delete("index"),d.filter(_=>_).forEach(_=>g.append("index",_));let y=g.toString();h.search=y?`?${y}`:""}}return n!=="/"&&(h.pathname=h.pathname==="/"?n:ri([n,h.pathname])),Ds(h)}function J_(t,e,n){if(!n||!HR(n))return{path:e};if(n.formMethod&&!rx(n.formMethod))return{path:e,error:Sr(405,{method:n.formMethod})};let s=()=>({path:e,error:Sr(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),c=ew(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!er(l))return s();let d=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,[_,b])=>`${y}${_}=${b}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:d}}}else if(n.formEncType==="application/json"){if(!er(l))return s();try{let d=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:d,text:void 0}}}catch{return s()}}}Ye(typeof FormData=="function","FormData is not available in this environment");let u,h;if(n.formData)u=hp(n.formData),h=n.formData;else if(n.body instanceof FormData)u=hp(n.body),h=n.body;else if(n.body instanceof URLSearchParams)u=n.body,h=ab(u);else if(n.body==null)u=new URLSearchParams,h=new FormData;else try{u=new URLSearchParams(n.body),h=ab(u)}catch{return s()}let m={formMethod:l,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(er(m.formMethod))return{path:e,submission:m};let g=Fi(e);return t&&g.search&&sg(g.search)&&u.append("index",""),g.search=`?${u}`,{path:Ds(g),submission:m}}function eb(t,e,n,s,a,l,c,u,h,m,g,d,y,_,b,E,R,T,A){var $;let x=A?Jn(A[1])?A[1].error:A[1].data:void 0,I=a.createURL(l.location),N=a.createURL(h),L;if(g&&l.errors){let U=Object.keys(l.errors)[0];L=c.findIndex(he=>he.route.id===U)}else if(A&&Jn(A[1])){let U=A[0];L=c.findIndex(he=>he.route.id===U)-1}let O=A?A[1].statusCode:void 0,S=O&&O>=400,C={currentUrl:I,currentParams:(($=l.matches[0])==null?void 0:$.params)||{},nextUrl:N,nextParams:c[0].params,...u,actionResult:x,actionStatus:O},M=c.map((U,he)=>{let{route:ge}=U,K=null;if(L!=null&&he>L?K=!1:ge.lazy?K=!0:ge.loader==null?K=!1:g?K=cp(ge,l.loaderData,l.errors):GR(l.loaderData,l.matches[he],U)&&(K=!0),K!==null)return fp(n,s,t,U,m,e,K);let se=S?!1:d||I.pathname+I.search===N.pathname+N.search||I.search!==N.search||KR(l.matches[he],U),pe={...C,defaultShouldRevalidate:se},Se=jf(U,pe);return fp(n,s,t,U,m,e,Se,pe)}),k=[];return b.forEach((U,he)=>{if(g||!c.some(re=>re.route.id===U.routeId)||_.has(he))return;let ge=Ts(R,U.path,T);if(!ge){k.push({key:he,routeId:U.routeId,path:U.path,matches:null,match:null,request:null,controller:null});return}if(E.has(he))return;let K=l.fetchers.get(he),se=su(ge,U.path),pe=new AbortController,Se=Eo(a,U.path,pe.signal),B=null;if(y.has(he))y.delete(he),B=Oo(n,s,Se,ge,se,m,e);else if(K&&K.state!=="idle"&&K.data===void 0)d&&(B=Oo(n,s,Se,ge,se,m,e));else{let re={...C,defaultShouldRevalidate:S?!1:d};jf(se,re)&&(B=Oo(n,s,Se,ge,se,m,e,re))}B&&k.push({key:he,routeId:U.routeId,path:U.path,matches:B,match:se,request:Se,controller:pe})}),{dsMatches:M,revalidatingFetchers:k}}function cp(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let s=e!=null&&e[t.id]!==void 0,a=n!=null&&n[t.id]!==void 0;return!s&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!s&&!a}function GR(t,e,n){let s=!e||n.route.id!==e.route.id,a=!t.hasOwnProperty(n.route.id);return s||a}function KR(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function jf(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function tb(t,e,n,s,a){let l;if(t){let h=s[t];Ye(h,`No route found to patch children into: routeId = ${t}`),h.children||(h.children=[]),l=h.children}else l=n;let c=e.filter(h=>!l.some(m=>QT(h,m))),u=Pf(c,a,[t||"_","patch",String((l==null?void 0:l.length)||"0")],s);l.push(...u)}function QT(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,s)=>{var a;return(a=e.children)==null?void 0:a.some(l=>QT(n,l))}):!1}var nb=new WeakMap,XT=({key:t,route:e,manifest:n,mapRouteProperties:s})=>{let a=n[e.id];if(Ye(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let l=a.lazy[t];if(!l)return;let c=nb.get(a);c||(c={},nb.set(a,c));let u=c[t];if(u)return u;let h=(async()=>{let m=gR(t),d=a[t]!==void 0&&t!=="hasErrorBoundary";if(m)Mt(!m,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),c[t]=Promise.resolve();else if(d)Mt(!1,`Route "${a.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let y=await l();y!=null&&(Object.assign(a,{[t]:y}),Object.assign(a,s(a)))}typeof a.lazy=="object"&&(a.lazy[t]=void 0,Object.values(a.lazy).every(y=>y===void 0)&&(a.lazy=void 0))})();return c[t]=h,h},rb=new WeakMap;function YR(t,e,n,s,a){let l=n[t.id];if(Ye(l,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let g=rb.get(l);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let d=(async()=>{Ye(typeof t.lazy=="function","No lazy route function found");let y=await t.lazy(),_={};for(let b in y){let E=y[b];if(E===void 0)continue;let R=vR(b),A=l[b]!==void 0&&b!=="hasErrorBoundary";R?Mt(!R,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):A?Mt(!A,`Route "${l.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):_[b]=E}Object.assign(l,_),Object.assign(l,{...s(l),lazy:void 0})})();return rb.set(l,d),d.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:d}}let c=Object.keys(t.lazy),u=[],h;for(let g of c){if(a&&a.includes(g))continue;let d=XT({key:g,route:t,manifest:n,mapRouteProperties:s});d&&(u.push(d),g===e&&(h=d))}let m=u.length>0?Promise.all(u).then(()=>{}):void 0;return m==null||m.catch(()=>{}),h==null||h.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:h}}async function ib(t){let e=t.matches.filter(a=>a.shouldLoad),n={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,l)=>{n[e[l].route.id]=a}),n}async function QR(t){return t.matches.some(e=>e.route.unstable_middleware)?ZT(t,!1,()=>ib(t),(e,n)=>({[n]:{type:"error",result:e}})):ib(t)}async function ZT(t,e,n,s){let{matches:a,request:l,params:c,context:u}=t,h={handlerResult:void 0};try{let m=a.flatMap(d=>d.route.unstable_middleware?d.route.unstable_middleware.map(y=>[d.route.id,y]):[]),g=await WT({request:l,params:c,context:u},m,e,h,n);return e?g:h.handlerResult}catch(m){if(!h.middlewareError)throw m;let g=await s(h.middlewareError.error,h.middlewareError.routeId);return h.handlerResult?Object.assign(h.handlerResult,g):g}}async function WT(t,e,n,s,a,l=0){let{request:c}=t;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let u=e[l];if(!u)return s.handlerResult=await a(),s.handlerResult;let[h,m]=u,g=!1,d,y=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");g=!0,await WT(t,e,n,s,a,l+1)};try{let _=await m({request:t.request,params:t.params,context:t.context},y);return g?_===void 0?d:_:y()}catch(_){throw s.middlewareError?s.middlewareError.error!==_&&(s.middlewareError={routeId:h,error:_}):s.middlewareError={routeId:h,error:_},_}}function JT(t,e,n,s,a){let l=XT({key:"unstable_middleware",route:s.route,manifest:e,mapRouteProperties:t}),c=YR(s.route,er(n.method)?"action":"loader",e,t,a);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function fp(t,e,n,s,a,l,c,u=null){let h=!1,m=JT(t,e,n,s,a);return{...s,_lazyPromises:m,shouldLoad:c,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler(g){return h=!0,u?typeof g=="boolean"?jf(s,{...u,defaultShouldRevalidate:g}):jf(s,u):c},resolve(g){return h||c||g&&n.method==="GET"&&(s.route.lazy||s.route.loader)?ZR({request:n,match:s,lazyHandlerPromise:m==null?void 0:m.handler,lazyRoutePromise:m==null?void 0:m.route,handlerOverride:g,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Oo(t,e,n,s,a,l,c,u=null){return s.map(h=>h.route.id!==a.route.id?{...h,shouldLoad:!1,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler:()=>!1,_lazyPromises:JT(t,e,n,h,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:fp(t,e,n,h,l,c,!0,u))}async function XR(t,e,n,s,a,l){n.some(m=>{var g;return(g=m._lazyPromises)==null?void 0:g.middleware})&&await Promise.all(n.map(m=>{var g;return(g=m._lazyPromises)==null?void 0:g.middleware}));let c={request:e,params:n[0].params,context:a,matches:n},h=await t({...c,fetcherKey:s,unstable_runClientMiddleware:m=>{let g=c;return ZT(g,!1,()=>m({...g,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(d,y)=>({[y]:{type:"error",result:d}}))}});try{await Promise.all(n.flatMap(m=>{var g,d;return[(g=m._lazyPromises)==null?void 0:g.handler,(d=m._lazyPromises)==null?void 0:d.route]}))}catch{}return h}async function ZR({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:a,scopedContext:l}){let c,u,h=er(t.method),m=h?"action":"loader",g=d=>{let y,_=new Promise((R,T)=>y=T);u=()=>y(),t.signal.addEventListener("abort",u);let b=R=>typeof d!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${e.route.id}]`)):d({request:t,params:e.params,context:l},...R!==void 0?[R]:[]),E=(async()=>{try{return{type:"data",result:await(a?a(T=>b(T)):b())}}catch(R){return{type:"error",result:R}}})();return Promise.race([E,_])};try{let d=h?e.route.action:e.route.loader;if(n||s)if(d){let y,[_]=await Promise.all([g(d).catch(b=>{y=b}),n,s]);if(y!==void 0)throw y;c=_}else{await n;let y=h?e.route.action:e.route.loader;if(y)[c]=await Promise.all([g(y),s]);else if(m==="action"){let _=new URL(t.url),b=_.pathname+_.search;throw Sr(405,{method:t.method,pathname:b,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(d)c=await g(d);else{let y=new URL(t.url),_=y.pathname+y.search;throw Sr(404,{pathname:_})}}catch(d){return{type:"error",result:d}}finally{u&&t.signal.removeEventListener("abort",u)}return c}async function WR(t){var s,a,l,c,u,h;let{result:e,type:n}=t;if(tw(e)){let m;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?m=null:m=await e.json():m=await e.text()}catch(g){return{type:"error",error:g}}return n==="error"?{type:"error",error:new kf(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:"data",data:m,statusCode:e.status,headers:e.headers}}return n==="error"?fb(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new kf(((l=e.init)==null?void 0:l.status)||500,void 0,e.data),statusCode:bu(e)?e.status:void 0,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:bu(e)?e.status:void 0}:fb(e)?{type:"data",data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function JR(t,e,n,s,a){let l=t.headers.get("Location");if(Ye(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!ig.test(l)){let c=s.slice(0,s.findIndex(u=>u.route.id===n)+1);l=up(new URL(e.url),c,a,l),t.headers.set("Location",l)}return t}function sb(t,e,n){if(ig.test(t)){let s=t,a=s.startsWith("//")?new URL(e.protocol+s):new URL(s),l=nr(a.pathname,n)!=null;if(a.origin===e.origin&&l)return a.pathname+a.search+a.hash}return t}function Eo(t,e,n,s){let a=t.createURL(ew(e)).toString(),l={signal:n};if(s&&er(s.formMethod)){let{formMethod:c,formEncType:u}=s;l.method=c.toUpperCase(),u==="application/json"?(l.headers=new Headers({"Content-Type":u}),l.body=JSON.stringify(s.json)):u==="text/plain"?l.body=s.text:u==="application/x-www-form-urlencoded"&&s.formData?l.body=hp(s.formData):l.body=s.formData}return new Request(a,l)}function hp(t){let e=new URLSearchParams;for(let[n,s]of t.entries())e.append(n,typeof s=="string"?s:s.name);return e}function ab(t){let e=new FormData;for(let[n,s]of t.entries())e.append(n,s);return e}function ex(t,e,n,s=!1,a=!1){let l={},c=null,u,h=!1,m={},g=n&&Jn(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let y=d.route.id,_=e[y];if(Ye(!Ea(_),"Cannot handle redirect results in processLoaderData"),Jn(_)){let b=_.error;if(g!==void 0&&(b=g,g=void 0),c=c||{},a)c[y]=b;else{let E=ba(t,y);c[E.route.id]==null&&(c[E.route.id]=b)}s||(l[y]=YT),h||(h=!0,u=bu(_.error)?_.error.status:500),_.headers&&(m[y]=_.headers)}else l[y]=_.data,_.statusCode&&_.statusCode!==200&&!h&&(u=_.statusCode),_.headers&&(m[y]=_.headers)}),g!==void 0&&n&&(c={[n[0]]:g},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:c,statusCode:u||200,loaderHeaders:m}}function ob(t,e,n,s,a,l){let{loaderData:c,errors:u}=ex(e,n,s);return a.filter(h=>!h.matches||h.matches.some(m=>m.shouldLoad)).forEach(h=>{let{key:m,match:g,controller:d}=h,y=l[m];if(Ye(y,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(Jn(y)){let _=ba(t.matches,g==null?void 0:g.route.id);u&&u[_.route.id]||(u={...u,[_.route.id]:y.error}),t.fetchers.delete(m)}else if(Ea(y))Ye(!1,"Unhandled fetcher revalidation redirect");else{let _=bs(y.data);t.fetchers.set(m,_)}}),{loaderData:c,errors:u}}function lb(t,e,n,s){let a=Object.entries(e).filter(([,l])=>l!==YT).reduce((l,[c,u])=>(l[c]=u,l),{});for(let l of n){let c=l.route.id;if(!e.hasOwnProperty(c)&&t.hasOwnProperty(c)&&l.route.loader&&(a[c]=t[c]),s&&s.hasOwnProperty(c))break}return a}function ub(t){return t?Jn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ba(t,e){return(e?t.slice(0,t.findIndex(s=>s.route.id===e)+1):[...t]).reverse().find(s=>s.route.hasErrorBoundary===!0)||t[0]}function cb(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Sr(t,{pathname:e,routeId:n,method:s,type:a,message:l}={}){let c="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(c="Bad Request",s&&e&&n?u=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(u="Unable to encode submission body")):t===403?(c="Forbidden",u=`Route "${n}" does not match URL "${e}"`):t===404?(c="Not Found",u=`No route matches URL "${e}"`):t===405&&(c="Method Not Allowed",s&&e&&n?u=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(u=`Invalid request method "${s.toUpperCase()}"`)),new kf(t||500,c,new Error(u),!0)}function cf(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[s,a]=e[n];if(Ea(a))return{key:s,result:a}}}function ew(t){let e=typeof t=="string"?Fi(t):t;return Ds({...e,hash:""})}function tx(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function nx(t){return tw(t.result)&&zR.has(t.result.status)}function Jn(t){return t.type==="error"}function Ea(t){return(t&&t.type)==="redirect"}function fb(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function tw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function rx(t){return UR.has(t.toUpperCase())}function er(t){return kR.has(t.toUpperCase())}function sg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function su(t,e){let n=typeof e=="string"?Fi(e).search:e.search;if(t[t.length-1].route.index&&sg(n||""))return t[t.length-1];let s=HT(t);return s[s.length-1]}function hb(t){let{formMethod:e,formAction:n,formEncType:s,text:a,formData:l,json:c}=t;if(!(!e||!n||!s)){if(a!=null)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:void 0,text:a};if(l!=null)return{formMethod:e,formAction:n,formEncType:s,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:c,text:void 0}}}function zm(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ix(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function tu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function sx(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function bs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ax(t,e){try{let n=t.sessionStorage.getItem(KT);if(n){let s=JSON.parse(n);for(let[a,l]of Object.entries(s||{}))l&&Array.isArray(l)&&e.set(a,new Set(l||[]))}}catch{}}function ox(t,e){if(e.size>0){let n={};for(let[s,a]of e)n[s]=[...a];try{t.sessionStorage.setItem(KT,JSON.stringify(n))}catch(s){Mt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function lx(){let t,e,n=new Promise((s,a)=>{t=async l=>{s(l);try{await n}catch{}},e=async l=>{a(l);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Ma=H.createContext(null);Ma.displayName="DataRouter";var Fo=H.createContext(null);Fo.displayName="DataRouterState";var ag=H.createContext({isTransitioning:!1});ag.displayName="ViewTransition";var nw=H.createContext(new Map);nw.displayName="Fetchers";var ux=H.createContext(null);ux.displayName="Await";var rr=H.createContext(null);rr.displayName="Navigation";var uh=H.createContext(null);uh.displayName="Location";var Pr=H.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var og=H.createContext(null);og.displayName="RouteError";function cx(t,{relative:e}={}){Ye(qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(rr),{hash:a,pathname:l,search:c}=ku(t,{relative:e}),u=l;return n!=="/"&&(u=l==="/"?n:ri([n,l])),s.createHref({pathname:u,search:c,hash:a})}function qo(){return H.useContext(uh)!=null}function fi(){return Ye(qo(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(uh).location}var rw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iw(t){H.useContext(rr).static||H.useLayoutEffect(t)}function ch(){let{isDataRoute:t}=H.useContext(Pr);return t?Ax():fx()}function fx(){Ye(qo(),"useNavigate() may be used only in the context of a <Router> component.");let t=H.useContext(Ma),{basename:e,navigator:n}=H.useContext(rr),{matches:s}=H.useContext(Pr),{pathname:a}=fi(),l=JSON.stringify(oh(s)),c=H.useRef(!1);return iw(()=>{c.current=!0}),H.useCallback((h,m={})=>{if(Mt(c.current,rw),!c.current)return;if(typeof h=="number"){n.go(h);return}let g=lh(h,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ri([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,a,t])}var hx=H.createContext(null);function dx(t){let e=H.useContext(Pr).outlet;return e&&H.createElement(hx.Provider,{value:t},e)}function ku(t,{relative:e}={}){let{matches:n}=H.useContext(Pr),{pathname:s}=fi(),a=JSON.stringify(oh(n));return H.useMemo(()=>lh(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function mx(t,e,n,s){Ye(qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=H.useContext(rr),{matches:c}=H.useContext(Pr),u=c[c.length-1],h=u?u.params:{},m=u?u.pathname:"/",g=u?u.pathnameBase:"/",d=u&&u.route;{let A=d&&d.path||"";aw(m,!d||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=fi(),_;_=y;let b=_.pathname||"/",E=b;if(g!=="/"){let A=g.replace(/^\//,"").split("/");E="/"+b.replace(/^\//,"").split("/").slice(A.length).join("/")}let R=!l&&n&&n.matches&&n.matches.length>0?n.matches:Ts(t,{pathname:E});return Mt(d||R!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Mt(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),_x(R&&R.map(A=>Object.assign({},A,{params:Object.assign({},h,A.params),pathname:ri([g,a.encodeLocation?a.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?g:ri([g,a.encodeLocation?a.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),c,n,s)}function px(){let t=Sx(),e=bu(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:l},"ErrorBoundary")," or"," ",H.createElement("code",{style:l},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:a},n):null,c)}var gx=H.createElement(px,null),yx=class extends H.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?H.createElement(Pr.Provider,{value:this.props.routeContext},H.createElement(og.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vx({routeContext:t,match:e,children:n}){let s=H.useContext(Ma);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Pr.Provider,{value:t},n)}function _x(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let h=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Ye(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:g,errors:d}=n,y=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!d||d[m.route.id]===void 0);if(m.route.lazy||y){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,m,g)=>{let d,y=!1,_=null,b=null;n&&(d=l&&m.route.id?l[m.route.id]:void 0,_=m.route.errorElement||gx,c&&(u<0&&g===0?(aw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,b=null):u===g&&(y=!0,b=m.route.hydrateFallbackElement||null)));let E=e.concat(a.slice(0,g+1)),R=()=>{let T;return d?T=_:y?T=b:m.route.Component?T=H.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=h,H.createElement(vx,{match:m,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:T})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?H.createElement(yx,{location:n.location,revalidation:n.revalidation,component:_,error:d,children:R(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):R()},null)}function lg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bx(t){let e=H.useContext(Ma);return Ye(e,lg(t)),e}function ug(t){let e=H.useContext(Fo);return Ye(e,lg(t)),e}function Ex(t){let e=H.useContext(Pr);return Ye(e,lg(t)),e}function cg(t){let e=Ex(t),n=e.matches[e.matches.length-1];return Ye(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Tx(){return cg("useRouteId")}function wx(){return ug("useNavigation").navigation}function sw(){let{matches:t,loaderData:e}=ug("useMatches");return H.useMemo(()=>t.map(n=>BT(n,e)),[t,e])}function Sx(){var s;let t=H.useContext(og),e=ug("useRouteError"),n=cg("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function Ax(){let{router:t}=bx("useNavigate"),e=cg("useNavigate"),n=H.useRef(!1);return iw(()=>{n.current=!0}),H.useCallback(async(a,l={})=>{Mt(n.current,rw),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var db={};function aw(t,e,n){!e&&!db[t]&&(db[t]=!0,Mt(!1,n))}var mb={};function pb(t,e){!t&&!mb[e]&&(mb[e]=!0,console.warn(e))}function Rx(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Mt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:H.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Mt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:H.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Mt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:H.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var xx=["HydrateFallback","hydrateFallbackElement"],Cx=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",n(s))}})}};function Dx({router:t,flushSync:e}){let[n,s]=H.useState(t.state),[a,l]=H.useState(),[c,u]=H.useState({isTransitioning:!1}),[h,m]=H.useState(),[g,d]=H.useState(),[y,_]=H.useState(),b=H.useRef(new Map),E=H.useCallback((x,{deletedFetchers:I,flushSync:N,viewTransitionOpts:L})=>{x.fetchers.forEach((S,C)=>{S.data!==void 0&&b.current.set(C,S.data)}),I.forEach(S=>b.current.delete(S)),pb(N===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(pb(L==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!O){e&&N?e(()=>s(x)):H.startTransition(()=>s(x));return}if(e&&N){e(()=>{g&&(h&&h.resolve(),g.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let S=t.window.document.startViewTransition(()=>{e(()=>s(x))});S.finished.finally(()=>{e(()=>{m(void 0),d(void 0),l(void 0),u({isTransitioning:!1})})}),e(()=>d(S));return}g?(h&&h.resolve(),g.skipTransition(),_({state:x,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(l(x),u({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[t.window,e,g,h]);H.useLayoutEffect(()=>t.subscribe(E),[t,E]),H.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new Cx)},[c]),H.useEffect(()=>{if(h&&a&&t.window){let x=a,I=h.promise,N=t.window.document.startViewTransition(async()=>{H.startTransition(()=>s(x)),await I});N.finished.finally(()=>{m(void 0),d(void 0),l(void 0),u({isTransitioning:!1})}),d(N)}},[a,h,t.window]),H.useEffect(()=>{h&&a&&n.location.key===a.location.key&&h.resolve()},[h,g,n.location,a]),H.useEffect(()=>{!c.isTransitioning&&y&&(l(y.state),u({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),_(void 0))},[c.isTransitioning,y]);let R=H.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:x=>t.navigate(x),push:(x,I,N)=>t.navigate(x,{state:I,preventScrollReset:N==null?void 0:N.preventScrollReset}),replace:(x,I,N)=>t.navigate(x,{replace:!0,state:I,preventScrollReset:N==null?void 0:N.preventScrollReset})}),[t]),T=t.basename||"/",A=H.useMemo(()=>({router:t,navigator:R,static:!1,basename:T}),[t,R,T]);return H.createElement(H.Fragment,null,H.createElement(Ma.Provider,{value:A},H.createElement(Fo.Provider,{value:n},H.createElement(nw.Provider,{value:b.current},H.createElement(ag.Provider,{value:c},H.createElement(Nx,{basename:T,location:n.location,navigationType:n.historyAction,navigator:R},H.createElement(Mx,{routes:t.routes,future:t.future,state:n})))))),null)}var Mx=H.memo(Ox);function Ox({routes:t,future:e,state:n}){return mx(t,void 0,n,e)}function Vx({to:t,replace:e,state:n,relative:s}){Ye(qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=H.useContext(rr);Mt(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=H.useContext(Pr),{pathname:c}=fi(),u=ch(),h=lh(t,oh(l),c,s==="path"),m=JSON.stringify(h);return H.useEffect(()=>{u(JSON.parse(m),{replace:e,state:n,relative:s})},[u,m,s,e,n]),null}function Ix(t){return dx(t.context)}function Nx({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){Ye(!qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=H.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=Fi(n));let{pathname:h="/",search:m="",hash:g="",state:d=null,key:y="default"}=n,_=H.useMemo(()=>{let b=nr(h,c);return b==null?null:{location:{pathname:b,search:m,hash:g,state:d,key:y},navigationType:s}},[c,h,m,g,d,y,s]);return Mt(_!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:H.createElement(rr.Provider,{value:u},H.createElement(uh.Provider,{children:e,value:_}))}var wf="get",Sf="application/x-www-form-urlencoded";function fh(t){return t!=null&&typeof t.tagName=="string"}function Px(t){return fh(t)&&t.tagName.toLowerCase()==="button"}function Lx(t){return fh(t)&&t.tagName.toLowerCase()==="form"}function kx(t){return fh(t)&&t.tagName.toLowerCase()==="input"}function jx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ux(t,e){return t.button===0&&(!e||e==="_self")&&!jx(t)}var ff=null;function zx(){if(ff===null)try{new FormData(document.createElement("form"),0),ff=!1}catch{ff=!0}return ff}var $x=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $m(t){return t!=null&&!$x.has(t)?(Mt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sf}"`),null):t}function Bx(t,e){let n,s,a,l,c;if(Lx(t)){let u=t.getAttribute("action");s=u?nr(u,e):null,n=t.getAttribute("method")||wf,a=$m(t.getAttribute("enctype"))||Sf,l=new FormData(t)}else if(Px(t)||kx(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(s=h?nr(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||wf,a=$m(t.getAttribute("formenctype"))||$m(u.getAttribute("enctype"))||Sf,l=new FormData(u,t),!zx()){let{name:m,type:g,value:d}=t;if(g==="image"){let y=m?`${m}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else m&&l.append(m,d)}}else{if(fh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wf,s=null,a=Sf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}function fg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Fx(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qx(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Hx(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await Fx(l,n);return c.links?c.links():[]}return[]}));return Qx(s.flat(1).filter(qx).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function gb(t,e,n,s,a,l){let c=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,u=(h,m)=>{var g;return n[m].pathname!==h.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,m)=>c(h,m)||u(h,m)):l==="data"?e.filter((h,m)=>{var d;let g=s.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,m)||u(h,m))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Gx(t,e,{includeHydrateFallback:n}={}){return Kx(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Kx(t){return[...new Set(t)]}function Yx(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function Qx(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(Yx(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}var Xx=new Set([100,101,204,205]);function Zx(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&nr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function ow(){let t=H.useContext(Ma);return fg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Wx(){let t=H.useContext(Fo);return fg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var hh=H.createContext(void 0);hh.displayName="FrameworkContext";function lw(){let t=H.useContext(hh);return fg(t,"You must render this element inside a <HydratedRouter> element"),t}function Jx(t,e){let n=H.useContext(hh),[s,a]=H.useState(!1),[l,c]=H.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:m,onMouseLeave:g,onTouchStart:d}=e,y=H.useRef(null);H.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let E=T=>{T.forEach(A=>{c(A.isIntersecting)})},R=new IntersectionObserver(E,{threshold:.5});return y.current&&R.observe(y.current),()=>{R.disconnect()}}},[t]),H.useEffect(()=>{if(s){let E=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(E)}}},[s]);let _=()=>{a(!0)},b=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,y,{}]:[l,y,{onFocus:nu(u,_),onBlur:nu(h,b),onMouseEnter:nu(m,_),onMouseLeave:nu(g,b),onTouchStart:nu(d,_)}]:[!1,y,{}]}function nu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function eC({page:t,...e}){let{router:n}=ow(),s=H.useMemo(()=>Ts(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?H.createElement(nC,{page:t,matches:s,...e}):null}function tC(t){let{manifest:e,routeModules:n}=lw(),[s,a]=H.useState([]);return H.useEffect(()=>{let l=!1;return Hx(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function nC({page:t,matches:e,...n}){let s=fi(),{manifest:a,routeModules:l}=lw(),{basename:c}=ow(),{loaderData:u,matches:h}=Wx(),m=H.useMemo(()=>gb(t,e,h,a,s,"data"),[t,e,h,a,s]),g=H.useMemo(()=>gb(t,e,h,a,s,"assets"),[t,e,h,a,s]),d=H.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let b=new Set,E=!1;if(e.forEach(T=>{var x;let A=a.routes[T.route.id];!A||!A.hasLoader||(!m.some(I=>I.route.id===T.route.id)&&T.route.id in u&&((x=l[T.route.id])!=null&&x.shouldRevalidate)||A.hasClientLoader?E=!0:b.add(T.route.id))}),b.size===0)return[];let R=Zx(t,c);return E&&b.size>0&&R.searchParams.set("_routes",e.filter(T=>b.has(T.route.id)).map(T=>T.route.id).join(",")),[R.pathname+R.search]},[c,u,s,a,m,e,t,l]),y=H.useMemo(()=>Gx(g,a),[g,a]),_=tC(g);return H.createElement(H.Fragment,null,d.map(b=>H.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),y.map(b=>H.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),_.map(({key:b,link:E})=>H.createElement("link",{key:b,...E})))}function rC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var uw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uw&&(window.__reactRouterVersion="7.5.3")}catch{}function iC(t,e){return qR({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:hR({window:e==null?void 0:e.window}),hydrationData:sC(),routes:t,mapRouteProperties:Rx,hydrationRouteProperties:xx,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function sC(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:aC(t.errors)}),t}function aC(t){if(!t)return null;let e=Object.entries(t),n={};for(let[s,a]of e)if(a&&a.__type==="RouteErrorResponse")n[s]=new kf(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let l=window[a.__subType];if(typeof l=="function")try{let c=new l(a.message);c.stack="",n[s]=c}catch{}}if(n[s]==null){let l=new Error(a.message);l.stack="",n[s]=l}}else n[s]=a;return n}var cw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ju=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:u,target:h,to:m,preventScrollReset:g,viewTransition:d,...y},_){let{basename:b}=H.useContext(rr),E=typeof m=="string"&&cw.test(m),R,T=!1;if(typeof m=="string"&&E&&(R=m,uw))try{let C=new URL(window.location.href),M=m.startsWith("//")?new URL(C.protocol+m):new URL(m),k=nr(M.pathname,b);M.origin===C.origin&&k!=null?m=k+M.search+M.hash:T=!0}catch{Mt(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=cx(m,{relative:a}),[x,I,N]=Jx(s,y),L=cC(m,{replace:c,state:u,target:h,preventScrollReset:g,relative:a,viewTransition:d});function O(C){e&&e(C),C.defaultPrevented||L(C)}let S=H.createElement("a",{...y,...N,href:R||A,onClick:T||l?e:O,ref:rC(_,I),target:h,"data-discover":!E&&n==="render"?"true":void 0});return x&&!E?H.createElement(H.Fragment,null,S,H.createElement(eC,{page:A})):S});ju.displayName="Link";var oC=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:u,children:h,...m},g){let d=ku(c,{relative:m.relative}),y=fi(),_=H.useContext(Fo),{navigator:b,basename:E}=H.useContext(rr),R=_!=null&&yC(d)&&u===!0,T=b.encodeLocation?b.encodeLocation(d).pathname:d.pathname,A=y.pathname,x=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(A=A.toLowerCase(),x=x?x.toLowerCase():null,T=T.toLowerCase()),x&&E&&(x=nr(x,E)||x);const I=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let N=A===T||!a&&A.startsWith(T)&&A.charAt(I)==="/",L=x!=null&&(x===T||!a&&x.startsWith(T)&&x.charAt(T.length)==="/"),O={isActive:N,isPending:L,isTransitioning:R},S=N?e:void 0,C;typeof s=="function"?C=s(O):C=[s,N?"active":null,L?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(O):l;return H.createElement(ju,{...m,"aria-current":S,className:C,ref:g,style:M,to:c,viewTransition:u},typeof h=="function"?h(O):h)});oC.displayName="NavLink";var lC=H.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=wf,action:u,onSubmit:h,relative:m,preventScrollReset:g,viewTransition:d,...y},_)=>{let b=dC(),E=mC(u,{relative:m}),R=c.toLowerCase()==="get"?"get":"post",T=typeof u=="string"&&cw.test(u),A=x=>{if(h&&h(x),x.defaultPrevented)return;x.preventDefault();let I=x.nativeEvent.submitter,N=(I==null?void 0:I.getAttribute("formmethod"))||c;b(I||x.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:a,state:l,relative:m,preventScrollReset:g,viewTransition:d})};return H.createElement("form",{ref:_,method:R,action:E,onSubmit:s?h:A,...y,"data-discover":!T&&t==="render"?"true":void 0})});lC.displayName="Form";function fw({getKey:t,storageKey:e,...n}){let s=H.useContext(hh),{basename:a}=H.useContext(rr),l=fi(),c=sw();pC({getKey:t,storageKey:e});let u=H.useMemo(()=>{if(!s||!t)return null;let m=mp(l,c,a,t);return m!==l.key?m:null},[]);if(!s||s.isSpaMode)return null;let h=((m,g)=>{if(!window.history.state||!window.history.state.key){let d=Math.random().toString(32).slice(2);window.history.replaceState({key:d},"")}try{let y=JSON.parse(sessionStorage.getItem(m)||"{}")[g||window.history.state.key];typeof y=="number"&&window.scrollTo(0,y)}catch(d){console.error(d),sessionStorage.removeItem(m)}}).toString();return H.createElement("script",{...n,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${h})(${JSON.stringify(e||dp)}, ${JSON.stringify(u)})`}})}fw.displayName="ScrollRestoration";function hw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hg(t){let e=H.useContext(Ma);return Ye(e,hw(t)),e}function uC(t){let e=H.useContext(Fo);return Ye(e,hw(t)),e}function cC(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let u=ch(),h=fi(),m=ku(t,{relative:l});return H.useCallback(g=>{if(Ux(g,e)){g.preventDefault();let d=n!==void 0?n:Ds(h)===Ds(m);u(t,{replace:d,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[h,u,m,n,s,e,t,a,l,c])}var fC=0,hC=()=>`__${String(++fC)}__`;function dC(){let{router:t}=hg("useSubmit"),{basename:e}=H.useContext(rr),n=Tx();return H.useCallback(async(s,a={})=>{let{action:l,method:c,encType:u,formData:h,body:m}=Bx(s,e);if(a.navigate===!1){let g=a.fetcherKey||hC();await t.fetch(g,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:m,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:m,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function mC(t,{relative:e}={}){let{basename:n}=H.useContext(rr),s=H.useContext(Pr);Ye(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...ku(t||".",{relative:e})},c=fi();if(t==null){l.search=c.search;let u=new URLSearchParams(l.search),h=u.getAll("index");if(h.some(g=>g==="")){u.delete("index"),h.filter(d=>d).forEach(d=>u.append("index",d));let g=u.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ri([n,l.pathname])),Ds(l)}var dp="react-router-scroll-positions",hf={};function mp(t,e,n,s){let a=null;return s&&(n!=="/"?a=s({...t,pathname:nr(t.pathname,n)||t.pathname},e):a=s(t,e)),a==null&&(a=t.key),a}function pC({getKey:t,storageKey:e}={}){let{router:n}=hg("useScrollRestoration"),{restoreScrollPosition:s,preventScrollReset:a}=uC("useScrollRestoration"),{basename:l}=H.useContext(rr),c=fi(),u=sw(),h=wx();H.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),gC(H.useCallback(()=>{if(h.state==="idle"){let m=mp(c,u,l,t);hf[m]=window.scrollY}try{sessionStorage.setItem(e||dp,JSON.stringify(hf))}catch(m){Mt(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${m}).`)}window.history.scrollRestoration="auto"},[h.state,t,l,c,u,e])),typeof document<"u"&&(H.useLayoutEffect(()=>{try{let m=sessionStorage.getItem(e||dp);m&&(hf=JSON.parse(m))}catch{}},[e]),H.useLayoutEffect(()=>{let m=n==null?void 0:n.enableScrollRestoration(hf,()=>window.scrollY,t?(g,d)=>mp(g,d,l,t):void 0);return()=>m&&m()},[n,l,t]),H.useLayoutEffect(()=>{if(s!==!1){if(typeof s=="number"){window.scrollTo(0,s);return}if(c.hash){let m=document.getElementById(decodeURIComponent(c.hash.slice(1)));if(m){m.scrollIntoView();return}}a!==!0&&window.scrollTo(0,0)}},[c,s,a]))}function gC(t,e){let{capture:n}={};H.useEffect(()=>{let s=n!=null?{capture:n}:void 0;return window.addEventListener("pagehide",t,s),()=>{window.removeEventListener("pagehide",t,s)}},[t,n])}function yC(t,e={}){let n=H.useContext(ag);Ye(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=hg("useViewTransitionState"),a=ku(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=nr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=nr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Lf(a.pathname,c)!=null||Lf(a.pathname,l)!=null}new TextEncoder;[...Xx];const vC="/riffrack/assets/logo-white-D6POMV_6.svg",_C="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.7713%205.72691C13.7713%205.97254%2013.7713%206.77312%2013.7713%207.91049H17.6818L17.2579%2011.3964H13.7713C13.7713%2016.7724%2013.7713%2023.9765%2013.7713%2023.9765H9.14357C9.14357%2023.9765%209.14357%2016.8678%209.14357%2011.3964H6.73218V7.91049H9.14357C9.14357%206.52805%209.14357%205.54504%209.14357%205.27134C9.14357%203.96727%209.04532%203.34852%209.59943%202.33799C10.1538%201.32751%2011.7176%20-0.00814899%2014.4222%200.0240073C17.1275%200.0573354%2018.2678%200.317585%2018.2678%200.317585L17.6818%204.03276C17.6818%204.03276%2015.9544%203.57662%2015.1064%203.73918C14.2596%203.90179%2013.7713%204.42341%2013.7713%205.72691Z'%20fill='white'/%3e%3c/svg%3e",bC="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_2_64)'%3e%3cpath%20d='M14.7343%2010.1625L23.4766%200H21.4048L13.814%208.82375L7.751%200H0.758003L9.92638%2013.3433L0.758003%2024H2.82988L10.8463%2014.6818L17.249%2024H24.242L14.7337%2010.1625H14.7343ZM11.8966%2013.4606L10.9676%2012.132L3.57632%201.55962H6.75857L12.7231%2010.092L13.652%2011.4206L21.4057%2022.5112H18.2238L11.8966%2013.4612V13.4606Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_2_64'%3e%3crect%20width='24'%20height='24'%20fill='white'%20transform='translate(0.5)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",EC="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.3254%205.037C17.3364%203.88716%2016.8182%202.40156%2016.8595%200.889085L13.1638%200.799805C13.1638%200.799805%2013.1638%200.957485%2013.1638%201.17012V15.9904C13.2154%2020.679%205.80751%2020.5652%206.39359%2015.3827C6.75191%2013.322%208.96615%2012.0539%2010.9337%2012.7708V8.99988C6.65015%208.25396%202.59079%2011.6634%202.63351%2016.0069C3.00791%2025.4269%2016.519%2025.4281%2016.8938%2016.0069C16.7995%2015.6697%2016.8523%209.39229%2016.8389%208.86285C18.5194%209.90853%2020.4746%2010.4312%2022.4549%2010.3643V6.4698C20.6242%206.4698%2019.2271%205.98308%2018.3254%205.037Z'%20fill='white'/%3e%3c/svg%3e",TC="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.5%2022C10.3558%2022%208.81273%2021.9989%207.6097%2021.8823C6.42045%2021.767%205.6597%2021.5455%205.05258%2021.1639C4.35868%2020.728%203.77192%2020.1413%203.33591%2019.4474C2.95455%2018.8403%202.73288%2018.0795%202.61773%2016.8903C2.50106%2015.6873%202.5%2014.1442%202.5%2012C2.5%209.85576%202.50106%208.31273%202.61773%207.1097C2.73288%205.92045%202.95455%205.1597%203.33591%204.55258C3.7719%203.85866%204.35866%203.2719%205.05258%202.83591C5.6597%202.45455%206.42045%202.23288%207.6097%202.11773C8.81258%202.00106%2010.3556%202%2012.5%202C14.6442%202%2016.1873%202.00106%2017.3903%202.11773C18.5795%202.23288%2019.3403%202.45455%2019.9474%202.83591C20.6413%203.27192%2021.228%203.85868%2021.6639%204.55258C22.0455%205.1597%2022.267%205.92045%2022.3823%207.1097C22.4989%208.31273%2022.5%209.85576%2022.5%2012C22.5%2014.1442%2022.4989%2015.6873%2022.3823%2016.8903C22.267%2018.0795%2022.0455%2018.8403%2021.6639%2019.4474C21.228%2020.1413%2020.6413%2020.728%2019.9474%2021.1639C19.3403%2021.5455%2018.5795%2021.767%2017.3903%2021.8823C16.1873%2021.9989%2014.6442%2022%2012.5%2022Z'%20fill='white'%20stroke='white'%20stroke-width='2'/%3e%3cpath%20d='M12.5%2017C14.7091%2017%2016.5%2015.2091%2016.5%2013C16.5%2010.7909%2014.7091%209%2012.5%209C10.2909%209%208.5%2010.7909%208.5%2013C8.5%2015.2091%2010.2909%2017%2012.5%2017Z'%20fill='white'%20stroke='black'%20stroke-width='2'/%3e%3cpath%20d='M17.375%208.25C17.9963%208.25%2018.5%207.74632%2018.5%207.125C18.5%206.50368%2017.9963%206%2017.375%206C16.7537%206%2016.25%206.50368%2016.25%207.125C16.25%207.74632%2016.7537%208.25%2017.375%208.25Z'%20fill='black'/%3e%3c/svg%3e",wC=()=>Y.jsxs("footer",{children:[Y.jsx("img",{className:"footer-logo",src:vC,alt:"Riff Raff Logo"}),Y.jsx("p",{children:"Your one stop shop for all your musical needs"}),Y.jsxs("div",{className:"footer-socials",children:[Y.jsx("a",{className:"social-link",href:"https://www.facebook.com",target:"_blank",rel:"noopener noreferrer",children:Y.jsx("img",{src:_C,alt:"facebook link"})}),Y.jsx("a",{className:"social-link",href:"https://www.tiktok.com",target:"_blank",rel:"noopener noreferrer",children:Y.jsx("img",{src:EC,alt:"tiktok link"})}),Y.jsx("a",{className:"social-link",href:"https://www.twitter.com",target:"_blank",rel:"noopener noreferrer",children:Y.jsx("img",{src:bC,alt:"twitter link"})}),Y.jsx("a",{className:"social-link",href:"https://www.instagram.com",target:"_blank",rel:"noopener noreferrer",children:Y.jsx("img",{src:TC,alt:"instagram link"})})]}),Y.jsx(ju,{to:"/login",onClick:()=>window.scrollTo(0,0),children:"Admin"})]}),yb=t=>{let e;const n=new Set,s=(m,g)=>{const d=typeof m=="function"?m(e):m;if(!Object.is(d,e)){const y=e;e=g??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(_=>_(e,y))}},a=()=>e,u={setState:s,getState:a,getInitialState:()=>h,subscribe:m=>(n.add(m),()=>n.delete(m))},h=e=t(s,a,u);return u},SC=t=>t?yb(t):yb,AC=t=>t;function RC(t,e=AC){const n=$_.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return $_.useDebugValue(n),n}const vb=t=>{const e=SC(t),n=s=>RC(e,s);return Object.assign(n,e),n},dg=t=>t?vb(t):vb,xC=()=>{};var _b={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},CC=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],u=t[n++],h=((a&7)<<18|(l&63)<<12|(c&63)<<6|u&63)-65536;e[s++]=String.fromCharCode(55296+(h>>10)),e[s++]=String.fromCharCode(56320+(h&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},mw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,u=c?t[a+1]:0,h=a+2<t.length,m=h?t[a+2]:0,g=l>>2,d=(l&3)<<4|u>>4;let y=(u&15)<<2|m>>6,_=m&63;h||(_=64,c||(y=64)),s.push(n[g],n[d],n[y],n[_])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],u=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const d=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||u==null||m==null||d==null)throw new DC;const y=l<<2|u>>4;if(s.push(y),m!==64){const _=u<<4&240|m>>2;if(s.push(_),d!==64){const b=m<<6&192|d;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MC=function(t){const e=dw(t);return mw.encodeByteArray(e,!0)},Uf=function(t){return MC(t).replace(/\./g,"")},OC=function(t){try{return mw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=()=>VC().__FIREBASE_DEFAULTS__,NC=()=>{if(typeof process>"u"||typeof _b>"u")return;const t=_b.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OC(t[1]);return e&&JSON.parse(e)},mg=()=>{try{return xC()||IC()||NC()||PC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LC=t=>{var e,n;return(n=(e=mg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kC=t=>{const e=LC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},pw=()=>{var t;return(t=mg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Uf(JSON.stringify(n)),Uf(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $C(){var t;const e=(t=mg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BC(){return!$C()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FC(){try{return typeof indexedDB=="object"}catch{return!1}}function qC(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="FirebaseError";class Ho extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=HC,Object.setPrototypeOf(this,Ho.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gw.prototype.create)}}class gw{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?GC(l,s):"Error",u=`${this.serviceName}: ${c} (${a}).`;return new Ho(a,u,s)}}function GC(t,e){return t.replace(KC,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const KC=/\{\$([^}]+)}/g;function zf(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(bb(l)&&bb(c)){if(!zf(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function bb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(t){return t&&t._delegate?t._delegate:t}class Eu{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new jC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XC(e))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=va){return this.instances.has(e)}getOptions(e=va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(l);s===u&&c.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:QC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=va){return this.component?this.component.multipleInstances?e:va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QC(t){return t===va?void 0:t}function XC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const WC={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},JC=at.INFO,eD={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},tD=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=eD[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yw{constructor(e){this.name=e,this._logLevel=JC,this._logHandler=tD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const nD=(t,e)=>e.some(n=>t instanceof n);let Eb,Tb;function rD(){return Eb||(Eb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iD(){return Tb||(Tb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vw=new WeakMap,pp=new WeakMap,_w=new WeakMap,Bm=new WeakMap,pg=new WeakMap;function sD(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Ss(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&vw.set(n,t)}).catch(()=>{}),pg.set(e,t),e}function aD(t){if(pp.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});pp.set(t,e)}let gp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_w.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ss(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oD(t){gp=t(gp)}function lD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Fm(this),e,...n);return _w.set(s,e.sort?e.sort():[e]),Ss(s)}:iD().includes(t)?function(...e){return t.apply(Fm(this),e),Ss(vw.get(this))}:function(...e){return Ss(t.apply(Fm(this),e))}}function uD(t){return typeof t=="function"?lD(t):(t instanceof IDBTransaction&&aD(t),nD(t,rD())?new Proxy(t,gp):t)}function Ss(t){if(t instanceof IDBRequest)return sD(t);if(Bm.has(t))return Bm.get(t);const e=uD(t);return e!==t&&(Bm.set(t,e),pg.set(e,t)),e}const Fm=t=>pg.get(t);function cD(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),u=Ss(c);return s&&c.addEventListener("upgradeneeded",h=>{s(Ss(c.result),h.oldVersion,h.newVersion,Ss(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{l&&h.addEventListener("close",()=>l()),a&&h.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const fD=["get","getKey","getAll","getAllKeys","count"],hD=["put","add","delete","clear"],qm=new Map;function wb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qm.get(e))return qm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=hD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||fD.includes(n)))return;const l=async function(c,...u){const h=this.transaction(c,a?"readwrite":"readonly");let m=h.store;return s&&(m=m.index(u.shift())),(await Promise.all([m[n](...u),a&&h.done]))[0]};return qm.set(e,l),l}oD(t=>({...t,get:(e,n,s)=>wb(e,n)||t.get(e,n,s),has:(e,n)=>!!wb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function mD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yp="@firebase/app",Sb="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new yw("@firebase/app"),pD="@firebase/app-compat",gD="@firebase/analytics-compat",yD="@firebase/analytics",vD="@firebase/app-check-compat",_D="@firebase/app-check",bD="@firebase/auth",ED="@firebase/auth-compat",TD="@firebase/database",wD="@firebase/data-connect",SD="@firebase/database-compat",AD="@firebase/functions",RD="@firebase/functions-compat",xD="@firebase/installations",CD="@firebase/installations-compat",DD="@firebase/messaging",MD="@firebase/messaging-compat",OD="@firebase/performance",VD="@firebase/performance-compat",ID="@firebase/remote-config",ND="@firebase/remote-config-compat",PD="@firebase/storage",LD="@firebase/storage-compat",kD="@firebase/firestore",jD="@firebase/vertexai",UD="@firebase/firestore-compat",zD="firebase",$D="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="[DEFAULT]",BD={[yp]:"fire-core",[pD]:"fire-core-compat",[yD]:"fire-analytics",[gD]:"fire-analytics-compat",[_D]:"fire-app-check",[vD]:"fire-app-check-compat",[bD]:"fire-auth",[ED]:"fire-auth-compat",[TD]:"fire-rtdb",[wD]:"fire-data-connect",[SD]:"fire-rtdb-compat",[AD]:"fire-fn",[RD]:"fire-fn-compat",[xD]:"fire-iid",[CD]:"fire-iid-compat",[DD]:"fire-fcm",[MD]:"fire-fcm-compat",[OD]:"fire-perf",[VD]:"fire-perf-compat",[ID]:"fire-rc",[ND]:"fire-rc-compat",[PD]:"fire-gcs",[LD]:"fire-gcs-compat",[kD]:"fire-fst",[UD]:"fire-fst-compat",[jD]:"fire-vertex","fire-js":"fire-js",[zD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=new Map,FD=new Map,_p=new Map;function Ab(t,e){try{t.container.addComponent(e)}catch(n){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bf(t){const e=t.name;if(_p.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;_p.set(e,t);for(const n of $f.values())Ab(n,t);for(const n of FD.values())Ab(n,t);return!0}function qD(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function HD(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new gw("app","Firebase",GD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Eu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=$D;function bw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:vp,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw As.create("bad-app-name",{appName:String(a)});if(n||(n=pw()),!n)throw As.create("no-options");const l=$f.get(a);if(l){if(zf(n,l.options)&&zf(s,l.config))return l;throw As.create("duplicate-app",{appName:a})}const c=new ZC(a);for(const h of _p.values())c.addComponent(h);const u=new KD(n,s,c);return $f.set(a,u),u}function QD(t=vp){const e=$f.get(t);if(!e&&t===vp&&pw())return bw();if(!e)throw As.create("no-app",{appName:t});return e}function Vo(t,e,n){var s;let a=(s=BD[t])!==null&&s!==void 0?s:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const u=[`Unable to register library "${a}" with version "${e}":`];l&&u.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(u.join(" "));return}Bf(new Eu(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="firebase-heartbeat-database",ZD=1,Tu="firebase-heartbeat-store";let Hm=null;function Ew(){return Hm||(Hm=cD(XD,ZD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tu)}catch(n){console.warn(n)}}}}).catch(t=>{throw As.create("idb-open",{originalErrorMessage:t.message})})),Hm}async function WD(t){try{const n=(await Ew()).transaction(Tu),s=await n.objectStore(Tu).get(Tw(t));return await n.done,s}catch(e){if(e instanceof Ho)ji.warn(e.message);else{const n=As.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ji.warn(n.message)}}}async function Rb(t,e){try{const s=(await Ew()).transaction(Tu,"readwrite");await s.objectStore(Tu).put(e,Tw(t)),await s.done}catch(n){if(n instanceof Ho)ji.warn(n.message);else{const s=As.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ji.warn(s.message)}}}function Tw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=1024,eM=30;class tM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=xb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>eM){const c=iM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ji.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xb(),{heartbeatsToSend:s,unsentEntries:a}=nM(this._heartbeatsCache.heartbeats),l=Uf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return ji.warn(n),""}}}function xb(){return new Date().toISOString().substring(0,10)}function nM(t,e=JD){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Cb(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Cb(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class rM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FC()?qC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Rb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Rb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Cb(t){return Uf(JSON.stringify({version:2,heartbeats:t})).length}function iM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t){Bf(new Eu("platform-logger",e=>new dD(e),"PRIVATE")),Bf(new Eu("heartbeat",e=>new tM(e),"PRIVATE")),Vo(yp,Sb,t),Vo(yp,Sb,"esm2017"),Vo("fire-js","")}sM("");var Db=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rs,ww;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function C(){}C.prototype=S.prototype,O.D=S.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(M,k,$){for(var U=Array(arguments.length-2),he=2;he<arguments.length;he++)U[he-2]=arguments[he];return S.prototype[k].apply(M,U)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,S,C){C||(C=0);var M=Array(16);if(typeof S=="string")for(var k=0;16>k;++k)M[k]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(k=0;16>k;++k)M[k]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=O.g[0],C=O.g[1],k=O.g[2];var $=O.g[3],U=S+($^C&(k^$))+M[0]+3614090360&4294967295;S=C+(U<<7&4294967295|U>>>25),U=$+(k^S&(C^k))+M[1]+3905402710&4294967295,$=S+(U<<12&4294967295|U>>>20),U=k+(C^$&(S^C))+M[2]+606105819&4294967295,k=$+(U<<17&4294967295|U>>>15),U=C+(S^k&($^S))+M[3]+3250441966&4294967295,C=k+(U<<22&4294967295|U>>>10),U=S+($^C&(k^$))+M[4]+4118548399&4294967295,S=C+(U<<7&4294967295|U>>>25),U=$+(k^S&(C^k))+M[5]+1200080426&4294967295,$=S+(U<<12&4294967295|U>>>20),U=k+(C^$&(S^C))+M[6]+2821735955&4294967295,k=$+(U<<17&4294967295|U>>>15),U=C+(S^k&($^S))+M[7]+4249261313&4294967295,C=k+(U<<22&4294967295|U>>>10),U=S+($^C&(k^$))+M[8]+1770035416&4294967295,S=C+(U<<7&4294967295|U>>>25),U=$+(k^S&(C^k))+M[9]+2336552879&4294967295,$=S+(U<<12&4294967295|U>>>20),U=k+(C^$&(S^C))+M[10]+4294925233&4294967295,k=$+(U<<17&4294967295|U>>>15),U=C+(S^k&($^S))+M[11]+2304563134&4294967295,C=k+(U<<22&4294967295|U>>>10),U=S+($^C&(k^$))+M[12]+1804603682&4294967295,S=C+(U<<7&4294967295|U>>>25),U=$+(k^S&(C^k))+M[13]+4254626195&4294967295,$=S+(U<<12&4294967295|U>>>20),U=k+(C^$&(S^C))+M[14]+2792965006&4294967295,k=$+(U<<17&4294967295|U>>>15),U=C+(S^k&($^S))+M[15]+1236535329&4294967295,C=k+(U<<22&4294967295|U>>>10),U=S+(k^$&(C^k))+M[1]+4129170786&4294967295,S=C+(U<<5&4294967295|U>>>27),U=$+(C^k&(S^C))+M[6]+3225465664&4294967295,$=S+(U<<9&4294967295|U>>>23),U=k+(S^C&($^S))+M[11]+643717713&4294967295,k=$+(U<<14&4294967295|U>>>18),U=C+($^S&(k^$))+M[0]+3921069994&4294967295,C=k+(U<<20&4294967295|U>>>12),U=S+(k^$&(C^k))+M[5]+3593408605&4294967295,S=C+(U<<5&4294967295|U>>>27),U=$+(C^k&(S^C))+M[10]+38016083&4294967295,$=S+(U<<9&4294967295|U>>>23),U=k+(S^C&($^S))+M[15]+3634488961&4294967295,k=$+(U<<14&4294967295|U>>>18),U=C+($^S&(k^$))+M[4]+3889429448&4294967295,C=k+(U<<20&4294967295|U>>>12),U=S+(k^$&(C^k))+M[9]+568446438&4294967295,S=C+(U<<5&4294967295|U>>>27),U=$+(C^k&(S^C))+M[14]+3275163606&4294967295,$=S+(U<<9&4294967295|U>>>23),U=k+(S^C&($^S))+M[3]+4107603335&4294967295,k=$+(U<<14&4294967295|U>>>18),U=C+($^S&(k^$))+M[8]+1163531501&4294967295,C=k+(U<<20&4294967295|U>>>12),U=S+(k^$&(C^k))+M[13]+2850285829&4294967295,S=C+(U<<5&4294967295|U>>>27),U=$+(C^k&(S^C))+M[2]+4243563512&4294967295,$=S+(U<<9&4294967295|U>>>23),U=k+(S^C&($^S))+M[7]+1735328473&4294967295,k=$+(U<<14&4294967295|U>>>18),U=C+($^S&(k^$))+M[12]+2368359562&4294967295,C=k+(U<<20&4294967295|U>>>12),U=S+(C^k^$)+M[5]+4294588738&4294967295,S=C+(U<<4&4294967295|U>>>28),U=$+(S^C^k)+M[8]+2272392833&4294967295,$=S+(U<<11&4294967295|U>>>21),U=k+($^S^C)+M[11]+1839030562&4294967295,k=$+(U<<16&4294967295|U>>>16),U=C+(k^$^S)+M[14]+4259657740&4294967295,C=k+(U<<23&4294967295|U>>>9),U=S+(C^k^$)+M[1]+2763975236&4294967295,S=C+(U<<4&4294967295|U>>>28),U=$+(S^C^k)+M[4]+1272893353&4294967295,$=S+(U<<11&4294967295|U>>>21),U=k+($^S^C)+M[7]+4139469664&4294967295,k=$+(U<<16&4294967295|U>>>16),U=C+(k^$^S)+M[10]+3200236656&4294967295,C=k+(U<<23&4294967295|U>>>9),U=S+(C^k^$)+M[13]+681279174&4294967295,S=C+(U<<4&4294967295|U>>>28),U=$+(S^C^k)+M[0]+3936430074&4294967295,$=S+(U<<11&4294967295|U>>>21),U=k+($^S^C)+M[3]+3572445317&4294967295,k=$+(U<<16&4294967295|U>>>16),U=C+(k^$^S)+M[6]+76029189&4294967295,C=k+(U<<23&4294967295|U>>>9),U=S+(C^k^$)+M[9]+3654602809&4294967295,S=C+(U<<4&4294967295|U>>>28),U=$+(S^C^k)+M[12]+3873151461&4294967295,$=S+(U<<11&4294967295|U>>>21),U=k+($^S^C)+M[15]+530742520&4294967295,k=$+(U<<16&4294967295|U>>>16),U=C+(k^$^S)+M[2]+3299628645&4294967295,C=k+(U<<23&4294967295|U>>>9),U=S+(k^(C|~$))+M[0]+4096336452&4294967295,S=C+(U<<6&4294967295|U>>>26),U=$+(C^(S|~k))+M[7]+1126891415&4294967295,$=S+(U<<10&4294967295|U>>>22),U=k+(S^($|~C))+M[14]+2878612391&4294967295,k=$+(U<<15&4294967295|U>>>17),U=C+($^(k|~S))+M[5]+4237533241&4294967295,C=k+(U<<21&4294967295|U>>>11),U=S+(k^(C|~$))+M[12]+1700485571&4294967295,S=C+(U<<6&4294967295|U>>>26),U=$+(C^(S|~k))+M[3]+2399980690&4294967295,$=S+(U<<10&4294967295|U>>>22),U=k+(S^($|~C))+M[10]+4293915773&4294967295,k=$+(U<<15&4294967295|U>>>17),U=C+($^(k|~S))+M[1]+2240044497&4294967295,C=k+(U<<21&4294967295|U>>>11),U=S+(k^(C|~$))+M[8]+1873313359&4294967295,S=C+(U<<6&4294967295|U>>>26),U=$+(C^(S|~k))+M[15]+4264355552&4294967295,$=S+(U<<10&4294967295|U>>>22),U=k+(S^($|~C))+M[6]+2734768916&4294967295,k=$+(U<<15&4294967295|U>>>17),U=C+($^(k|~S))+M[13]+1309151649&4294967295,C=k+(U<<21&4294967295|U>>>11),U=S+(k^(C|~$))+M[4]+4149444226&4294967295,S=C+(U<<6&4294967295|U>>>26),U=$+(C^(S|~k))+M[11]+3174756917&4294967295,$=S+(U<<10&4294967295|U>>>22),U=k+(S^($|~C))+M[2]+718787259&4294967295,k=$+(U<<15&4294967295|U>>>17),U=C+($^(k|~S))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(k+(U<<21&4294967295|U>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+$&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var C=S-this.blockSize,M=this.B,k=this.h,$=0;$<S;){if(k==0)for(;$<=C;)a(this,O,$),$+=this.blockSize;if(typeof O=="string"){for(;$<S;)if(M[k++]=O.charCodeAt($++),k==this.blockSize){a(this,M),k=0;break}}else for(;$<S;)if(M[k++]=O[$++],k==this.blockSize){a(this,M),k=0;break}}this.h=k,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var C=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=C&255,C/=256;for(this.u(O),O=Array(16),S=C=0;4>S;++S)for(var M=0;32>M;M+=8)O[C++]=this.g[S]>>>M&255;return O};function l(O,S){var C=u;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=S(O)}function c(O,S){this.h=S;for(var C=[],M=!0,k=O.length-1;0<=k;k--){var $=O[k]|0;M&&$==S||(C[k]=$,M=!1)}this.g=C}var u={};function h(O){return-128<=O&&128>O?l(O,function(S){return new c([S|0],0>S?-1:0)}):new c([O|0],0>O?-1:0)}function m(O){if(isNaN(O)||!isFinite(O))return d;if(0>O)return R(m(-O));for(var S=[],C=1,M=0;O>=C;M++)S[M]=O/C|0,C*=4294967296;return new c(S,0)}function g(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return R(g(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(S,8)),M=d,k=0;k<O.length;k+=8){var $=Math.min(8,O.length-k),U=parseInt(O.substring(k,k+$),S);8>$?($=m(Math.pow(S,$)),M=M.j($).add(m(U))):(M=M.j(C),M=M.add(m(U)))}return M}var d=h(0),y=h(1),_=h(16777216);t=c.prototype,t.m=function(){if(E(this))return-R(this).m();for(var O=0,S=1,C=0;C<this.g.length;C++){var M=this.i(C);O+=(0<=M?M:4294967296+M)*S,S*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(b(this))return"0";if(E(this))return"-"+R(this).toString(O);for(var S=m(Math.pow(O,6)),C=this,M="";;){var k=I(C,S).g;C=T(C,k.j(S));var $=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=k,b(C))return $+M;for(;6>$.length;)$="0"+$;M=$+M}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function b(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function E(O){return O.h==-1}t.l=function(O){return O=T(this,O),E(O)?-1:b(O)?0:1};function R(O){for(var S=O.g.length,C=[],M=0;M<S;M++)C[M]=~O.g[M];return new c(C,~O.h).add(y)}t.abs=function(){return E(this)?R(this):this},t.add=function(O){for(var S=Math.max(this.g.length,O.g.length),C=[],M=0,k=0;k<=S;k++){var $=M+(this.i(k)&65535)+(O.i(k)&65535),U=($>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);M=U>>>16,$&=65535,U&=65535,C[k]=U<<16|$}return new c(C,C[C.length-1]&-2147483648?-1:0)};function T(O,S){return O.add(R(S))}t.j=function(O){if(b(this)||b(O))return d;if(E(this))return E(O)?R(this).j(R(O)):R(R(this).j(O));if(E(O))return R(this.j(R(O)));if(0>this.l(_)&&0>O.l(_))return m(this.m()*O.m());for(var S=this.g.length+O.g.length,C=[],M=0;M<2*S;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var k=0;k<O.g.length;k++){var $=this.i(M)>>>16,U=this.i(M)&65535,he=O.i(k)>>>16,ge=O.i(k)&65535;C[2*M+2*k]+=U*ge,A(C,2*M+2*k),C[2*M+2*k+1]+=$*ge,A(C,2*M+2*k+1),C[2*M+2*k+1]+=U*he,A(C,2*M+2*k+1),C[2*M+2*k+2]+=$*he,A(C,2*M+2*k+2)}for(M=0;M<S;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=S;M<2*S;M++)C[M]=0;return new c(C,0)};function A(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function x(O,S){this.g=O,this.h=S}function I(O,S){if(b(S))throw Error("division by zero");if(b(O))return new x(d,d);if(E(O))return S=I(R(O),S),new x(R(S.g),R(S.h));if(E(S))return S=I(O,R(S)),new x(R(S.g),S.h);if(30<O.g.length){if(E(O)||E(S))throw Error("slowDivide_ only works with positive integers.");for(var C=y,M=S;0>=M.l(O);)C=N(C),M=N(M);var k=L(C,1),$=L(M,1);for(M=L(M,2),C=L(C,2);!b(M);){var U=$.add(M);0>=U.l(O)&&(k=k.add(C),$=U),M=L(M,1),C=L(C,1)}return S=T(O,k.j(S)),new x(k,S)}for(k=d;0<=O.l(S);){for(C=Math.max(1,Math.floor(O.m()/S.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),$=m(C),U=$.j(S);E(U)||0<U.l(O);)C-=M,$=m(C),U=$.j(S);b($)&&($=y),k=k.add($),O=T(O,U)}return new x(k,O)}t.A=function(O){return I(this,O).h},t.and=function(O){for(var S=Math.max(this.g.length,O.g.length),C=[],M=0;M<S;M++)C[M]=this.i(M)&O.i(M);return new c(C,this.h&O.h)},t.or=function(O){for(var S=Math.max(this.g.length,O.g.length),C=[],M=0;M<S;M++)C[M]=this.i(M)|O.i(M);return new c(C,this.h|O.h)},t.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),C=[],M=0;M<S;M++)C[M]=this.i(M)^O.i(M);return new c(C,this.h^O.h)};function N(O){for(var S=O.g.length+1,C=[],M=0;M<S;M++)C[M]=O.i(M)<<1|O.i(M-1)>>>31;return new c(C,O.h)}function L(O,S){var C=S>>5;S%=32;for(var M=O.g.length-C,k=[],$=0;$<M;$++)k[$]=0<S?O.i($+C)>>>S|O.i($+C+1)<<32-S:O.i($+C);return new c(k,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ww=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=g,Rs=c}).apply(typeof Db<"u"?Db:typeof self<"u"?self:typeof window<"u"?window:{});var df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sw,au,Aw,Af,bp,Rw,xw,Cw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,D,V){return p==Array.prototype||p==Object.prototype||(p[D]=V.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof df=="object"&&df];for(var D=0;D<p.length;++D){var V=p[D];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var s=n(this);function a(p,D){if(D)e:{var V=s;p=p.split(".");for(var z=0;z<p.length-1;z++){var Z=p[z];if(!(Z in V))break e;V=V[Z]}p=p[p.length-1],z=V[p],D=D(z),D!=z&&D!=null&&e(V,p,{configurable:!0,writable:!0,value:D})}}function l(p,D){p instanceof String&&(p+="");var V=0,z=!1,Z={next:function(){if(!z&&V<p.length){var ie=V++;return{value:D(ie,p[ie]),done:!1}}return z=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}a("Array.prototype.values",function(p){return p||function(){return l(this,function(D,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function h(p){var D=typeof p;return D=D!="object"?D:p?Array.isArray(p)?"array":D:"null",D=="array"||D=="object"&&typeof p.length=="number"}function m(p){var D=typeof p;return D=="object"&&p!=null||D=="function"}function g(p,D,V){return p.call.apply(p.bind,arguments)}function d(p,D,V){if(!p)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,z),p.apply(D,Z)}}return function(){return p.apply(D,arguments)}}function y(p,D,V){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:d,y.apply(null,arguments)}function _(p,D){var V=Array.prototype.slice.call(arguments,1);return function(){var z=V.slice();return z.push.apply(z,arguments),p.apply(this,z)}}function b(p,D){function V(){}V.prototype=D.prototype,p.aa=D.prototype,p.prototype=new V,p.prototype.constructor=p,p.Qb=function(z,Z,ie){for(var ve=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)ve[nt-2]=arguments[nt];return D.prototype[Z].apply(z,ve)}}function E(p){const D=p.length;if(0<D){const V=Array(D);for(let z=0;z<D;z++)V[z]=p[z];return V}return[]}function R(p,D){for(let V=1;V<arguments.length;V++){const z=arguments[V];if(h(z)){const Z=p.length||0,ie=z.length||0;p.length=Z+ie;for(let ve=0;ve<ie;ve++)p[Z+ve]=z[ve]}else p.push(z)}}class T{constructor(D,V){this.i=D,this.j=V,this.h=0,this.g=null}get(){let D;return 0<this.h?(this.h--,D=this.g,this.g=D.next,D.next=null):D=this.i(),D}}function A(p){return/^[\s\xa0]*$/.test(p)}function x(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function I(p){return I[" "](p),p}I[" "]=function(){};var N=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function L(p,D,V){for(const z in p)D.call(V,p[z],z,p)}function O(p,D){for(const V in p)D.call(void 0,p[V],V,p)}function S(p){const D={};for(const V in p)D[V]=p[V];return D}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(p,D){let V,z;for(let Z=1;Z<arguments.length;Z++){z=arguments[Z];for(V in z)p[V]=z[V];for(let ie=0;ie<C.length;ie++)V=C[ie],Object.prototype.hasOwnProperty.call(z,V)&&(p[V]=z[V])}}function k(p){var D=1;p=p.split(":");const V=[];for(;0<D&&p.length;)V.push(p.shift()),D--;return p.length&&V.push(p.join(":")),V}function $(p){u.setTimeout(()=>{throw p},0)}function U(){var p=Se;let D=null;return p.g&&(D=p.g,p.g=p.g.next,p.g||(p.h=null),D.next=null),D}class he{constructor(){this.h=this.g=null}add(D,V){const z=ge.get();z.set(D,V),this.h?this.h.next=z:this.g=z,this.h=z}}var ge=new T(()=>new K,p=>p.reset());class K{constructor(){this.next=this.g=this.h=null}set(D,V){this.h=D,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let se,pe=!1,Se=new he,B=()=>{const p=u.Promise.resolve(void 0);se=()=>{p.then(re)}};var re=()=>{for(var p;p=U();){try{p.h.call(p.g)}catch(V){$(V)}var D=ge;D.j(p),100>D.h&&(D.h++,p.next=D.g,D.g=p)}pe=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(p,D){this.type=p,this.g=this.target=D,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,D=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const V=()=>{};u.addEventListener("test",V,D),u.removeEventListener("test",V,D)}catch{}return p}();function ke(p,D){if(ce.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var V=this.type=p.type,z=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=D,D=p.relatedTarget){if(N){e:{try{I(D.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(D=null)}}else V=="mouseover"?D=p.fromElement:V=="mouseout"&&(D=p.toElement);this.relatedTarget=D,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:xe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ke.aa.h.call(this)}}b(ke,ce);var xe={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),gt=0;function ir(p,D,V,z,Z){this.listener=p,this.proxy=null,this.src=D,this.type=V,this.capture=!!z,this.ha=Z,this.key=++gt,this.da=this.fa=!1}function At(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function yn(p){this.src=p,this.g={},this.h=0}yn.prototype.add=function(p,D,V,z,Z){var ie=p.toString();p=this.g[ie],p||(p=this.g[ie]=[],this.h++);var ve=hi(p,D,z,Z);return-1<ve?(D=p[ve],V||(D.fa=!1)):(D=new ir(D,this.src,ie,!!z,Z),D.fa=V,p.push(D)),D};function Lr(p,D){var V=D.type;if(V in p.g){var z=p.g[V],Z=Array.prototype.indexOf.call(z,D,void 0),ie;(ie=0<=Z)&&Array.prototype.splice.call(z,Z,1),ie&&(At(D),p.g[V].length==0&&(delete p.g[V],p.h--))}}function hi(p,D,V,z){for(var Z=0;Z<p.length;++Z){var ie=p[Z];if(!ie.da&&ie.listener==D&&ie.capture==!!V&&ie.ha==z)return Z}return-1}var xn="closure_lm_"+(1e6*Math.random()|0),Bs={};function Ia(p,D,V,z,Z){if(Array.isArray(D)){for(var ie=0;ie<D.length;ie++)Ia(p,D[ie],V,z,Z);return null}return V=Gi(V),p&&p[wt]?p.K(D,V,m(z)?!!z.capture:!1,Z):Cn(p,D,V,!1,z,Z)}function Cn(p,D,V,z,Z,ie){if(!D)throw Error("Invalid event type");var ve=m(Z)?!!Z.capture:!!Z,nt=sr(p);if(nt||(p[xn]=nt=new yn(p)),V=nt.add(D,V,z,ve,ie),V.proxy)return V;if(z=Jo(),V.proxy=z,z.src=p,z.listener=V,p.addEventListener)_e||(Z=ve),Z===void 0&&(Z=!1),p.addEventListener(D.toString(),z,Z);else if(p.attachEvent)p.attachEvent(di(D.toString()),z);else if(p.addListener&&p.removeListener)p.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return V}function Jo(){function p(V){return D.call(p.src,p.listener,V)}const D=xr;return p}function Fs(p,D,V,z,Z){if(Array.isArray(D))for(var ie=0;ie<D.length;ie++)Fs(p,D[ie],V,z,Z);else z=m(z)?!!z.capture:!!z,V=Gi(V),p&&p[wt]?(p=p.i,D=String(D).toString(),D in p.g&&(ie=p.g[D],V=hi(ie,V,z,Z),-1<V&&(At(ie[V]),Array.prototype.splice.call(ie,V,1),ie.length==0&&(delete p.g[D],p.h--)))):p&&(p=sr(p))&&(D=p.g[D.toString()],p=-1,D&&(p=hi(D,V,z,Z)),(V=-1<p?D[p]:null)&&qi(V))}function qi(p){if(typeof p!="number"&&p&&!p.da){var D=p.src;if(D&&D[wt])Lr(D.i,p);else{var V=p.type,z=p.proxy;D.removeEventListener?D.removeEventListener(V,z,p.capture):D.detachEvent?D.detachEvent(di(V),z):D.addListener&&D.removeListener&&D.removeListener(z),(V=sr(D))?(Lr(V,p),V.h==0&&(V.src=null,D[xn]=null)):At(p)}}}function di(p){return p in Bs?Bs[p]:Bs[p]="on"+p}function xr(p,D){if(p.da)p=!0;else{D=new ke(D,this);var V=p.listener,z=p.ha||p.src;p.fa&&qi(p),p=V.call(z,D)}return p}function sr(p){return p=p[xn],p instanceof yn?p:null}var Hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gi(p){return typeof p=="function"?p:(p[Hi]||(p[Hi]=function(D){return p.handleEvent(D)}),p[Hi])}function ut(){me.call(this),this.i=new yn(this),this.M=this,this.F=null}b(ut,me),ut.prototype[wt]=!0,ut.prototype.removeEventListener=function(p,D,V,z){Fs(this,p,D,V,z)};function He(p,D){var V,z=p.F;if(z)for(V=[];z;z=z.F)V.push(z);if(p=p.M,z=D.type||D,typeof D=="string")D=new ce(D,p);else if(D instanceof ce)D.target=D.target||p;else{var Z=D;D=new ce(z,p),M(D,Z)}if(Z=!0,V)for(var ie=V.length-1;0<=ie;ie--){var ve=D.g=V[ie];Z=vn(ve,z,!0,D)&&Z}if(ve=D.g=p,Z=vn(ve,z,!0,D)&&Z,Z=vn(ve,z,!1,D)&&Z,V)for(ie=0;ie<V.length;ie++)ve=D.g=V[ie],Z=vn(ve,z,!1,D)&&Z}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var p=this.i,D;for(D in p.g){for(var V=p.g[D],z=0;z<V.length;z++)At(V[z]);delete p.g[D],p.h--}}this.F=null},ut.prototype.K=function(p,D,V,z){return this.i.add(String(p),D,!1,V,z)},ut.prototype.L=function(p,D,V,z){return this.i.add(String(p),D,!0,V,z)};function vn(p,D,V,z){if(D=p.i.g[String(D)],!D)return!0;D=D.concat();for(var Z=!0,ie=0;ie<D.length;++ie){var ve=D[ie];if(ve&&!ve.da&&ve.capture==V){var nt=ve.listener,Kt=ve.ha||ve.src;ve.fa&&Lr(p.i,ve),Z=nt.call(Kt,z)!==!1&&Z}}return Z&&!z.defaultPrevented}function zt(p,D,V){if(typeof p=="function")V&&(p=y(p,V));else if(p&&typeof p.handleEvent=="function")p=y(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(D)?-1:u.setTimeout(p,D||0)}function Na(p){p.g=zt(()=>{p.g=null,p.i&&(p.i=!1,Na(p))},p.l);const D=p.h;p.h=null,p.m.apply(null,D)}class ar extends me{constructor(D,V){super(),this.m=D,this.l=V,this.h=null,this.i=!1,this.g=null}j(D){this.h=arguments,this.g?this.i=!0:Na(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kr(p){me.call(this),this.h=p,this.g={}}b(kr,me);var jr=[];function Ur(p){L(p.g,function(D,V){this.g.hasOwnProperty(V)&&qi(D)},p),p.g={}}kr.prototype.N=function(){kr.aa.N.call(this),Ur(this)},kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bn=u.JSON.stringify,mi=u.JSON.parse,or=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function Ki(){}Ki.prototype.h=null;function pi(p){return p.h||(p.h=p.i())}function qs(){}var lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cr(){ce.call(this,"d")}b(Cr,ce);function Yi(){ce.call(this,"c")}b(Yi,ce);var Dn={},zr=null;function $r(){return zr=zr||new ut}Dn.La="serverreachability";function Qi(p){ce.call(this,Dn.La,p)}b(Qi,ce);function q(p){const D=$r();He(D,new Qi(D))}Dn.STAT_EVENT="statevent";function X(p,D){ce.call(this,Dn.STAT_EVENT,p),this.stat=D}b(X,ce);function J(p){const D=$r();He(D,new X(D,p))}Dn.Ma="timingevent";function le(p,D){ce.call(this,Dn.Ma,p),this.size=D}b(le,ce);function ye(p,D){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},D)}function Ee(){this.g=!0}Ee.prototype.xa=function(){this.g=!1};function Oe(p,D,V,z,Z,ie){p.info(function(){if(p.g)if(ie)for(var ve="",nt=ie.split("&"),Kt=0;Kt<nt.length;Kt++){var rt=nt[Kt].split("=");if(1<rt.length){var tn=rt[0];rt=rt[1];var Yt=tn.split("_");ve=2<=Yt.length&&Yt[1]=="type"?ve+(tn+"="+rt+"&"):ve+(tn+"=redacted&")}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+z+") [attempt "+Z+"]: "+D+`
`+V+`
`+ve})}function Te(p,D,V,z,Z,ie,ve){p.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+Z+"]: "+D+`
`+V+`
`+ie+" "+ve})}function Ae(p,D,V,z){p.info(function(){return"XMLHTTP TEXT ("+D+"): "+Ie(p,V)+(z?" "+z:"")})}function Ce(p,D){p.info(function(){return"TIMEOUT: "+D})}Ee.prototype.info=function(){};function Ie(p,D){if(!p.g)return D;if(!D)return null;try{var V=JSON.parse(D);if(V){for(p=0;p<V.length;p++)if(Array.isArray(V[p])){var z=V[p];if(!(2>z.length)){var Z=z[1];if(Array.isArray(Z)&&!(1>Z.length)){var ie=Z[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ve=1;ve<Z.length;ve++)Z[ve]=""}}}}return Bn(V)}catch{return D}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ze;function ft(){}b(ft,Ki),ft.prototype.g=function(){return new XMLHttpRequest},ft.prototype.i=function(){return{}},Ze=new ft;function ot(p,D,V,z){this.j=p,this.i=D,this.l=V,this.R=z||1,this.U=new kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tt}function tt(){this.i=null,this.g="",this.h=!1}var Qe={},ur={};function Gt(p,D,V){p.L=1,p.v=Ks(Hn(D)),p.m=V,p.P=!0,Mn(p,null)}function Mn(p,D){p.F=Date.now(),Fn(p),p.A=Hn(p.v);var V=p.A,z=p.R;Array.isArray(z)||(z=[String(z)]),il(V.i,"t",z),p.C=0,V=p.j.J,p.h=new tt,p.g=sc(p.j,V?D:null,!p.m),0<p.O&&(p.M=new ar(y(p.Y,p,p.g),p.O)),D=p.U,V=p.g,z=p.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(jr[0]=Z.toString()),Z=jr);for(var ie=0;ie<Z.length;ie++){var ve=Ia(V,Z[ie],z||D.handleEvent,!1,D.h||D);if(!ve)break;D.g[ve.key]=ve}D=p.H?S(p.H):{},p.m?(p.u||(p.u="POST"),D["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,D)):(p.u="GET",p.g.ea(p.A,p.u,null,D)),q(),Oe(p.i,p.u,p.A,p.l,p.R,p.m)}ot.prototype.ca=function(p){p=p.target;const D=this.M;D&&mr(p)==3?D.j():this.Y(p)},ot.prototype.Y=function(p){try{if(p==this.g)e:{const Yt=mr(this.g);var D=this.g.Ba();const wi=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||Zu(this.g)))){this.J||Yt!=4||D==7||(D==8||0>=wi?q(3):q(2)),_n(this);var V=this.g.Z();this.X=V;t:if(on(this)){var z=Zu(this.g);p="";var Z=z.length,ie=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$e(this),On(this);var ve="";break t}this.h.i=new u.TextDecoder}for(D=0;D<Z;D++)this.h.h=!0,p+=this.h.i.decode(z[D],{stream:!(ie&&D==Z-1)});z.length=0,this.h.g+=p,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=V==200,Te(this.i,this.u,this.A,this.l,this.R,Yt,V),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,Kt=this.g;if((nt=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(nt)){var rt=nt;break t}}rt=null}if(V=rt)Ae(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$t(this,V);else{this.o=!1,this.s=3,J(12),$e(this),On(this);break e}}if(this.P){V=!0;let un;for(;!this.J&&this.C<ve.length;)if(un=Br(this,ve),un==ur){Yt==4&&(this.s=4,J(14),V=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}else if(un==Qe){this.s=4,J(15),Ae(this.i,this.l,ve,"[Invalid Chunk]"),V=!1;break}else Ae(this.i,this.l,un,null),$t(this,un);if(on(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||ve.length!=0||this.h.h||(this.s=1,J(16),V=!1),this.o=this.o&&V,!V)Ae(this.i,this.l,ve,"[Invalid Chunked Response]"),$e(this),On(this);else if(0<ve.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),ta(tn),tn.M=!0,J(11))}}else Ae(this.i,this.l,ve,null),$t(this,ve);Yt==4&&$e(this),this.o&&!this.J&&(Yt==4?nc(this.j,this):(this.o=!1,Fn(this)))}else Uh(this.g),V==400&&0<ve.indexOf("Unknown SID")?(this.s=3,J(12)):(this.s=0,J(13)),$e(this),On(this)}}}catch{}finally{}};function on(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Br(p,D){var V=p.C,z=D.indexOf(`
`,V);return z==-1?ur:(V=Number(D.substring(V,z)),isNaN(V)?Qe:(z+=1,z+V>D.length?ur:(D=D.slice(z,z+V),p.C=z+V,D)))}ot.prototype.cancel=function(){this.J=!0,$e(this)};function Fn(p){p.S=Date.now()+p.I,Xi(p,p.I)}function Xi(p,D){if(p.B!=null)throw Error("WatchDog timer not null");p.B=ye(y(p.ba,p),D)}function _n(p){p.B&&(u.clearTimeout(p.B),p.B=null)}ot.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Ce(this.i,this.A),this.L!=2&&(q(),J(17)),$e(this),this.s=2,On(this)):Xi(this,this.S-p)};function On(p){p.j.G==0||p.J||nc(p.j,p)}function $e(p){_n(p);var D=p.M;D&&typeof D.ma=="function"&&D.ma(),p.M=null,Ur(p.U),p.g&&(D=p.g,p.g=null,D.abort(),D.ma())}function $t(p,D){try{var V=p.j;if(V.G!=0&&(V.g==p||cr(V.h,p))){if(!p.K&&cr(V.h,p)&&V.G==3){try{var z=V.Da.g.parse(D)}catch{z=null}if(Array.isArray(z)&&z.length==3){var Z=z;if(Z[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<p.F)Fa(V),$a(V);else break e;ul(V),J(18)}}else V.za=Z[1],0<V.za-V.T&&37500>Z[2]&&V.F&&V.v==0&&!V.C&&(V.C=ye(y(V.Za,V),6e3));if(1>=Et(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else Ti(V,11)}else if((p.K||V.g==p)&&Fa(V),!A(D))for(Z=V.Da.g.parse(D),D=0;D<Z.length;D++){let rt=Z[D];if(V.T=rt[0],rt=rt[1],V.G==2)if(rt[0]=="c"){V.K=rt[1],V.ia=rt[2];const tn=rt[3];tn!=null&&(V.la=tn,V.j.info("VER="+V.la));const Yt=rt[4];Yt!=null&&(V.Aa=Yt,V.j.info("SVER="+V.Aa));const wi=rt[5];wi!=null&&typeof wi=="number"&&0<wi&&(z=1.5*wi,V.L=z,V.j.info("backChannelRequestTimeoutMs_="+z)),z=V;const un=p.g;if(un){const Xr=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xr){var ie=z.h;ie.g||Xr.indexOf("spdy")==-1&&Xr.indexOf("quic")==-1&&Xr.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(gi(ie,ie.h),ie.h=null))}if(z.D){const fl=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;fl&&(z.ya=fl,yt(z.I,z.D,fl))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-p.F,V.j.info("Handshake RTT: "+V.R+"ms")),z=V;var ve=p;if(z.qa=ic(z,z.J?z.ia:null,z.W),ve.K){ln(z.h,ve);var nt=ve,Kt=z.L;Kt&&(nt.I=Kt),nt.B&&(_n(nt),Fn(nt)),z.g=ve}else ec(z);0<V.i.length&&Ba(V)}else rt[0]!="stop"&&rt[0]!="close"||Ti(V,7);else V.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Ti(V,7):ol(V):rt[0]!="noop"&&V.l&&V.l.ta(rt),V.v=0)}}q(4)}catch{}}var qn=class{constructor(p,D){this.g=p,this.map=D}};function Pn(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fr(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Et(p){return p.h?1:p.g?p.g.size:0}function cr(p,D){return p.h?p.h==D:p.g?p.g.has(D):!1}function gi(p,D){p.g?p.g.add(D):p.h=D}function ln(p,D){p.h&&p.h==D?p.h=null:p.g&&p.g.has(D)&&p.g.delete(D)}Pn.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function el(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let D=p.i;for(const V of p.g.values())D=D.concat(V.D);return D}return E(p.i)}function Ph(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var D=[],V=p.length,z=0;z<V;z++)D.push(p[z]);return D}D=[],V=0;for(z in p)D[V++]=p[z];return D}function Pa(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var D=[];p=p.length;for(var V=0;V<p;V++)D.push(V);return D}D=[],V=0;for(const z in p)D[V++]=z;return D}}}function tl(p,D){if(p.forEach&&typeof p.forEach=="function")p.forEach(D,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,D,void 0);else for(var V=Pa(p),z=Ph(p),Z=z.length,ie=0;ie<Z;ie++)D.call(void 0,z[ie],V&&V[ie],p)}var Hs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lh(p,D){if(p){p=p.split("&");for(var V=0;V<p.length;V++){var z=p[V].indexOf("="),Z=null;if(0<=z){var ie=p[V].substring(0,z);Z=p[V].substring(z+1)}else ie=p[V];D(ie,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Bt(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Bt){this.h=p.h,Gs(this,p.j),this.o=p.o,this.g=p.g,Zi(this,p.s),this.l=p.l;var D=p.i,V=new vi;V.i=D.i,D.g&&(V.g=new Map(D.g),V.h=D.h),yi(this,V),this.m=p.m}else p&&(D=String(p).match(Hs))?(this.h=!1,Gs(this,D[1]||"",!0),this.o=fr(D[2]||""),this.g=fr(D[3]||"",!0),Zi(this,D[4]),this.l=fr(D[5]||"",!0),yi(this,D[6]||"",!0),this.m=fr(D[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}Bt.prototype.toString=function(){var p=[],D=this.j;D&&p.push(Ys(D,nl,!0),":");var V=this.g;return(V||D=="file")&&(p.push("//"),(D=this.o)&&p.push(Ys(D,nl,!0),"@"),p.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&p.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&p.push("/"),p.push(Ys(V,V.charAt(0)=="/"?kh:rl,!0))),(V=this.i.toString())&&p.push("?",V),(V=this.m)&&p.push("#",Ys(V,La)),p.join("")};function Hn(p){return new Bt(p)}function Gs(p,D,V){p.j=V?fr(D,!0):D,p.j&&(p.j=p.j.replace(/:$/,""))}function Zi(p,D){if(D){if(D=Number(D),isNaN(D)||0>D)throw Error("Bad port number "+D);p.s=D}else p.s=null}function yi(p,D,V){D instanceof vi?(p.i=D,Qu(p.i,p.h)):(V||(D=Ys(D,jh)),p.i=new vi(D,p.h))}function yt(p,D,V){p.i.set(D,V)}function Ks(p){return yt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function fr(p,D){return p?D?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ys(p,D,V){return typeof p=="string"?(p=encodeURI(p).replace(D,Yu),V&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Yu(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var nl=/[#\/\?@]/g,rl=/[#\?:]/g,kh=/[#\?]/g,jh=/[#\?@]/g,La=/#/g;function vi(p,D){this.h=this.g=null,this.i=p||null,this.j=!!D}function hr(p){p.g||(p.g=new Map,p.h=0,p.i&&Lh(p.i,function(D,V){p.add(decodeURIComponent(D.replace(/\+/g," ")),V)}))}t=vi.prototype,t.add=function(p,D){hr(this),this.i=null,p=qr(this,p);var V=this.g.get(p);return V||this.g.set(p,V=[]),V.push(D),this.h+=1,this};function _i(p,D){hr(p),D=qr(p,D),p.g.has(D)&&(p.i=null,p.h-=p.g.get(D).length,p.g.delete(D))}function bi(p,D){return hr(p),D=qr(p,D),p.g.has(D)}t.forEach=function(p,D){hr(this),this.g.forEach(function(V,z){V.forEach(function(Z){p.call(D,Z,z,this)},this)},this)},t.na=function(){hr(this);const p=Array.from(this.g.values()),D=Array.from(this.g.keys()),V=[];for(let z=0;z<D.length;z++){const Z=p[z];for(let ie=0;ie<Z.length;ie++)V.push(D[z])}return V},t.V=function(p){hr(this);let D=[];if(typeof p=="string")bi(this,p)&&(D=D.concat(this.g.get(qr(this,p))));else{p=Array.from(this.g.values());for(let V=0;V<p.length;V++)D=D.concat(p[V])}return D},t.set=function(p,D){return hr(this),this.i=null,p=qr(this,p),bi(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[D]),this.h+=1,this},t.get=function(p,D){return p?(p=this.V(p),0<p.length?String(p[0]):D):D};function il(p,D,V){_i(p,D),0<V.length&&(p.i=null,p.g.set(qr(p,D),E(V)),p.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],D=Array.from(this.g.keys());for(var V=0;V<D.length;V++){var z=D[V];const ie=encodeURIComponent(String(z)),ve=this.V(z);for(z=0;z<ve.length;z++){var Z=ie;ve[z]!==""&&(Z+="="+encodeURIComponent(String(ve[z]))),p.push(Z)}}return this.i=p.join("&")};function qr(p,D){return D=String(D),p.j&&(D=D.toLowerCase()),D}function Qu(p,D){D&&!p.j&&(hr(p),p.i=null,p.g.forEach(function(V,z){var Z=z.toLowerCase();z!=Z&&(_i(this,z),il(this,Z,V))},p)),p.j=D}function Qs(p,D){const V=new Ee;if(u.Image){const z=new Image;z.onload=_(dr,V,"TestLoadImage: loaded",!0,D,z),z.onerror=_(dr,V,"TestLoadImage: error",!1,D,z),z.onabort=_(dr,V,"TestLoadImage: abort",!1,D,z),z.ontimeout=_(dr,V,"TestLoadImage: timeout",!1,D,z),u.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=p}else D(!1)}function Dr(p,D){const V=new Ee,z=new AbortController,Z=setTimeout(()=>{z.abort(),dr(V,"TestPingServer: timeout",!1,D)},1e4);fetch(p,{signal:z.signal}).then(ie=>{clearTimeout(Z),ie.ok?dr(V,"TestPingServer: ok",!0,D):dr(V,"TestPingServer: server error",!1,D)}).catch(()=>{clearTimeout(Z),dr(V,"TestPingServer: error",!1,D)})}function dr(p,D,V,z,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),z(V)}catch{}}function Xs(){this.g=new or}function Hr(p,D,V){const z=V||"";try{tl(p,function(Z,ie){let ve=Z;m(Z)&&(ve=Bn(Z)),D.push(z+ie+"="+encodeURIComponent(ve))})}catch(Z){throw D.push(z+"type="+encodeURIComponent("_badmap")),Z}}function Wi(p){this.l=p.Ub||null,this.j=p.eb||!1}b(Wi,Ki),Wi.prototype.g=function(){return new Ei(this.l,this.j)},Wi.prototype.i=function(p){return function(){return p}}({});function Ei(p,D){ut.call(this),this.D=p,this.o=D,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Ei,ut),t=Ei.prototype,t.open=function(p,D){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=D,this.readyState=1,Kr(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const D={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(D.body=p),(this.D||u).fetch(new Request(this.A,D)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gr(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Kr(this)),this.g&&(this.readyState=3,Kr(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sl(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function sl(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var D=p.value?p.value:new Uint8Array(0);(D=this.v.decode(D,{stream:!p.done}))&&(this.response=this.responseText+=D)}p.done?Gr(this):Kr(this),this.readyState==3&&sl(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,Gr(this))},t.Qa=function(p){this.g&&(this.response=p,Gr(this))},t.ga=function(){this.g&&Gr(this)};function Gr(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Kr(p)}t.setRequestHeader=function(p,D){this.u.append(p,D)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],D=this.h.entries();for(var V=D.next();!V.done;)V=V.value,p.push(V[0]+": "+V[1]),V=D.next();return p.join(`\r
`)};function Kr(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function al(p){let D="";return L(p,function(V,z){D+=z,D+=":",D+=V,D+=`\r
`}),D}function en(p,D,V){e:{for(z in V){var z=!1;break e}z=!0}z||(V=al(V),typeof p=="string"?V!=null&&encodeURIComponent(String(V)):yt(p,D,V))}function ht(p){ut.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(ht,ut);var ka=/^https?$/i,Zs=["POST","PUT"];t=ht.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,D,V,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);D=D?D.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ze.g(),this.v=this.o?pi(this.o):pi(Ze),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(D,String(p),!0),this.B=!1}catch(ie){Xu(this,ie);return}if(p=V||"",V=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var Z in z)V.set(Z,z[Z]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ie of z.keys())V.set(ie,z.get(ie));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(V.keys()).find(ie=>ie.toLowerCase()=="content-type"),Z=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Zs,D,void 0))||z||Z||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of V)this.g.setRequestHeader(ie,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ws(this),this.u=!0,this.g.send(p),this.u=!1}catch(ie){Xu(this,ie)}};function Xu(p,D){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=D,p.m=5,ja(p),Yr(p)}function ja(p){p.A||(p.A=!0,He(p,"complete"),He(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,He(this,"complete"),He(this,"abort"),Yr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yr(this,!0)),ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ua(this):this.bb())},t.bb=function(){Ua(this)};function Ua(p){if(p.h&&typeof c<"u"&&(!p.v[1]||mr(p)!=4||p.Z()!=2)){if(p.u&&mr(p)==4)zt(p.Ea,0,p);else if(He(p,"readystatechange"),mr(p)==4){p.h=!1;try{const ve=p.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}var V;if(!(V=D)){var z;if(z=ve===0){var Z=String(p.D).match(Hs)[1]||null;!Z&&u.self&&u.self.location&&(Z=u.self.location.protocol.slice(0,-1)),z=!ka.test(Z?Z.toLowerCase():"")}V=z}if(V)He(p,"complete"),He(p,"success");else{p.m=6;try{var ie=2<mr(p)?p.g.statusText:""}catch{ie=""}p.l=ie+" ["+p.Z()+"]",ja(p)}}finally{Yr(p)}}}}function Yr(p,D){if(p.g){Ws(p);const V=p.g,z=p.v[0]?()=>{}:null;p.g=null,p.v=null,D||He(p,"ready");try{V.onreadystatechange=z}catch{}}}function Ws(p){p.I&&(u.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function mr(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var D=this.g.responseText;return p&&D.indexOf(p)==0&&(D=D.substring(p.length)),mi(D)}};function Zu(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Uh(p){const D={};p=(p.g&&2<=mr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<p.length;z++){if(A(p[z]))continue;var V=k(p[z]);const Z=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const ie=D[Z]||[];D[Z]=ie,ie.push(V)}O(D,function(z){return z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Js(p,D,V){return V&&V.internalChannelParams&&V.internalChannelParams[p]||D}function za(p){this.Aa=0,this.i=[],this.j=new Ee,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Js("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Js("baseRetryDelayMs",5e3,p),this.cb=Js("retryDelaySeedMs",1e4,p),this.Wa=Js("forwardChannelMaxRetries",2,p),this.wa=Js("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Pn(p&&p.concurrentRequestLimit),this.Da=new Xs,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=za.prototype,t.la=8,t.G=1,t.connect=function(p,D,V,z){J(0),this.W=p,this.H=D||{},V&&z!==void 0&&(this.H.OSID=V,this.H.OAID=z),this.F=this.X,this.I=ic(this,null,this.W),Ba(this)};function ol(p){if(Wu(p),p.G==3){var D=p.U++,V=Hn(p.I);if(yt(V,"SID",p.K),yt(V,"RID",D),yt(V,"TYPE","terminate"),ea(p,V),D=new ot(p,p.j,D),D.L=2,D.v=Ks(Hn(V)),V=!1,u.navigator&&u.navigator.sendBeacon)try{V=u.navigator.sendBeacon(D.v.toString(),"")}catch{}!V&&u.Image&&(new Image().src=D.v,V=!0),V||(D.g=sc(D.j,null),D.g.ea(D.v)),D.F=Date.now(),Fn(D)}rc(p)}function $a(p){p.g&&(ta(p),p.g.cancel(),p.g=null)}function Wu(p){$a(p),p.u&&(u.clearTimeout(p.u),p.u=null),Fa(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function Ba(p){if(!Fr(p.h)&&!p.s){p.s=!0;var D=p.Ga;se||B(),pe||(se(),pe=!0),Se.add(D,p),p.B=0}}function zh(p,D){return Et(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=D.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=ye(y(p.Ga,p,D),cl(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Z=new ot(this,this.j,p);let ie=this.o;if(this.S&&(ie?(ie=S(ie),M(ie,this.S)):ie=this.S),this.m!==null||this.O||(Z.H=ie,ie=null),this.P)e:{for(var D=0,V=0;V<this.i.length;V++){t:{var z=this.i[V];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(D+=z,4096<D){D=V;break e}if(D===4096||V===this.i.length-1){D=V+1;break e}}D=1e3}else D=1e3;D=Ju(this,Z,D),V=Hn(this.I),yt(V,"RID",p),yt(V,"CVER",22),this.D&&yt(V,"X-HTTP-Session-Id",this.D),ea(this,V),ie&&(this.O?D="headers="+encodeURIComponent(String(al(ie)))+"&"+D:this.m&&en(V,this.m,ie)),gi(this.h,Z),this.Ua&&yt(V,"TYPE","init"),this.P?(yt(V,"$req",D),yt(V,"SID","null"),Z.T=!0,Gt(Z,V,null)):Gt(Z,V,D),this.G=2}}else this.G==3&&(p?ll(this,p):this.i.length==0||Fr(this.h)||ll(this))};function ll(p,D){var V;D?V=D.l:V=p.U++;const z=Hn(p.I);yt(z,"SID",p.K),yt(z,"RID",V),yt(z,"AID",p.T),ea(p,z),p.m&&p.o&&en(z,p.m,p.o),V=new ot(p,p.j,V,p.B+1),p.m===null&&(V.H=p.o),D&&(p.i=D.D.concat(p.i)),D=Ju(p,V,1e3),V.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),gi(p.h,V),Gt(V,z,D)}function ea(p,D){p.H&&L(p.H,function(V,z){yt(D,z,V)}),p.l&&tl({},function(V,z){yt(D,z,V)})}function Ju(p,D,V){V=Math.min(p.i.length,V);var z=p.l?y(p.l.Na,p.l,p):null;e:{var Z=p.i;let ie=-1;for(;;){const ve=["count="+V];ie==-1?0<V?(ie=Z[0].g,ve.push("ofs="+ie)):ie=0:ve.push("ofs="+ie);let nt=!0;for(let Kt=0;Kt<V;Kt++){let rt=Z[Kt].g;const tn=Z[Kt].map;if(rt-=ie,0>rt)ie=Math.max(0,Z[Kt].g-100),nt=!1;else try{Hr(tn,ve,"req"+rt+"_")}catch{z&&z(tn)}}if(nt){z=ve.join("&");break e}}}return p=p.i.splice(0,V),D.D=p,z}function ec(p){if(!p.g&&!p.u){p.Y=1;var D=p.Fa;se||B(),pe||(se(),pe=!0),Se.add(D,p),p.v=0}}function ul(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=ye(y(p.Fa,p),cl(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,tc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=ye(y(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,J(10),$a(this),tc(this))};function ta(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function tc(p){p.g=new ot(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var D=Hn(p.qa);yt(D,"RID","rpc"),yt(D,"SID",p.K),yt(D,"AID",p.T),yt(D,"CI",p.F?"0":"1"),!p.F&&p.ja&&yt(D,"TO",p.ja),yt(D,"TYPE","xmlhttp"),ea(p,D),p.m&&p.o&&en(D,p.m,p.o),p.L&&(p.g.I=p.L);var V=p.g;p=p.ia,V.L=1,V.v=Ks(Hn(D)),V.m=null,V.P=!0,Mn(V,p)}t.Za=function(){this.C!=null&&(this.C=null,$a(this),ul(this),J(19))};function Fa(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function nc(p,D){var V=null;if(p.g==D){Fa(p),ta(p),p.g=null;var z=2}else if(cr(p.h,D))V=D.D,ln(p.h,D),z=1;else return;if(p.G!=0){if(D.o)if(z==1){V=D.m?D.m.length:0,D=Date.now()-D.F;var Z=p.B;z=$r(),He(z,new le(z,V)),Ba(p)}else ec(p);else if(Z=D.s,Z==3||Z==0&&0<D.X||!(z==1&&zh(p,D)||z==2&&ul(p)))switch(V&&0<V.length&&(D=p.h,D.i=D.i.concat(V)),Z){case 1:Ti(p,5);break;case 4:Ti(p,10);break;case 3:Ti(p,6);break;default:Ti(p,2)}}}function cl(p,D){let V=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(V*=2),V*D}function Ti(p,D){if(p.j.info("Error code "+D),D==2){var V=y(p.fb,p),z=p.Xa;const Z=!z;z=new Bt(z||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Gs(z,"https"),Ks(z),Z?Qs(z.toString(),V):Dr(z.toString(),V)}else J(2);p.G=0,p.l&&p.l.sa(D),rc(p),Wu(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function rc(p){if(p.G=0,p.ka=[],p.l){const D=el(p.h);(D.length!=0||p.i.length!=0)&&(R(p.ka,D),R(p.ka,p.i),p.h.i.length=0,E(p.i),p.i.length=0),p.l.ra()}}function ic(p,D,V){var z=V instanceof Bt?Hn(V):new Bt(V);if(z.g!="")D&&(z.g=D+"."+z.g),Zi(z,z.s);else{var Z=u.location;z=Z.protocol,D=D?D+"."+Z.hostname:Z.hostname,Z=+Z.port;var ie=new Bt(null);z&&Gs(ie,z),D&&(ie.g=D),Z&&Zi(ie,Z),V&&(ie.l=V),z=ie}return V=p.D,D=p.ya,V&&D&&yt(z,V,D),yt(z,"VER",p.la),ea(p,z),z}function sc(p,D,V){if(D&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return D=p.Ca&&!p.pa?new ht(new Wi({eb:V})):new ht(p.pa),D.Ha(p.J),D}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ac(){}t=ac.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qa(){}qa.prototype.g=function(p,D){return new Vn(p,D)};function Vn(p,D){ut.call(this),this.g=new za(D),this.l=p,this.h=D&&D.messageUrlParams||null,p=D&&D.messageHeaders||null,D&&D.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=D&&D.initMessageHeaders||null,D&&D.messageContentType&&(p?p["X-WebChannel-Content-Type"]=D.messageContentType:p={"X-WebChannel-Content-Type":D.messageContentType}),D&&D.va&&(p?p["X-WebChannel-Client-Profile"]=D.va:p={"X-WebChannel-Client-Profile":D.va}),this.g.S=p,(p=D&&D.Sb)&&!A(p)&&(this.g.m=p),this.v=D&&D.supportsCrossDomainXhr||!1,this.u=D&&D.sendRawJson||!1,(D=D&&D.httpSessionIdParam)&&!A(D)&&(this.g.D=D,p=this.h,p!==null&&D in p&&(p=this.h,D in p&&delete p[D])),this.j=new Qr(this)}b(Vn,ut),Vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){ol(this.g)},Vn.prototype.o=function(p){var D=this.g;if(typeof p=="string"){var V={};V.__data__=p,p=V}else this.u&&(V={},V.__data__=Bn(p),p=V);D.i.push(new qn(D.Ya++,p)),D.G==3&&Ba(D)},Vn.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,Vn.aa.N.call(this)};function oc(p){Cr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var D=p.__sm__;if(D){e:{for(const V in D){p=V;break e}p=void 0}(this.i=p)&&(p=this.i,D=D!==null&&p in D?D[p]:void 0),this.data=D}else this.data=p}b(oc,Cr);function lc(){Yi.call(this),this.status=1}b(lc,Yi);function Qr(p){this.g=p}b(Qr,ac),Qr.prototype.ua=function(){He(this.g,"a")},Qr.prototype.ta=function(p){He(this.g,new oc(p))},Qr.prototype.sa=function(p){He(this.g,new lc)},Qr.prototype.ra=function(){He(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,Cw=function(){return new qa},xw=function(){return $r()},Rw=Dn,bp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Af=Re,Pe.COMPLETE="complete",Aw=Pe,qs.EventType=lr,lr.OPEN="a",lr.CLOSE="b",lr.ERROR="c",lr.MESSAGE="d",ut.prototype.listen=ut.prototype.K,au=qs,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,Sw=ht}).apply(typeof df<"u"?df:typeof self<"u"?self:typeof window<"u"?window:{});const Mb="@firebase/firestore",Ob="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new yw("@firebase/firestore");function To(){return xa.logLevel}function be(t,...e){if(xa.logLevel<=at.DEBUG){const n=e.map(gg);xa.debug(`Firestore (${Go}): ${t}`,...n)}}function Ui(t,...e){if(xa.logLevel<=at.ERROR){const n=e.map(gg);xa.error(`Firestore (${Go}): ${t}`,...n)}}function No(t,...e){if(xa.logLevel<=at.WARN){const n=e.map(gg);xa.warn(`Firestore (${Go}): ${t}`,...n)}}function gg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Dw(t,s,n)}function Dw(t,e,n){let s=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ui(s),new Error(s)}function dt(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||Dw(e,a,s)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Ho{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Sn.UNAUTHENTICATED))}shutdown(){}}class oM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lM{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let s=this.i;const a=h=>this.i!==s?(s=this.i,n(h)):Promise.resolve();let l=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new xs,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const h=l;e.enqueueRetryable(async()=>{await h.promise,await a(this.currentUser)})},u=h=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new xs)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(dt(typeof s.accessToken=="string",31837,{l:s}),new Mw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class uM{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cM{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new uM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,HD(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const s=l=>{l.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,be("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Vb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Vb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=hM(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Ke(t,e){return t<e?-1:t>e?1:0}function Ep(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=t.codePointAt(n),a=e.codePointAt(n);if(s!==a){if(s<128&&a<128)return Ke(s,a);{const l=Ow(),c=dM(l.encode(Ib(t,n)),l.encode(Ib(e,n)));return c!==0?c:Ke(s,a)}}n+=s>65535?2:1}return Ke(t.length,e.length)}function Ib(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function dM(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ke(t[n],e[n]);return Ke(t.length,e.length)}function Po(t,e,n){return t.length===e.length&&t.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=-62135596800,Pb=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Pb);return new Wt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Me(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Me(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Nb)throw new Me(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Pb}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Nb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Wt(0,0))}static max(){return new Be(new Wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="__name__";class ni{constructor(e,n,s){n===void 0?n=0:n>e.length&&je(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&je(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=ni.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ke(e.length,n.length)}static compareSegments(e,n){const s=ni.isNumericId(e),a=ni.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?ni.extractNumericId(e).compare(ni.extractNumericId(n)):Ep(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class xt extends ni{construct(e,n,s){return new xt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Me(de.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new xt(n)}static emptyPath(){return new xt([])}}const mM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends ni{construct(e,n,s){return new pn(e,n,s)}static isValidIdentifier(e){return mM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Lb}static keyField(){return new pn([Lb])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new Me(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const u=e[a];if(u==="\\"){if(a+1===e.length)throw new Me(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Me(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=h,a+=2}else u==="`"?(c=!c,a++):u!=="."||c?(s+=u,a++):(l(),a++)}if(l(),c)throw new Me(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(n)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(xt.fromString(e))}static fromName(e){return new Ve(xt.fromString(e).popFirst(5))}static empty(){return new Ve(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new xt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=-1;function pM(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Be.fromTimestamp(s===1e9?new Wt(n+1,0):new Wt(n,s));return new Os(a,Ve.empty(),e)}function gM(t){return new Os(t.readTime,t.key,wu)}class Os{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Os(Be.min(),Ve.empty(),wu)}static max(){return new Os(Be.max(),Ve.empty(),wu)}}function yM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ve.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _M{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==vM)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.reject(n)}static resolve(e){return new fe((n,s)=>{n(e)})}static reject(e){return new fe((n,s)=>{s(e)})}static waitFor(e){return new fe((n,s)=>{let a=0,l=0,c=!1;e.forEach(u=>{++a,u.next(()=>{++l,c&&l===a&&n()},h=>s(h))}),c=!0,l===a&&n()})}static or(e){let n=fe.resolve(!1);for(const s of e)n=n.next(a=>a?fe.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,l)=>{s.push(n.call(this,a,l))}),this.waitFor(s)}static mapArray(e,n){return new fe((s,a)=>{const l=e.length,c=new Array(l);let u=0;for(let h=0;h<l;h++){const m=h;n(e[m]).next(g=>{c[m]=g,++u,u===l&&s(c)},g=>a(g))}})}static doWhile(e,n){return new fe((s,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):s()};l()})}}function bM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}dh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=-1;function mh(t){return t==null}function Ff(t){return t===0&&1/t==-1/0}function EM(t){return typeof t=="number"&&Number.isInteger(t)&&!Ff(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="";function TM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kb(e)),e=wM(t.get(n),e);return kb(e)}function wM(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case Iw:n+="";break;default:n+=l}}return n}function kb(t){return t+Iw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Us(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mf(this.root,e,this.comparator,!1)}getReverseIterator(){return new mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mf(this.root,e,this.comparator,!0)}}class mf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??mn.RED,this.left=a??mn.EMPTY,this.right=l??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new mn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return mn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ub(this.data.getIterator())}getIteratorFrom(e){return new Ub(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class Ub{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new tr([])}unionWith(e){let n=new Jt(pn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Pw("Invalid base64 string: "+l):l}}(e);return new gn(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const SM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const n=SM.exec(t);if(dt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ut(t.seconds),nanos:Ut(t.nanos)}}function Ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Is(t){return typeof t=="string"?gn.fromBase64String(t):gn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="server_timestamp",kw="__type__",jw="__previous_value__",Uw="__local_write_time__";function vg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[kw])===null||n===void 0?void 0:n.stringValue)===Lw}function ph(t){const e=t.mapValue.fields[jw];return vg(e)?ph(e):e}function Su(t){const e=Vs(t.mapValue.fields[Uw].timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n,s,a,l,c,u,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=m}}const qf="(default)";class Au{constructor(e,n){this.projectId=e,this.database=n||qf}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===qf}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="__type__",RM="__max__",pf={mapValue:{}},$w="__vector__",Hf="value";function Ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vg(t)?4:CM(t)?9007199254740991:xM(t)?10:11:je(28295,{value:t})}function ui(t,e){if(t===e)return!0;const n=Ns(t);if(n!==Ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Su(t).isEqual(Su(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Vs(a.timestampValue),u=Vs(l.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return Is(a.bytesValue).isEqual(Is(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return Ut(a.geoPointValue.latitude)===Ut(l.geoPointValue.latitude)&&Ut(a.geoPointValue.longitude)===Ut(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Ut(a.integerValue)===Ut(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ut(a.doubleValue),u=Ut(l.doubleValue);return c===u?Ff(c)===Ff(u):isNaN(c)&&isNaN(u)}return!1}(t,e);case 9:return Po(t.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},u=l.mapValue.fields||{};if(jb(c)!==jb(u))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(u[h]===void 0||!ui(c[h],u[h])))return!1;return!0}(t,e);default:return je(52216,{left:t})}}function Ru(t,e){return(t.values||[]).find(n=>ui(n,e))!==void 0}function Lo(t,e){if(t===e)return 0;const n=Ns(t),s=Ns(e);if(n!==s)return Ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return function(l,c){const u=Ut(l.integerValue||l.doubleValue),h=Ut(c.integerValue||c.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return zb(t.timestampValue,e.timestampValue);case 4:return zb(Su(t),Su(e));case 5:return Ep(t.stringValue,e.stringValue);case 6:return function(l,c){const u=Is(l),h=Is(c);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const u=l.split("/"),h=c.split("/");for(let m=0;m<u.length&&m<h.length;m++){const g=Ke(u[m],h[m]);if(g!==0)return g}return Ke(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const u=Ke(Ut(l.latitude),Ut(c.latitude));return u!==0?u:Ke(Ut(l.longitude),Ut(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $b(t.arrayValue,e.arrayValue);case 10:return function(l,c){var u,h,m,g;const d=l.fields||{},y=c.fields||{},_=(u=d[Hf])===null||u===void 0?void 0:u.arrayValue,b=(h=y[Hf])===null||h===void 0?void 0:h.arrayValue,E=Ke(((m=_==null?void 0:_.values)===null||m===void 0?void 0:m.length)||0,((g=b==null?void 0:b.values)===null||g===void 0?void 0:g.length)||0);return E!==0?E:$b(_,b)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===pf.mapValue&&c===pf.mapValue)return 0;if(l===pf.mapValue)return 1;if(c===pf.mapValue)return-1;const u=l.fields||{},h=Object.keys(u),m=c.fields||{},g=Object.keys(m);h.sort(),g.sort();for(let d=0;d<h.length&&d<g.length;++d){const y=Ep(h[d],g[d]);if(y!==0)return y;const _=Lo(u[h[d]],m[g[d]]);if(_!==0)return _}return Ke(h.length,g.length)}(t.mapValue,e.mapValue);default:throw je(23264,{Pe:n})}}function zb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=Vs(t),s=Vs(e),a=Ke(n.seconds,s.seconds);return a!==0?a:Ke(n.nanos,s.nanos)}function $b(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Lo(n[a],s[a]);if(l)return l}return Ke(n.length,s.length)}function ko(t){return Tp(t)}function Tp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Vs(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Is(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Tp(l);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Tp(n.fields[c])}`;return a+"}"}(t.mapValue):je(61005,{value:t})}function Rf(t){switch(Ns(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(t);return e?16+Rf(e):16;case 5:return 2*t.stringValue.length;case 6:return Is(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+Rf(l),0)}(t.arrayValue);case 10:case 11:return function(s){let a=0;return Us(s.fields,(l,c)=>{a+=l.length+Rf(c)}),a}(t.mapValue);default:throw je(13486,{value:t})}}function wp(t){return!!t&&"integerValue"in t}function _g(t){return!!t&&"arrayValue"in t}function Bb(t){return!!t&&"nullValue"in t}function Fb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xf(t){return!!t&&"mapValue"in t}function xM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[zw])===null||n===void 0?void 0:n.stringValue)===$w}function cu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Us(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=cu(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===RM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!xf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(n)}setAll(e){let n=pn.emptyPath(),s={},a=[];e.forEach((c,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,s,a),s={},a=[],n=u.popLast()}c?s[u.lastSegment()]=cu(c):a.push(u.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());xf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];xf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Us(n,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new zn(cu(this.value))}}function Bw(t){const e=[];return Us(t.fields,(n,s)=>{const a=new pn([n]);if(xf(s)){const l=Bw(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,s,a,l,c,u){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=u}static newInvalidDocument(e){return new An(e,0,Be.min(),Be.min(),Be.min(),zn.empty(),0)}static newFoundDocument(e,n,s,a){return new An(e,1,n,Be.min(),s,a,0)}static newNoDocument(e,n){return new An(e,2,n,Be.min(),Be.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new An(e,3,n,Be.min(),Be.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n){this.position=e,this.inclusive=n}}function qb(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=Ve.comparator(Ve.fromName(c.referenceValue),n.key):s=Lo(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Hb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ui(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n="asc"){this.field=e,this.dir=n}}function DM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fw=class{};class Zt extends Fw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new OM(e,n,s):n==="array-contains"?new NM(e,s):n==="in"?new PM(e,s):n==="not-in"?new LM(e,s):n==="array-contains-any"?new kM(e,s):new Zt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new VM(e,s):new IM(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Lo(n,this.value)):n!==null&&Ns(this.value)===Ns(n)&&this.matchesComparison(Lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends Fw{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ci(e,n)}matches(e){return qw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function qw(t){return t.op==="and"}function Hw(t){return MM(t)&&qw(t)}function MM(t){for(const e of t.filters)if(e instanceof ci)return!1;return!0}function Sp(t){if(t instanceof Zt)return t.field.canonicalString()+t.op.toString()+ko(t.value);if(Hw(t))return t.filters.map(e=>Sp(e)).join(",");{const e=t.filters.map(n=>Sp(n)).join(",");return`${t.op}(${e})`}}function Gw(t,e){return t instanceof Zt?function(s,a){return a instanceof Zt&&s.op===a.op&&s.field.isEqual(a.field)&&ui(s.value,a.value)}(t,e):t instanceof ci?function(s,a){return a instanceof ci&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,c,u)=>l&&Gw(c,a.filters[u]),!0):!1}(t,e):void je(19439)}function Kw(t){return t instanceof Zt?function(n){return`${n.field.canonicalString()} ${n.op} ${ko(n.value)}`}(t):t instanceof ci?function(n){return n.op.toString()+" {"+n.getFilters().map(Kw).join(" ,")+"}"}(t):"Filter"}class OM extends Zt{constructor(e,n,s){super(e,n,s),this.key=Ve.fromName(s.referenceValue)}matches(e){const n=Ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class VM extends Zt{constructor(e,n){super(e,"in",n),this.keys=Yw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class IM extends Zt{constructor(e,n){super(e,"not-in",n),this.keys=Yw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Yw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ve.fromName(s.referenceValue))}class NM extends Zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _g(n)&&Ru(n.arrayValue,this.value)}}class PM extends Zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ru(this.value.arrayValue,n)}}class LM extends Zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ru(this.value.arrayValue,n)}}class kM extends Zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_g(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ru(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n=null,s=[],a=[],l=null,c=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=u,this.Ie=null}}function Gb(t,e=null,n=[],s=[],a=null,l=null,c=null){return new jM(t,e,n,s,a,l,c)}function bg(t){const e=Fe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Sp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ko(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ko(s)).join(",")),e.Ie=n}return e.Ie}function Eg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Gw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hb(t.startAt,e.startAt)&&Hb(t.endAt,e.endAt)}function Ap(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n=null,s=[],a=[],l=null,c="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=u,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function UM(t,e,n,s,a,l,c,u){return new gh(t,e,n,s,a,l,c,u)}function Qw(t){return new gh(t)}function Kb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zM(t){return t.collectionGroup!==null}function fu(t){const e=Fe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new Jt(pn.comparator);return c.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(u=u.add(m.field))})}),u})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Kf(l,s))}),n.has(pn.keyField().canonicalString())||e.Ee.push(new Kf(pn.keyField(),s))}return e.Ee}function ii(t){const e=Fe(t);return e.de||(e.de=$M(e,fu(t))),e.de}function $M(t,e){if(t.limitType==="F")return Gb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Kf(a.field,l)});const n=t.endAt?new Gf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Gf(t.startAt.position,t.startAt.inclusive):null;return Gb(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Rp(t,e,n){return new gh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yh(t,e){return Eg(ii(t),ii(e))&&t.limitType===e.limitType}function Xw(t){return`${bg(ii(t))}|lt:${t.limitType}`}function wo(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Kw(a)).join(", ")}]`),mh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>ko(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>ko(a)).join(",")),`Target(${s})`}(ii(t))}; limitType=${t.limitType})`}function vh(t,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ve.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(t,e)&&function(s,a){for(const l of fu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(s,a){return!(s.startAt&&!function(c,u,h){const m=qb(c,u,h);return c.inclusive?m<=0:m<0}(s.startAt,fu(s),a)||s.endAt&&!function(c,u,h){const m=qb(c,u,h);return c.inclusive?m>=0:m>0}(s.endAt,fu(s),a))}(t,e)}function BM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Zw(t){return(e,n)=>{let s=!1;for(const a of fu(t)){const l=FM(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function FM(t,e,n){const s=t.field.isKeyField()?Ve.comparator(e.key,n.key):function(l,c,u){const h=c.data.field(l),m=u.data.field(l);return h!==null&&m!==null?Lo(h,m):je(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return je(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Us(this.inner,(n,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return Nw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=new Vt(Ve.comparator);function zi(){return qM}const Ww=new Vt(Ve.comparator);function ou(...t){let e=Ww;for(const n of t)e=e.insert(n.key,n);return e}function Jw(t){let e=Ww;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ta(){return hu()}function e1(){return hu()}function hu(){return new Oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const HM=new Vt(Ve.comparator),GM=new Jt(Ve.comparator);function et(...t){let e=GM;for(const n of t)e=e.add(n);return e}const KM=new Jt(Ke);function YM(){return KM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ff(e)?"-0":e}}function t1(t){return{integerValue:""+t}}function QM(t,e){return EM(e)?t1(e):Tg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this._=void 0}}function XM(t,e,n){return t instanceof Yf?function(a,l){const c={fields:{[kw]:{stringValue:Lw},[Uw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&vg(l)&&(l=ph(l)),l&&(c.fields[jw]=l),{mapValue:c}}(n,e):t instanceof xu?r1(t,e):t instanceof Cu?i1(t,e):function(a,l){const c=n1(a,l),u=Yb(c)+Yb(a.Re);return wp(c)&&wp(a.Re)?t1(u):Tg(a.serializer,u)}(t,e)}function ZM(t,e,n){return t instanceof xu?r1(t,e):t instanceof Cu?i1(t,e):n}function n1(t,e){return t instanceof Qf?function(s){return wp(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Yf extends _h{}class xu extends _h{constructor(e){super(),this.elements=e}}function r1(t,e){const n=s1(e);for(const s of t.elements)n.some(a=>ui(a,s))||n.push(s);return{arrayValue:{values:n}}}class Cu extends _h{constructor(e){super(),this.elements=e}}function i1(t,e){let n=s1(e);for(const s of t.elements)n=n.filter(a=>!ui(a,s));return{arrayValue:{values:n}}}class Qf extends _h{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Yb(t){return Ut(t.integerValue||t.doubleValue)}function s1(t){return _g(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function WM(t,e){return t.field.isEqual(e.field)&&function(s,a){return s instanceof xu&&a instanceof xu||s instanceof Cu&&a instanceof Cu?Po(s.elements,a.elements,ui):s instanceof Qf&&a instanceof Qf?ui(s.Re,a.Re):s instanceof Yf&&a instanceof Yf}(t.transform,e.transform)}class JM{constructor(e,n){this.version=e,this.transformResults=n}}class Nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nr}static exists(e){return new Nr(void 0,e)}static updateTime(e){return new Nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bh{}function a1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wg(t.key,Nr.none()):new Uu(t.key,t.data,Nr.none());{const n=t.data,s=zn.empty();let a=new Jt(pn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new zs(t.key,s,new tr(a.toArray()),Nr.none())}}function eO(t,e,n){t instanceof Uu?function(a,l,c){const u=a.value.clone(),h=Xb(a.fieldTransforms,l,c.transformResults);u.setAll(h),l.convertToFoundDocument(c.version,u).setHasCommittedMutations()}(t,e,n):t instanceof zs?function(a,l,c){if(!Cf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const u=Xb(a.fieldTransforms,l,c.transformResults),h=l.data;h.setAll(o1(a)),h.setAll(u),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function du(t,e,n,s){return t instanceof Uu?function(l,c,u,h){if(!Cf(l.precondition,c))return u;const m=l.value.clone(),g=Zb(l.fieldTransforms,h,c);return m.setAll(g),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(t,e,n,s):t instanceof zs?function(l,c,u,h){if(!Cf(l.precondition,c))return u;const m=Zb(l.fieldTransforms,h,c),g=c.data;return g.setAll(o1(l)),g.setAll(m),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),u===null?null:u.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(d=>d.field))}(t,e,n,s):function(l,c,u){return Cf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u}(t,e,n)}function tO(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=n1(s.transform,a||null);l!=null&&(n===null&&(n=zn.empty()),n.set(s.field,l))}return n||null}function Qb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Po(s,a,(l,c)=>WM(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uu extends bh{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class zs extends bh{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function o1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Xb(t,e,n){const s=new Map;dt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,u=e.data.field(l.field);s.set(l.field,ZM(c,u,n[a]))}return s}function Zb(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,XM(l,c,e))}return s}class wg extends bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nO extends bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&eO(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=du(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=du(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=e1();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let u=this.applyToLocalView(c,l.mutatedFields);u=n.has(a.key)?null:u;const h=a1(c,u);h!==null&&s.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(Be.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,(n,s)=>Qb(n,s))&&Po(this.baseMutations,e.baseMutations,(n,s)=>Qb(n,s))}}class Sg{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){dt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let a=function(){return HM}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Sg(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,st;function aO(t){switch(t){case de.OK:return je(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return je(15467,{code:t})}}function l1(t){if(t===void 0)return Ui("GRPC error has no .code"),de.UNKNOWN;switch(t){case Ht.OK:return de.OK;case Ht.CANCELLED:return de.CANCELLED;case Ht.UNKNOWN:return de.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return de.INTERNAL;case Ht.UNAVAILABLE:return de.UNAVAILABLE;case Ht.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Ht.NOT_FOUND:return de.NOT_FOUND;case Ht.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Ht.ABORTED:return de.ABORTED;case Ht.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Ht.DATA_LOSS:return de.DATA_LOSS;default:return je(39323,{code:t})}}(st=Ht||(Ht={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=new Rs([4294967295,4294967295],0);function Wb(t){const e=Ow().encode(t),n=new ww;return n.update(e),new Uint8Array(n.digest())}function Jb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Rs([n,s],0),new Rs([a,l],0)]}class Ag{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new lu(`Invalid padding: ${n}`);if(s<0)throw new lu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new lu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new lu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Rs.fromNumber(this.pe)}we(e,n,s){let a=e.add(n.multiply(Rs.fromNumber(s)));return a.compare(oO)===1&&(a=new Rs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Wb(e),[s,a]=Jb(n);for(let l=0;l<this.hashCount;l++){const c=this.we(s,a,l);if(!this.be(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ag(l,a,n);return s.forEach(u=>c.insert(u)),c}insert(e){if(this.pe===0)return;const n=Wb(e),[s,a]=Jb(n);for(let l=0;l<this.hashCount;l++){const c=this.we(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,zu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Eh(Be.min(),a,new Vt(Ke),zi(),et())}}class zu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new zu(s,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n,s,a){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=a}}class u1{constructor(e,n){this.targetId=e,this.Ce=n}}class c1{constructor(e,n,s=gn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class eE{constructor(){this.Fe=0,this.Me=tE(),this.xe=gn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=et(),n=et(),s=et();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:je(38017,{changeType:l})}}),new zu(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=tE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,dt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class lO{constructor(e){this.ze=e,this.je=new Map,this.He=zi(),this.Je=gf(),this.Ye=gf(),this.Ze=new Vt(Ke)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:je(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,a)=>{this.it(a)&&n(a)})}ot(e){const n=e.targetId,s=e.Ce.count,a=this._t(n);if(a){const l=a.target;if(Ap(l))if(s===0){const c=new Ve(l.path);this.tt(n,c,An.newNoDocument(c,Be.min()))}else dt(s===1,20013,{expectedCount:s});else{const c=this.ut(n);if(c!==s){const u=this.ct(e),h=u?this.lt(u,e,c):1;if(h!==0){this.st(n);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,u;try{c=Is(s).toUint8Array()}catch(h){if(h instanceof Pw)return No("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Ag(c,a,l)}catch(h){return No(h instanceof lu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.pe===0?null:u}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let a=0;return s.forEach(l=>{const c=this.ze.Pt(),u=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(u)||(this.tt(n,l,null),a++)}),a}It(e){const n=new Map;this.je.forEach((l,c)=>{const u=this._t(c);if(u){if(l.current&&Ap(u.target)){const h=new Ve(u.target.path);this.Et(h).has(c)||this.dt(c,h)||this.tt(c,h,An.newNoDocument(h,e))}l.Le&&(n.set(c,l.qe()),l.Qe())}});let s=et();this.Ye.forEach((l,c)=>{let u=!0;c.forEachWhile(h=>{const m=this._t(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(s=s.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new Eh(e,n,this.Ze,this.He,s);return this.He=zi(),this.Je=gf(),this.Ye=gf(),this.Ze=new Vt(Ke),a}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const a=this.rt(e);this.dt(e,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new eE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Jt(Ke),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Jt(Ke),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new eE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function gf(){return new Vt(Ve.comparator)}function tE(){return new Vt(Ve.comparator)}const uO={asc:"ASCENDING",desc:"DESCENDING"},cO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fO={and:"AND",or:"OR"};class hO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xp(t,e){return t.useProto3Json||mh(e)?e:{value:e}}function Xf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function f1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dO(t,e){return Xf(t,e.toTimestamp())}function si(t){return dt(!!t,49232),Be.fromTimestamp(function(n){const s=Vs(n);return new Wt(s.seconds,s.nanos)}(t))}function Rg(t,e){return Cp(t,e).canonicalString()}function Cp(t,e){const n=function(a){return new xt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function h1(t){const e=xt.fromString(t);return dt(y1(e),10190,{key:e.toString()}),e}function Dp(t,e){return Rg(t.databaseId,e.path)}function Gm(t,e){const n=h1(e);if(n.get(1)!==t.databaseId.projectId)throw new Me(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Me(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ve(m1(n))}function d1(t,e){return Rg(t.databaseId,e)}function mO(t){const e=h1(t);return e.length===4?xt.emptyPath():m1(e)}function Mp(t){return new xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function m1(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function nE(t,e,n){return{name:Dp(t,e),fields:n.value.mapValue.fields}}function pO(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:je(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,g){return m.useProto3Json?(dt(g===void 0||typeof g=="string",58123),gn.fromBase64String(g||"")):(dt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),gn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,u=c&&function(m){const g=m.code===void 0?de.UNKNOWN:l1(m.code);return new Me(g,m.message||"")}(c);n=new c1(s,a,l,u||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Gm(t,s.document.name),l=si(s.document.updateTime),c=s.document.createTime?si(s.document.createTime):Be.min(),u=new zn({mapValue:{fields:s.document.fields}}),h=An.newFoundDocument(a,l,c,u),m=s.targetIds||[],g=s.removedTargetIds||[];n=new Df(m,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Gm(t,s.document),l=s.readTime?si(s.readTime):Be.min(),c=An.newNoDocument(a,l),u=s.removedTargetIds||[];n=new Df([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Gm(t,s.document),l=s.removedTargetIds||[];n=new Df([],l,a,null)}else{if(!("filter"in e))return je(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new sO(a,l),u=s.targetId;n=new u1(u,c)}}return n}function gO(t,e){let n;if(e instanceof Uu)n={update:nE(t,e.key,e.value)};else if(e instanceof wg)n={delete:Dp(t,e.key)};else if(e instanceof zs)n={update:nE(t,e.key,e.data),updateMask:AO(e.fieldMask)};else{if(!(e instanceof nO))return je(16599,{ft:e.type});n={verify:Dp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const u=c.transform;if(u instanceof Yf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Cu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Qf)return{fieldPath:c.field.canonicalString(),increment:u.Re};throw je(20930,{transform:c.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:dO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:je(27497)}(t,e.precondition)),n}function yO(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map(n=>function(a,l){let c=a.updateTime?si(a.updateTime):si(l);return c.isEqual(Be.min())&&(c=si(l)),new JM(c,a.transformResults||[])}(n,e))):[]}function vO(t,e){return{documents:[d1(t,e.path)]}}function _O(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=d1(t,a);const l=function(m){if(m.length!==0)return g1(ci.create(m,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(g=>function(y){return{field:So(y.field),direction:TO(y.dir)}}(g))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const u=xp(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:n,parent:a}}function bO(t){let e=mO(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){dt(s===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=function(d){const y=p1(d);return y instanceof ci&&Hw(y)?y.getFilters():[y]}(n.where));let c=[];n.orderBy&&(c=function(d){return d.map(y=>function(b){return new Kf(Ao(b.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(y))}(n.orderBy));let u=null;n.limit&&(u=function(d){let y;return y=typeof d=="object"?d.value:d,mh(y)?null:y}(n.limit));let h=null;n.startAt&&(h=function(d){const y=!!d.before,_=d.values||[];return new Gf(_,y)}(n.startAt));let m=null;return n.endAt&&(m=function(d){const y=!d.before,_=d.values||[];return new Gf(_,y)}(n.endAt)),UM(e,a,c,l,u,"F",h,m)}function EO(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function p1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ao(n.unaryFilter.field);return Zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ao(n.unaryFilter.field);return Zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ao(n.unaryFilter.field);return Zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ao(n.unaryFilter.field);return Zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}}(t):t.fieldFilter!==void 0?function(n){return Zt.create(Ao(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ci.create(n.compositeFilter.filters.map(s=>p1(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return je(1026)}}(n.compositeFilter.op))}(t):je(30097,{filter:t})}function TO(t){return uO[t]}function wO(t){return cO[t]}function SO(t){return fO[t]}function So(t){return{fieldPath:t.canonicalString()}}function Ao(t){return pn.fromServerFormat(t.fieldPath)}function g1(t){return t instanceof Zt?function(n){if(n.op==="=="){if(Fb(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if(Bb(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fb(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if(Bb(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:wO(n.op),value:n.value}}}(t):t instanceof ci?function(n){const s=n.getFilters().map(a=>g1(a));return s.length===1?s[0]:{compositeFilter:{op:SO(n.op),filters:s}}}(t):je(54877,{filter:t})}function AO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function y1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,s,a,l=Be.min(),c=Be.min(),u=gn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e){this.wt=e}}function xO(t){const e=bO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.yn=new DO}addToCollectionParentIndex(e,n){return this.yn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(Os.min())}updateCollectionGroup(e,n,s){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class DO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Jt(xt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Jt(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},v1=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(v1,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new jo(0)}static ir(){return new jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="LruGarbageCollector",MO=1048576;function sE([t,e],[n,s]){const a=Ke(t,n);return a===0?Ke(e,s):a}class OO{constructor(e){this.cr=e,this.buffer=new Jt(sE),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();sE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){be(iE,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yo(n)?be(iE,"Ignoring IndexedDB error during garbage collection: ",n):await Ko(n)}await this.Ir(3e5)})}}class IO{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(dh.le);const s=new OO(n);return this.Er.forEachTarget(e,a=>s.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>s.Pr(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Er.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(rE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rE):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let s,a,l,c,u,h,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),a=this.params.maximumSequenceNumbersToCollect):a=d,c=Date.now(),this.nthSequenceNumber(e,a))).next(d=>(s=d,u=Date.now(),this.removeTargets(e,s,n))).next(d=>(l=d,h=Date.now(),this.removeOrphanedDocuments(e,s))).next(d=>(m=Date.now(),To()<=at.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(u-c)+`ms
	Removed ${l} targets in `+(h-u)+`ms
	Removed ${d} documents in `+(m-h)+`ms
Total Duration: ${m-g}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:d})))}}function NO(t,e){return new IO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.changes=new Oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?fe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&du(s.mutation,a,tr.empty(),Wt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,et()).next(()=>s))}getLocalViewOfDocuments(e,n,s=et()){const a=Ta();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(l=>{let c=ou();return l.forEach((u,h)=>{c=c.insert(u,h.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const s=Ta();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,et()))}populateOverlays(e,n,s){const a=[];return s.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,u)=>{n.set(c,u)})})}computeViews(e,n,s,a){let l=zi();const c=hu(),u=function(){return hu()}();return n.forEach((h,m)=>{const g=s.get(m.key);a.has(m.key)&&(g===void 0||g.mutation instanceof zs)?l=l.insert(m.key,m):g!==void 0?(c.set(m.key,g.mutation.getFieldMask()),du(g.mutation,m,g.mutation.getFieldMask(),Wt.now())):c.set(m.key,tr.empty())}),this.recalculateAndSaveOverlays(e,l).next(h=>(h.forEach((m,g)=>c.set(m,g)),n.forEach((m,g)=>{var d;return u.set(m,new LO(g,(d=c.get(m))!==null&&d!==void 0?d:null))}),u))}recalculateAndSaveOverlays(e,n){const s=hu();let a=new Vt((c,u)=>c-u),l=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const u of c)u.keys().forEach(h=>{const m=n.get(h);if(m===null)return;let g=s.get(h)||tr.empty();g=u.applyToLocalView(m,g),s.set(h,g);const d=(a.get(u.batchId)||et()).add(h);a=a.insert(u.batchId,d)})}).next(()=>{const c=[],u=a.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),m=h.key,g=h.value,d=e1();g.forEach(y=>{if(!l.has(y)){const _=a1(n.get(y),s.get(y));_!==null&&d.set(y,_),l=l.add(y)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,d))}return fe.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(c){return Ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):fe.resolve(Ta());let u=wu,h=l;return c.next(m=>fe.forEach(m,(g,d)=>(u<d.largestBatchId&&(u=d.largestBatchId),l.get(g)?fe.resolve():this.remoteDocumentCache.getEntry(e,g).next(y=>{h=h.insert(g,y)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,h,m,et())).next(g=>({batchId:u,changes:Jw(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ve(n)).next(s=>{let a=ou();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=ou();return this.indexManager.getCollectionParents(e,l).next(u=>fe.forEach(u,h=>{const m=function(d,y){return new gh(y,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,h.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,s,a).next(g=>{g.forEach((d,y)=>{c=c.insert(d,y)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a))).next(c=>{l.forEach((h,m)=>{const g=m.getKey();c.get(g)===null&&(c=c.insert(g,An.newInvalidDocument(g)))});let u=ou();return c.forEach((h,m)=>{const g=l.get(h);g!==void 0&&du(g.mutation,m,tr.empty(),Wt.now()),vh(n,m)&&(u=u.insert(h,m))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:si(a.createTime)}}(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(a){return{name:a.name,query:xO(a.bundledQuery),readTime:si(a.readTime)}}(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.overlays=new Vt(Ve.comparator),this.Or=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ta();return fe.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,l)=>{this.St(e,n,l)}),fe.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Or.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(s)),fe.resolve()}getOverlaysForCollection(e,n,s){const a=Ta(),l=n.length+1,c=new Ve(n.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const h=u.getNext().value,m=h.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&h.largestBatchId>s&&a.set(h.getKey(),h)}return fe.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Vt((m,g)=>m-g);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>s){let g=l.get(m.largestBatchId);g===null&&(g=Ta(),l=l.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const u=Ta(),h=l.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,g)=>u.set(m,g)),!(u.size()>=a)););return fe.resolve(u)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Or.get(a.largestBatchId).delete(s.key);this.Or.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new iO(n,s));let l=this.Or.get(n);l===void 0&&(l=et(),this.Or.set(n,l)),this.Or.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(){this.Nr=new Jt(an.Br),this.Lr=new Jt(an.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const s=new an(e,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Qr(new an(e,n))}$r(e,n){e.forEach(s=>this.removeReference(s,n))}Ur(e){const n=new Ve(new xt([])),s=new an(n,e),a=new an(n,e+1),l=[];return this.Lr.forEachInRange([s,a],c=>{this.Qr(c),l.push(c.key)}),l}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new Ve(new xt([])),s=new an(n,e),a=new an(n,e+1);let l=et();return this.Lr.forEachInRange([s,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new an(e,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class an{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return Ve.comparator(e.key,n.key)||Ke(e.Gr,n.Gr)}static kr(e,n){return Ke(e.Gr,n.Gr)||Ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Jt(an.Br)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new rO(l,n,s,a);this.mutationQueue.push(c);for(const u of a)this.zr=this.zr.add(new an(u.key,l)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(e,n){return fe.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Hr(s),l=a<0?0:a;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?yg:this.Jn-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new an(n,0),a=new an(n,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([s,a],c=>{const u=this.jr(c.Gr);l.push(u)}),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Jt(Ke);return n.forEach(a=>{const l=new an(a,0),c=new an(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,c],u=>{s=s.add(u.Gr)})}),fe.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Ve.isDocumentKey(l)||(l=l.child(""));const c=new an(new Ve(l),0);let u=new Jt(Ke);return this.zr.forEachWhile(h=>{const m=h.key.path;return!!s.isPrefixOf(m)&&(m.length===a&&(u=u.add(h.Gr)),!0)},c),fe.resolve(this.Jr(u))}Jr(e){const n=[];return e.forEach(s=>{const a=this.jr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){dt(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return fe.forEach(n.mutations,a=>{const l=new an(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,n){const s=new an(n,0),a=this.zr.firstAfterOrEqual(s);return fe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.Zr=e,this.docs=function(){return new Vt(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return fe.resolve(s?s.document.mutableCopy():An.newInvalidDocument(n))}getEntries(e,n){let s=zi();return n.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():An.newInvalidDocument(a))}),fe.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=zi();const c=n.path,u=new Ve(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:m,value:{document:g}}=h.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||yM(gM(g),s)<=0||(a.has(g.key)||vh(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,n,s,a){je(9500)}Xr(e,n){return fe.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new FO(this)}getSize(e){return fe.resolve(this.size)}}class FO extends PO{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.vr.addEntry(e,a)):this.vr.removeEntry(s)}),fe.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.persistence=e,this.ei=new Oa(n=>bg(n),Eg),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.ti=0,this.ni=new xg,this.targetCount=0,this.ri=jo.rr()}forEachTarget(e,n){return this.ei.forEach((s,a)=>n(a)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),fe.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new jo(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.ar(n),fe.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ei.forEach((c,u)=>{u.sequenceNumber<=n&&s.get(u.targetId)===null&&(this.ei.delete(c),l.push(this.removeMatchingKeysForTargetId(e,u.targetId)),a++)}),fe.waitFor(l).next(()=>a)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const s=this.ei.get(n)||null;return fe.resolve(s)}addMatchingKeys(e,n,s){return this.ni.qr(n,s),fe.resolve()}removeMatchingKeys(e,n,s){this.ni.$r(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),fe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ni.Wr(n);return fe.resolve(s)}containsKey(e,n){return fe.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n){this.ii={},this.overlays={},this.si=new dh(0),this.oi=!1,this.oi=!0,this._i=new zO,this.referenceDelegate=e(this),this.ai=new qO(this),this.indexManager=new CO,this.remoteDocumentCache=function(a){return new BO(a)}(s=>this.referenceDelegate.ui(s)),this.serializer=new RO(n),this.ci=new jO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ii[e.toKey()];return s||(s=new $O(n,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,s){be("MemoryPersistence","Starting transaction:",e);const a=new HO(this.si.next());return this.referenceDelegate.li(),s(a).next(l=>this.referenceDelegate.hi(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Pi(e,n){return fe.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,n)))}}class HO extends _M{constructor(e){super(),this.currentSequenceNumber=e}}class Cg{constructor(e){this.persistence=e,this.Ti=new xg,this.Ii=null}static Ei(e){return new Cg(e)}get di(){if(this.Ii)return this.Ii;throw je(60996)}addReference(e,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),fe.resolve()}removeReference(e,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(a=>this.di.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.di.add(l.toString()))}).next(()=>s.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.di,s=>{const a=Ve.fromPath(s);return this.Ai(e,a).next(l=>{l||n.removeEntry(a,Be.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return fe.or([()=>fe.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Zf{constructor(e,n){this.persistence=e,this.Ri=new Oa(s=>TM(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=NO(this,n)}static Ei(e,n){return new Zf(e,n)}li(){}hi(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}Vr(e){let n=0;return this.Ar(e,s=>{n++}).next(()=>n)}Ar(e,n){return fe.forEach(this.Ri,(s,a)=>this.gr(e,s,a).next(l=>l?fe.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.Xr(e,c=>this.gr(e,c,n).next(u=>{u||(s++,l.removeEntry(c,Be.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),fe.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rf(e.data.value)),n}gr(e,n,s){return fe.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.Ri.get(n);return fe.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.ls=s,this.hs=a}static Ps(e,n){let s=et(),a=et();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Dg(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return BC()?8:bM(zC())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.Rs(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Vs(e,n,a,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new GO;return this.fs(e,n,c).next(u=>{if(l.result=u,this.Is)return this.gs(e,n,c,u.size)})}).next(()=>l.result)}gs(e,n,s,a){return s.documentReadCount<this.Es?(To()<=at.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),fe.resolve()):(To()<=at.DEBUG&&be("QueryEngine","Query:",wo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(To()<=at.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(n))):fe.resolve())}Rs(e,n){if(Kb(n))return fe.resolve(null);let s=ii(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Rp(n,null,"F"),s=ii(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=et(...l);return this.As.getDocuments(e,c).next(u=>this.indexManager.getMinOffset(e,s).next(h=>{const m=this.ps(n,u);return this.ys(n,m,c,h.readTime)?this.Rs(e,Rp(n,null,"F")):this.ws(e,m,n,h)}))})))}Vs(e,n,s,a){return Kb(n)||a.isEqual(Be.min())?fe.resolve(null):this.As.getDocuments(e,s).next(l=>{const c=this.ps(n,l);return this.ys(n,c,s,a)?fe.resolve(null):(To()<=at.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),wo(n)),this.ws(e,c,n,pM(a,wu)).next(u=>u))})}ps(e,n){let s=new Jt(Zw(e));return n.forEach((a,l)=>{vh(e,l)&&(s=s.add(l))}),s}ys(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}fs(e,n,s){return To()<=at.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",wo(n)),this.As.getDocumentsMatchingQuery(e,n,Os.min(),s)}ws(e,n,s,a){return this.As.getDocumentsMatchingQuery(e,s,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="LocalStore",YO=3e8;class QO{constructor(e,n,s,a){this.persistence=e,this.bs=n,this.serializer=a,this.Ss=new Vt(Ke),this.Ds=new Oa(l=>bg(l),Eg),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kO(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function XO(t,e,n,s){return new QO(t,e,n,s)}async function b1(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,n.Fs(e),n.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],u=[];let h=et();for(const m of a){c.push(m.batchId);for(const g of m.mutations)h=h.add(g.key)}for(const m of l){u.push(m.batchId);for(const g of m.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(s,h).next(m=>({Ms:m,removedBatchIds:c,addedBatchIds:u}))})})}function ZO(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=n.Cs.newChangeBuffer({trackRemovals:!0});return function(u,h,m,g){const d=m.batch,y=d.keys();let _=fe.resolve();return y.forEach(b=>{_=_.next(()=>g.getEntry(h,b)).next(E=>{const R=m.docVersions.get(b);dt(R!==null,48541),E.version.compareTo(R)<0&&(d.applyToRemoteDocument(E,m),E.isValidDocument()&&(E.setReadTime(m.commitVersion),g.addEntry(E)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(h,d))}(n,s,e,l).next(()=>l.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(u){let h=et();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(h=h.add(u.batch.mutations[m].key));return h}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function E1(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function WO(t,e){const n=Fe(t),s=e.snapshotVersion;let a=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Cs.newChangeBuffer({trackRemovals:!0});a=n.Ss;const u=[];e.targetChanges.forEach((g,d)=>{const y=a.get(d);if(!y)return;u.push(n.ai.removeMatchingKeys(l,g.removedDocuments,d).next(()=>n.ai.addMatchingKeys(l,g.addedDocuments,d)));let _=y.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(d)!==null?_=_.withResumeToken(gn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):g.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(g.resumeToken,s)),a=a.insert(d,_),function(E,R,T){return E.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=YO?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(y,_,g)&&u.push(n.ai.updateTargetData(l,_))});let h=zi(),m=et();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))}),u.push(JO(l,c,e.documentUpdates).next(g=>{h=g.xs,m=g.Os})),!s.isEqual(Be.min())){const g=n.ai.getLastRemoteSnapshotVersion(l).next(d=>n.ai.setTargetsMetadata(l,l.currentSequenceNumber,s));u.push(g)}return fe.waitFor(u).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,h,m)).next(()=>h)}).then(l=>(n.Ss=a,l))}function JO(t,e,n){let s=et(),a=et();return n.forEach(l=>s=s.add(l)),e.getEntries(t,s).next(l=>{let c=zi();return n.forEach((u,h)=>{const m=l.get(u);h.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(u)),h.isNoDocument()&&h.version.isEqual(Be.min())?(e.removeEntry(u,h.readTime),c=c.insert(u,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),c=c.insert(u,h)):be(Mg,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",h.version)}),{xs:c,Os:a}})}function eV(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=yg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function tV(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.ai.getTargetData(s,e).next(l=>l?(a=l,fe.resolve(a)):n.ai.allocateTargetId(s).next(c=>(a=new ws(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Ss.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(e,s.targetId)),s})}async function Op(t,e,n){const s=Fe(t),a=s.Ss.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Yo(c))throw c;be(Mg,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(a.target)}function aE(t,e,n){const s=Fe(t);let a=Be.min(),l=et();return s.persistence.runTransaction("Execute query","readwrite",c=>function(h,m,g){const d=Fe(h),y=d.Ds.get(g);return y!==void 0?fe.resolve(d.Ss.get(y)):d.ai.getTargetData(m,g)}(s,c,ii(e)).next(u=>{if(u)return a=u.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(c,u.targetId).next(h=>{l=h})}).next(()=>s.bs.getDocumentsMatchingQuery(c,e,n?a:Be.min(),n?l:et())).next(u=>(nV(s,BM(e),u),{documents:u,Ns:l})))}function nV(t,e,n){let s=t.vs.get(e)||Be.min();n.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),t.vs.set(e,s)}class oE{constructor(){this.activeTargetIds=YM()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rV{constructor(){this.So=new oE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,s){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new oE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="ConnectivityMonitor";class uE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){be(lE,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){be(lE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf=null;function Vp(){return yf===null?yf=function(){return 268435456+Math.round(2147483648*Math.random())}():yf++,"0x"+yf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="RestConnection",sV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aV{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${s}/databases/${a}`,this.qo=this.databaseId.database===qf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Qo(e,n,s,a,l){const c=Vp(),u=this.$o(e,n.toUriEncodedString());be(Km,`Sending RPC '${e}' ${c}:`,u,s);const h={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(h,a,l),this.Ko(e,u,h,s).then(m=>(be(Km,`Received RPC '${e}' ${c}: `,m),m),m=>{throw No(Km,`RPC '${e}' ${c} failed with error: `,m,"url: ",u,"request:",s),m})}Wo(e,n,s,a,l,c){return this.Qo(e,n,s,a,l)}Uo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Go}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}$o(e,n){const s=sV[e];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="WebChannelConnection";class lV extends aV{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,s,a){const l=Vp();return new Promise((c,u)=>{const h=new Sw;h.setWithCredentials(!0),h.listenOnce(Aw.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Af.NO_ERROR:const g=h.getResponseJson();be(Tn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case Af.TIMEOUT:be(Tn,`RPC '${e}' ${l} timed out`),u(new Me(de.DEADLINE_EXCEEDED,"Request time out"));break;case Af.HTTP_ERROR:const d=h.getStatus();if(be(Tn,`RPC '${e}' ${l} failed with status:`,d,"response text:",h.getResponseText()),d>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const b=function(R){const T=R.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(T)>=0?T:de.UNKNOWN}(_.status);u(new Me(b,_.message))}else u(new Me(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Me(de.UNAVAILABLE,"Connection failed."));break;default:je(9055,{s_:e,streamId:l,o_:h.getLastErrorCode(),__:h.getLastError()})}}finally{be(Tn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(a);be(Tn,`RPC '${e}' ${l} sending request:`,a),h.send(n,"POST",m,s,15)})}a_(e,n,s){const a=Vp(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Cw(),u=xw(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Uo(h.initMessageHeaders,n,s),h.encodeInitMessageHeaders=!0;const g=l.join("");be(Tn,`Creating RPC '${e}' stream ${a}: ${g}`,h);const d=c.createWebChannel(g,h);let y=!1,_=!1;const b=new oV({Go:R=>{_?be(Tn,`Not sending because RPC '${e}' stream ${a} is closed:`,R):(y||(be(Tn,`Opening RPC '${e}' stream ${a} transport.`),d.open(),y=!0),be(Tn,`RPC '${e}' stream ${a} sending:`,R),d.send(R))},zo:()=>d.close()}),E=(R,T,A)=>{R.listen(T,x=>{try{A(x)}catch(I){setTimeout(()=>{throw I},0)}})};return E(d,au.EventType.OPEN,()=>{_||(be(Tn,`RPC '${e}' stream ${a} transport opened.`),b.t_())}),E(d,au.EventType.CLOSE,()=>{_||(_=!0,be(Tn,`RPC '${e}' stream ${a} transport closed`),b.r_())}),E(d,au.EventType.ERROR,R=>{_||(_=!0,No(Tn,`RPC '${e}' stream ${a} transport errored. Name:`,R.name,"Message:",R.message),b.r_(new Me(de.UNAVAILABLE,"The operation could not be completed")))}),E(d,au.EventType.MESSAGE,R=>{var T;if(!_){const A=R.data[0];dt(!!A,16349);const x=A,I=(x==null?void 0:x.error)||((T=x[0])===null||T===void 0?void 0:T.error);if(I){be(Tn,`RPC '${e}' stream ${a} received error:`,I);const N=I.status;let L=function(C){const M=Ht[C];if(M!==void 0)return l1(M)}(N),O=I.message;L===void 0&&(L=de.INTERNAL,O="Unknown error status: "+N+" with message "+I.message),_=!0,b.r_(new Me(L,O)),d.close()}else be(Tn,`RPC '${e}' stream ${a} received:`,A),b.i_(A)}}),E(u,Rw.STAT_EVENT,R=>{R.stat===bp.PROXY?be(Tn,`RPC '${e}' stream ${a} detected buffering proxy`):R.stat===bp.NOPROXY&&be(Tn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{b.n_()},0),b}}function Ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){return new hO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n,s=1e3,a=1.5,l=6e4){this.bi=e,this.timerId=n,this.u_=s,this.c_=a,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),a=Math.max(0,n-s);a>0&&be("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="PersistentStream";class w1{constructor(e,n,s,a,l,c,u,h){this.bi=e,this.R_=s,this.V_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new T1(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Ui(n.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.m_===n&&this.B_(s,a)},s=>{e(()=>{const a=new Me(de.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(a)})})}B_(e,n){const s=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{s(()=>this.L_(a))}),this.stream.onMessage(a=>{s(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return be(cE,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(be(cE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uV extends w1{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=pO(this.serializer,e),s=function(l){if(!("targetChange"in l))return Be.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Be.min():c.readTime?si(c.readTime):Be.min()}(e);return this.listener.Q_(n,s)}U_(e){const n={};n.database=Mp(this.serializer),n.addTarget=function(l,c){let u;const h=c.target;if(u=Ap(h)?{documents:vO(l,h)}:{query:_O(l,h).gt},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=f1(l,c.resumeToken);const m=xp(l,c.expectedCount);m!==null&&(u.expectedCount=m)}else if(c.snapshotVersion.compareTo(Be.min())>0){u.readTime=Xf(l,c.snapshotVersion.toTimestamp());const m=xp(l,c.expectedCount);m!==null&&(u.expectedCount=m)}return u}(this.serializer,e);const s=EO(this.serializer,e);s&&(n.labels=s),this.F_(n)}K_(e){const n={};n.database=Mp(this.serializer),n.removeTarget=e,this.F_(n)}}class cV extends w1{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=yO(e.writeResults,e.commitTime),s=si(e.commitTime);return this.listener.j_(s,n)}H_(){const e={};e.database=Mp(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>gO(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{}class hV extends fV{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new Me(de.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,s,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Qo(e,Cp(n,s),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Me(de.UNKNOWN,l.toString())})}Wo(e,n,s,a,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.Wo(e,Cp(n,s),a,c,u,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Me(de.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class dV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ui(n),this.ea=!1):be("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="RemoteStore";class mV{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(c=>{s.enqueueAndForget(async()=>{Va(this)&&(be(Ca,"Restarting streams for network reachability change."),await async function(h){const m=Fe(h);m.aa.add(4),await $u(m),m.la.set("Unknown"),m.aa.delete(4),await wh(m)}(this))})}),this.la=new dV(s,a)}}async function wh(t){if(Va(t))for(const e of t.ua)await e(!0)}async function $u(t){for(const e of t.ua)await e(!1)}function S1(t,e){const n=Fe(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Ng(n)?Ig(n):Qo(n).b_()&&Vg(n,e))}function Og(t,e){const n=Fe(t),s=Qo(n);n._a.delete(e),s.b_()&&A1(n,e),n._a.size===0&&(s.b_()?s.v_():Va(n)&&n.la.set("Unknown"))}function Vg(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qo(t).U_(e)}function A1(t,e){t.ha.Ke(e),Qo(t).K_(e)}function Ig(t){t.ha=new lO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Qo(t).start(),t.la.ta()}function Ng(t){return Va(t)&&!Qo(t).w_()&&t._a.size>0}function Va(t){return Fe(t).aa.size===0}function R1(t){t.ha=void 0}async function pV(t){t.la.set("Online")}async function gV(t){t._a.forEach((e,n)=>{Vg(t,e)})}async function yV(t,e){R1(t),Ng(t)?(t.la.ia(e),Ig(t)):t.la.set("Unknown")}async function vV(t,e,n){if(t.la.set("Online"),e instanceof c1&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const u of l.targetIds)a._a.has(u)&&(await a.remoteSyncer.rejectListen(u,c),a._a.delete(u),a.ha.removeTarget(u))}(t,e)}catch(s){be(Ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Wf(t,s)}else if(e instanceof Df?t.ha.Xe(e):e instanceof u1?t.ha.ot(e):t.ha.nt(e),!n.isEqual(Be.min()))try{const s=await E1(t.localStore);n.compareTo(s)>=0&&await function(l,c){const u=l.ha.It(c);return u.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const g=l._a.get(m);g&&l._a.set(m,g.withResumeToken(h.resumeToken,c))}}),u.targetMismatches.forEach((h,m)=>{const g=l._a.get(h);if(!g)return;l._a.set(h,g.withResumeToken(gn.EMPTY_BYTE_STRING,g.snapshotVersion)),A1(l,h);const d=new ws(g.target,h,m,g.sequenceNumber);Vg(l,d)}),l.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(s){be(Ca,"Failed to raise snapshot:",s),await Wf(t,s)}}async function Wf(t,e,n){if(!Yo(e))throw e;t.aa.add(1),await $u(t),t.la.set("Offline"),n||(n=()=>E1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{be(Ca,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await wh(t)})}function x1(t,e){return e().catch(n=>Wf(t,n,e))}async function Sh(t){const e=Fe(t),n=Ps(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:yg;for(;_V(e);)try{const a=await eV(e.localStore,s);if(a===null){e.oa.length===0&&n.v_();break}s=a.batchId,bV(e,a)}catch(a){await Wf(e,a)}C1(e)&&D1(e)}function _V(t){return Va(t)&&t.oa.length<10}function bV(t,e){t.oa.push(e);const n=Ps(t);n.b_()&&n.W_&&n.G_(e.mutations)}function C1(t){return Va(t)&&!Ps(t).w_()&&t.oa.length>0}function D1(t){Ps(t).start()}async function EV(t){Ps(t).H_()}async function TV(t){const e=Ps(t);for(const n of t.oa)e.G_(n.mutations)}async function wV(t,e,n){const s=t.oa.shift(),a=Sg.from(s,e,n);await x1(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Sh(t)}async function SV(t,e){e&&Ps(t).W_&&await async function(s,a){if(function(c){return aO(c)&&c!==de.ABORTED}(a.code)){const l=s.oa.shift();Ps(s).D_(),await x1(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Sh(s)}}(t,e),C1(t)&&D1(t)}async function fE(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),be(Ca,"RemoteStore received new credentials");const s=Va(n);n.aa.add(3),await $u(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await wh(n)}async function AV(t,e){const n=Fe(t);e?(n.aa.delete(2),await wh(n)):e||(n.aa.add(2),await $u(n),n.la.set("Unknown"))}function Qo(t){return t.Pa||(t.Pa=function(n,s,a){const l=Fe(n);return l.Y_(),new uV(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{jo:pV.bind(null,t),Jo:gV.bind(null,t),Zo:yV.bind(null,t),Q_:vV.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),Ng(t)?Ig(t):t.la.set("Unknown")):(await t.Pa.stop(),R1(t))})),t.Pa}function Ps(t){return t.Ta||(t.Ta=function(n,s,a){const l=Fe(n);return l.Y_(),new cV(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:EV.bind(null,t),Zo:SV.bind(null,t),z_:TV.bind(null,t),j_:wV.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await Sh(t)):(await t.Ta.stop(),t.oa.length>0&&(be(Ca,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,u=new Pg(e,n,c,a,l);return u.start(s),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lg(t,e){if(Ui("AsyncQueue",`${e}: ${t}`),Yo(t))return new Me(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{static emptySet(e){return new Io(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ve.comparator(n.key,s.key):(n,s)=>Ve.comparator(n.key,s.key),this.keyedMap=ou(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.Ia=new Vt(Ve.comparator)}track(e){const n=e.doc.key,s=this.Ia.get(n);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(n):e.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):je(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,s)=>{e.push(s)}),e}}class Uo{constructor(e,n,s,a,l,c,u,h,m){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach(u=>{c.push({type:0,doc:u})}),new Uo(e,n,Io.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class xV{constructor(){this.queries=dE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const a=Fe(n),l=a.queries;a.queries=dE(),l.forEach((c,u)=>{for(const h of u.Ra)h.onError(s)})})(this,new Me(de.ABORTED,"Firestore shutting down"))}}function dE(){return new Oa(t=>Xw(t),yh)}async function CV(t,e){const n=Fe(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Va()&&e.ma()&&(s=2):(l=new RV,s=e.ma()?0:1);try{switch(s){case 0:l.Aa=await n.onListen(a,!0);break;case 1:l.Aa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const u=Lg(c,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(u)}n.queries.set(a,l),l.Ra.push(e),e.ga(n.onlineState),l.Aa&&e.pa(l.Aa)&&kg(n)}async function DV(t,e){const n=Fe(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Ra.indexOf(e);c>=0&&(l.Ra.splice(c,1),l.Ra.length===0?a=e.ma()?0:1:!l.Va()&&e.ma()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function MV(t,e){const n=Fe(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const u of c.Ra)u.pa(a)&&(s=!0);c.Aa=a}}s&&kg(n)}function OV(t,e,n){const s=Fe(t),a=s.queries.get(e);if(a)for(const l of a.Ra)l.onError(n);s.queries.delete(e)}function kg(t){t.fa.forEach(e=>{e.next()})}var Ip,mE;(mE=Ip||(Ip={})).ya="default",mE.Cache="cache";class VV{constructor(e,n,s){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Ip.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.key=e}}class O1{constructor(e){this.key=e}}class IV{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=et(),this.mutatedKeys=et(),this.Ua=Zw(e),this.Ka=new Io(this.Ua)}get Wa(){return this.qa}Ga(e,n){const s=n?n.za:new hE,a=n?n.Ka:this.Ka;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,u=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((g,d)=>{const y=a.get(g),_=vh(this.query,d)?d:null,b=!!y&&this.mutatedKeys.has(y.key),E=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let R=!1;y&&_?y.data.isEqual(_.data)?b!==E&&(s.track({type:3,doc:_}),R=!0):this.ja(y,_)||(s.track({type:2,doc:_}),R=!0,(h&&this.Ua(_,h)>0||m&&this.Ua(_,m)<0)&&(u=!0)):!y&&_?(s.track({type:0,doc:_}),R=!0):y&&!_&&(s.track({type:1,doc:y}),R=!0,(h||m)&&(u=!0)),R&&(_?(c=c.add(_),l=E?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),s.track({type:1,doc:g})}return{Ka:c,za:s,ys:u,mutatedKeys:l}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((g,d)=>function(_,b){const E=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Vt:R})}};return E(_)-E(b)}(g.type,d.type)||this.Ua(g.doc,d.doc)),this.Ha(s),a=a!=null&&a;const u=n&&!a?this.Ja():[],h=this.$a.size===0&&this.current&&!a?1:0,m=h!==this.Qa;return this.Qa=h,c.length!==0||m?{snapshot:new Uo(this.query,e.Ka,l,c,e.mutatedKeys,h===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:u}:{Ya:u}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new hE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=et(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return e.forEach(s=>{this.$a.has(s)||n.push(new O1(s))}),this.$a.forEach(s=>{e.has(s)||n.push(new M1(s))}),n}Xa(e){this.qa=e.Ns,this.$a=et();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Uo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const jg="SyncEngine";class NV{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class PV{constructor(e){this.key=e,this.tu=!1}}class LV{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new Oa(u=>Xw(u),yh),this.iu=new Map,this.su=new Set,this.ou=new Vt(Ve.comparator),this._u=new Map,this.au=new xg,this.uu={},this.cu=new Map,this.lu=jo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function kV(t,e,n=!0){const s=k1(t);let a;const l=s.ru.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.eu()):a=await V1(s,e,n,!0),a}async function jV(t,e){const n=k1(t);await V1(n,e,!0,!1)}async function V1(t,e,n,s){const a=await tV(t.localStore,ii(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let u;return s&&(u=await UV(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&S1(t.remoteStore,a),u}async function UV(t,e,n,s,a){t.Pu=(d,y,_)=>async function(E,R,T,A){let x=R.view.Ga(T);x.ys&&(x=await aE(E.localStore,R.query,!1).then(({documents:O})=>R.view.Ga(O,x)));const I=A&&A.targetChanges.get(R.targetId),N=A&&A.targetMismatches.get(R.targetId)!=null,L=R.view.applyChanges(x,E.isPrimaryClient,I,N);return gE(E,R.targetId,L.Ya),L.snapshot}(t,d,y,_);const l=await aE(t.localStore,e,!0),c=new IV(e,l.Ns),u=c.Ga(l.documents),h=zu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),m=c.applyChanges(u,t.isPrimaryClient,h);gE(t,n,m.Ya);const g=new NV(e,n,c);return t.ru.set(e,g),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),m.snapshot}async function zV(t,e,n){const s=Fe(t),a=s.ru.get(e),l=s.iu.get(a.targetId);if(l.length>1)return s.iu.set(a.targetId,l.filter(c=>!yh(c,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Op(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Og(s.remoteStore,a.targetId),Np(s,a.targetId)}).catch(Ko)):(Np(s,a.targetId),await Op(s.localStore,a.targetId,!0))}async function $V(t,e){const n=Fe(t),s=n.ru.get(e),a=n.iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Og(n.remoteStore,s.targetId))}async function BV(t,e,n){const s=QV(t);try{const a=await function(c,u){const h=Fe(c),m=Wt.now(),g=u.reduce((_,b)=>_.add(b.key),et());let d,y;return h.persistence.runTransaction("Locally write mutations","readwrite",_=>{let b=zi(),E=et();return h.Cs.getEntries(_,g).next(R=>{b=R,b.forEach((T,A)=>{A.isValidDocument()||(E=E.add(T))})}).next(()=>h.localDocuments.getOverlayedDocuments(_,b)).next(R=>{d=R;const T=[];for(const A of u){const x=tO(A,d.get(A.key).overlayedDocument);x!=null&&T.push(new zs(A.key,x,Bw(x.value.mapValue),Nr.exists(!0)))}return h.mutationQueue.addMutationBatch(_,m,T,u)}).next(R=>{y=R;const T=R.applyToLocalDocumentSet(d,E);return h.documentOverlayCache.saveOverlays(_,R.batchId,T)})}).then(()=>({batchId:y.batchId,changes:Jw(d)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,u,h){let m=c.uu[c.currentUser.toKey()];m||(m=new Vt(Ke)),m=m.insert(u,h),c.uu[c.currentUser.toKey()]=m}(s,a.batchId,n),await Bu(s,a.changes),await Sh(s.remoteStore)}catch(a){const l=Lg(a,"Failed to persist write");n.reject(l)}}async function I1(t,e){const n=Fe(t);try{const s=await WO(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n._u.get(l);c&&(dt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.tu=!0:a.modifiedDocuments.size>0?dt(c.tu,14607):a.removedDocuments.size>0&&(dt(c.tu,42227),c.tu=!1))}),await Bu(n,s,e)}catch(s){await Ko(s)}}function pE(t,e,n){const s=Fe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.ru.forEach((l,c)=>{const u=c.view.ga(e);u.snapshot&&a.push(u.snapshot)}),function(c,u){const h=Fe(c);h.onlineState=u;let m=!1;h.queries.forEach((g,d)=>{for(const y of d.Ra)y.ga(u)&&(m=!0)}),m&&kg(h)}(s.eventManager,e),a.length&&s.nu.Q_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function FV(t,e,n){const s=Fe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s._u.get(e),l=a&&a.key;if(l){let c=new Vt(Ve.comparator);c=c.insert(l,An.newNoDocument(l,Be.min()));const u=et().add(l),h=new Eh(Be.min(),new Map,new Vt(Ke),c,u);await I1(s,h),s.ou=s.ou.remove(l),s._u.delete(e),Ug(s)}else await Op(s.localStore,e,!1).then(()=>Np(s,e,n)).catch(Ko)}async function qV(t,e){const n=Fe(t),s=e.batch.batchId;try{const a=await ZO(n.localStore,e);P1(n,s,null),N1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Bu(n,a)}catch(a){await Ko(a)}}async function HV(t,e,n){const s=Fe(t);try{const a=await function(c,u){const h=Fe(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let g;return h.mutationQueue.lookupMutationBatch(m,u).next(d=>(dt(d!==null,37113),g=d.keys(),h.mutationQueue.removeMutationBatch(m,d))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,g,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g)).next(()=>h.localDocuments.getDocuments(m,g))})}(s.localStore,e);P1(s,e,n),N1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Bu(s,a)}catch(a){await Ko(a)}}function N1(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function P1(t,e,n){const s=Fe(t);let a=s.uu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.uu[s.currentUser.toKey()]=a}}function Np(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.iu.get(e))t.ru.delete(s),n&&t.nu.Tu(s,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(s=>{t.au.containsKey(s)||L1(t,s)})}function L1(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(Og(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),Ug(t))}function gE(t,e,n){for(const s of n)s instanceof M1?(t.au.addReference(s.key,e),GV(t,s)):s instanceof O1?(be(jg,"Document no longer in limbo: "+s.key),t.au.removeReference(s.key,e),t.au.containsKey(s.key)||L1(t,s.key)):je(19791,{Iu:s})}function GV(t,e){const n=e.key,s=n.path.canonicalString();t.ou.get(n)||t.su.has(s)||(be(jg,"New document in limbo: "+n),t.su.add(s),Ug(t))}function Ug(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new Ve(xt.fromString(e)),s=t.lu.next();t._u.set(s,new PV(n)),t.ou=t.ou.insert(n,s),S1(t.remoteStore,new ws(ii(Qw(n.path)),s,"TargetPurposeLimboResolution",dh.le))}}async function Bu(t,e,n){const s=Fe(t),a=[],l=[],c=[];s.ru.isEmpty()||(s.ru.forEach((u,h)=>{c.push(s.Pu(h,e,n).then(m=>{var g;if((m||n)&&s.isPrimaryClient){const d=m?!m.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;s.sharedClientState.updateQueryState(h.targetId,d?"current":"not-current")}if(m){a.push(m);const d=Dg.Ps(h.targetId,m);l.push(d)}}))}),await Promise.all(c),s.nu.Q_(a),await async function(h,m){const g=Fe(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>fe.forEach(m,y=>fe.forEach(y.ls,_=>g.persistence.referenceDelegate.addReference(d,y.targetId,_)).next(()=>fe.forEach(y.hs,_=>g.persistence.referenceDelegate.removeReference(d,y.targetId,_)))))}catch(d){if(!Yo(d))throw d;be(Mg,"Failed to update sequence numbers: "+d)}for(const d of m){const y=d.targetId;if(!d.fromCache){const _=g.Ss.get(y),b=_.snapshotVersion,E=_.withLastLimboFreeSnapshotVersion(b);g.Ss=g.Ss.insert(y,E)}}}(s.localStore,l))}async function KV(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){be(jg,"User change. New user:",e.toKey());const s=await b1(n.localStore,e);n.currentUser=e,function(l,c){l.cu.forEach(u=>{u.forEach(h=>{h.reject(new Me(de.CANCELLED,c))})}),l.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Bu(n,s.Ms)}}function YV(t,e){const n=Fe(t),s=n._u.get(e);if(s&&s.tu)return et().add(s.key);{let a=et();const l=n.iu.get(e);if(!l)return a;for(const c of l){const u=n.ru.get(c);a=a.unionWith(u.view.Wa)}return a}}function k1(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=I1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FV.bind(null,e),e.nu.Q_=MV.bind(null,e.eventManager),e.nu.Tu=OV.bind(null,e.eventManager),e}function QV(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HV.bind(null,e),e}class Jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Th(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return XO(this.persistence,new KO,e.initialUser,this.serializer)}Ru(e){return new _1(Cg.Ei,this.serializer)}Au(e){return new rV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jf.provider={build:()=>new Jf};class XV extends Jf{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){dt(this.persistence.referenceDelegate instanceof Zf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new VO(s,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new _1(s=>Zf.Ei(s,n),this.serializer)}}class Pp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>pE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=KV.bind(null,this.syncEngine),await AV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xV}()}createDatastore(e){const n=Th(e.databaseInfo.databaseId),s=function(l){return new lV(l)}(e.databaseInfo);return function(l,c,u,h){return new hV(l,c,u,h)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,l,c,u){return new mV(s,a,l,c,u)}(this.localStore,this.datastore,e.asyncQueue,n=>pE(this.syncEngine,n,0),function(){return uE.C()?new uE:new iV}())}createSyncEngine(e,n){return function(a,l,c,u,h,m,g){const d=new LV(a,l,c,u,h,m);return g&&(d.hu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=Fe(a);be(Ca,"RemoteStore shutting down."),l.aa.add(5),await $u(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Pp.provider={build:()=>new Pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="FirestoreClient";class WV{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Sn.UNAUTHENTICATED,this.clientId=Vw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{be(Ls,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(be(Ls,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Lg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Qm(t,e){t.asyncQueue.verifyOperationInProgress(),be(Ls,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async a=>{s.isEqual(a)||(await b1(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function yE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await JV(t);be(Ls,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>fE(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,a)=>fE(e.remoteStore,a)),t._onlineComponents=e}async function JV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be(Ls,"Using user provided OfflineComponentProvider");try{await Qm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;No("Error using user provided cache. Falling back to memory cache: "+n),await Qm(t,new Jf)}}else be(Ls,"Using default OfflineComponentProvider"),await Qm(t,new XV(void 0));return t._offlineComponents}async function j1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be(Ls,"Using user provided OnlineComponentProvider"),await yE(t,t._uninitializedComponentsProvider._online)):(be(Ls,"Using default OnlineComponentProvider"),await yE(t,new Pp))),t._onlineComponents}function e3(t){return j1(t).then(e=>e.syncEngine)}async function t3(t){const e=await j1(t),n=e.eventManager;return n.onListen=kV.bind(null,e.syncEngine),n.onUnlisten=zV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$V.bind(null,e.syncEngine),n}function n3(t,e,n={}){const s=new xs;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,u,h,m){const g=new ZV({next:y=>{g.yu(),c.enqueueAndForget(()=>DV(l,d)),y.fromCache&&h.source==="server"?m.reject(new Me(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(y)},error:y=>m.reject(y)}),d=new VV(u,g,{includeMetadataChanges:!0,Fa:!0});return CV(l,d)}(await t3(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t,e,n){if(!n)throw new Me(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r3(t,e,n,s){if(e===!0&&s===!0)throw new Me(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _E(t){if(!Ve.isDocumentKey(t))throw new Me(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bE(t){if(Ve.isDocumentKey(t))throw new Me(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je(12329,{type:typeof t})}function Da(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Me(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zg(t);throw new Me(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="firestore.googleapis.com",EE=!0;class TE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Me(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$1,this.ssl=EE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:EE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=v1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MO)throw new Me(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U1((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Me(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Me(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Me(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ah{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new aM;switch(s.type){case"firstParty":return new cM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Me(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=vE.get(n);s&&(be("ComponentProvider","Removing Datastore"),vE.delete(n),s.terminate())}(this),Promise.resolve()}}function i3(t,e,n,s={}){var a;const l=(t=Da(t,Ah))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;l.host!==$1&&l.host!==u&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},l),{host:u,ssl:!1,emulatorOptions:s});if(!zf(h,c)&&(t._setSettings(h),s.mockUserToken)){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=Sn.MOCK_USER;else{m=UC(s.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const d=s.mockUserToken.sub||s.mockUserToken.user_id;if(!d)throw new Me(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Sn(d)}t._authCredentials=new oM(new Mw(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Rh(this.firestore,e,this._query)}}class Ar{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ar(this.firestore,e,this._key)}}class Cs extends Rh{constructor(e,n,s){super(e,n,Qw(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ar(this.firestore,null,new Ve(e))}withConverter(e){return new Cs(this.firestore,e,this._path)}}function B1(t,e,...n){if(t=Ms(t),z1("collection","path",e),t instanceof Ah){const s=xt.fromString(e,...n);return bE(s),new Cs(t,null,s)}{if(!(t instanceof Ar||t instanceof Cs))throw new Me(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(xt.fromString(e,...n));return bE(s),new Cs(t.firestore,null,s)}}function $g(t,e,...n){if(t=Ms(t),arguments.length===1&&(e=Vw.newId()),z1("doc","path",e),t instanceof Ah){const s=xt.fromString(e,...n);return _E(s),new Ar(t,null,new Ve(s))}{if(!(t instanceof Ar||t instanceof Cs))throw new Me(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(xt.fromString(e,...n));return _E(s),new Ar(t.firestore,t instanceof Cs?t.converter:null,new Ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="AsyncQueue";class SE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new T1(this,"async_queue_retry"),this.ju=()=>{const s=Ym();s&&be(wE,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const n=Ym();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new xs;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Yo(e))throw e;be(wE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,Ui("INTERNAL UNHANDLED ERROR: ",AE(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(e,n,s){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const a=Pg.createAndSchedule(this,e,n,s,l=>this.Xu(l));return this.Uu.push(a),a}Ju(){this.Ku&&je(47125,{ec:AE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function AE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Fu extends Ah{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new SE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new SE(e),this._firestoreClient=void 0,await e}}}function s3(t,e){const n=typeof t=="object"?t:QD(),s=typeof t=="string"?t:qf,a=qD(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=kC("firestore");l&&i3(a,...l)}return a}function F1(t){if(t._terminated)throw new Me(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||a3(t),t._firestoreClient}function a3(t){var e,n,s;const a=t._freezeSettings(),l=function(u,h,m,g){return new AM(u,h,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,U1(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new WV(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zo(gn.fromBase64String(e))}catch(n){throw new Me(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zo(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Me(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Me(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Me(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=/^__.*__$/;class l3{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uu(e,this.data,n,this.fieldTransforms)}}class q1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function H1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{oc:t})}}class Hg{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Hg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ac({path:s,cc:!1});return a.lc(e),a}hc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ac({path:s,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return eh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(H1(this.oc)&&o3.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class u3{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Th(e)}dc(e,n,s,a=!1){return new Hg({oc:e,methodName:n,Ec:s,path:pn.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function G1(t){const e=t._freezeSettings(),n=Th(t._databaseId);return new u3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function c3(t,e,n,s,a,l={}){const c=t.dc(l.merge||l.mergeFields?2:0,e,n,a);Gg("Data must be an object, but it was:",c,s);const u=K1(s,c);let h,m;if(l.merge)h=new tr(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const d of l.mergeFields){const y=Lp(e,d,n);if(!c.contains(y))throw new Me(de.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Q1(g,y)||g.push(y)}h=new tr(g),m=c.fieldTransforms.filter(d=>h.covers(d.field))}else h=null,m=c.fieldTransforms;return new l3(new zn(u),h,m)}class Ch extends Bg{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ch}}function f3(t,e,n,s){const a=t.dc(1,e,n);Gg("Data must be an object, but it was:",a,s);const l=[],c=zn.empty();Us(s,(h,m)=>{const g=Kg(e,h,n);m=Ms(m);const d=a.hc(g);if(m instanceof Ch)l.push(g);else{const y=Dh(m,d);y!=null&&(l.push(g),c.set(g,y))}});const u=new tr(l);return new q1(c,u,a.fieldTransforms)}function h3(t,e,n,s,a,l){const c=t.dc(1,e,n),u=[Lp(e,s,n)],h=[a];if(l.length%2!=0)throw new Me(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<l.length;y+=2)u.push(Lp(e,l[y])),h.push(l[y+1]);const m=[],g=zn.empty();for(let y=u.length-1;y>=0;--y)if(!Q1(m,u[y])){const _=u[y];let b=h[y];b=Ms(b);const E=c.hc(_);if(b instanceof Ch)m.push(_);else{const R=Dh(b,E);R!=null&&(m.push(_),g.set(_,R))}}const d=new tr(m);return new q1(g,d,c.fieldTransforms)}function Dh(t,e){if(Y1(t=Ms(t)))return Gg("Unsupported field value:",e,t),K1(t,e);if(t instanceof Bg)return function(s,a){if(!H1(a.oc))throw a.Tc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,a){const l=[];let c=0;for(const u of s){let h=Dh(u,a.Pc(c));h==null&&(h={nullValue:"NULL_VALUE"}),l.push(h),c++}return{arrayValue:{values:l}}}(t,e)}return function(s,a){if((s=Ms(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return QM(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Wt.fromDate(s);return{timestampValue:Xf(a.serializer,l)}}if(s instanceof Wt){const l=new Wt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xf(a.serializer,l)}}if(s instanceof Fg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zo)return{bytesValue:f1(a.serializer,s._byteString)};if(s instanceof Ar){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Rg(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof qg)return function(c,u){return{mapValue:{fields:{[zw]:{stringValue:$w},[Hf]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw u.Tc("VectorValues must only contain numeric values.");return Tg(u.serializer,m)})}}}}}}(s,a);throw a.Tc(`Unsupported field value: ${zg(s)}`)}(t,e)}function K1(t,e){const n={};return Nw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Us(t,(s,a)=>{const l=Dh(a,e.uc(s));l!=null&&(n[s]=l)}),{mapValue:{fields:n}}}function Y1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wt||t instanceof Fg||t instanceof zo||t instanceof Ar||t instanceof Bg||t instanceof qg)}function Gg(t,e,n){if(!Y1(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=zg(n);throw s==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+s)}}function Lp(t,e,n){if((e=Ms(e))instanceof xh)return e._internalPath;if(typeof e=="string")return Kg(t,e);throw eh("Field path arguments must be of type string or ",t,!1,void 0,n)}const d3=new RegExp("[~\\*/\\[\\]]");function Kg(t,e,n){if(e.search(d3)>=0)throw eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xh(...e.split("."))._internalPath}catch{throw eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function eh(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(l||c)&&(h+=" (found",l&&(h+=` in field ${s}`),c&&(h+=` in document ${a}`),h+=")"),new Me(de.INVALID_ARGUMENT,u+t+h)}function Q1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ar(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Z1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m3 extends X1{data(){return super.data()}}function Z1(t,e){return typeof e=="string"?Kg(t,e):e instanceof xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Me(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class g3{convertValue(e,n="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Us(e,(a,l)=>{s[a]=this.convertValue(l,n)}),s}convertVectorValue(e){var n,s,a;const l=(a=(s=(n=e.fields)===null||n===void 0?void 0:n[Hf].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(c=>Ut(c.doubleValue));return new qg(l)}convertGeoPoint(e){return new Fg(Ut(e.latitude),Ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ph(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const n=Vs(e);return new Wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=xt.fromString(e);dt(y1(s),9688,{name:e});const a=new Au(s.get(1),s.get(3)),l=new Ve(s.popFirst(5));return a.isEqual(n)||Ui(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(t,e,n){let s;return s=t?t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class v3 extends X1{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Z1("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Mf extends v3{data(e={}){return super.data(e)}}class _3{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new vf(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Mf(this._firestore,this._userDataWriter,s.key,s,new vf(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Me(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(u=>{const h=new Mf(a._firestore,a._userDataWriter,u.doc.key,u.doc,new vf(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(u=>l||u.type!==3).map(u=>{const h=new Mf(a._firestore,a._userDataWriter,u.doc.key,u.doc,new vf(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,g=-1;return u.type!==0&&(m=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),g=c.indexOf(u.doc.key)),{type:b3(u.type),doc:h,oldIndex:m,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function b3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:t})}}class E3 extends g3{constructor(e){super(),this.firestore=e}convertBytes(e){return new zo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ar(this.firestore,null,n)}}function T3(t){t=Da(t,Rh);const e=Da(t.firestore,Fu),n=F1(e),s=new E3(e);return p3(t._query),n3(n,t._query).then(a=>new _3(e,s,t,a))}function w3(t,e,n,...s){t=Da(t,Ar);const a=Da(t.firestore,Fu),l=G1(a);let c;return c=typeof(e=Ms(e))=="string"||e instanceof xh?h3(l,"updateDoc",t._key,e,n,s):f3(l,"updateDoc",t._key,e),Yg(a,[c.toMutation(t._key,Nr.exists(!0))])}function S3(t){return Yg(Da(t.firestore,Fu),[new wg(t._key,Nr.none())])}function A3(t,e){const n=Da(t.firestore,Fu),s=$g(t),a=y3(t.converter,e);return Yg(n,[c3(G1(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Nr.exists(!1))]).then(()=>s)}function Yg(t,e){return function(s,a){const l=new xs;return s.asyncQueue.enqueueAndForget(async()=>BV(await e3(s),a,l)),l.promise}(F1(t),e)}(function(e,n=!0){(function(a){Go=a})(YD),Bf(new Eu("firestore",(s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),u=new Fu(new lM(s.getProvider("auth-internal")),new fM(c,s.getProvider("app-check-internal")),function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Me(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(m.options.projectId,g)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),u._setSettings(l),u},"PUBLIC").setMultipleInstances(!0)),Vo(Mb,Ob,e),Vo(Mb,Ob,"esm2017")})();var R3="firebase",x3="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vo(R3,x3,"app");const C3={apiKey:"AIzaSyD3_sv5MZQ0bDVT6OVJsGTsDpUS_utILHc",authDomain:"riffrack-d12a3.firebaseapp.com",projectId:"riffrack-d12a3",storageBucket:"riffrack-d12a3.firebasestorage.app",messagingSenderId:"963122475101",appId:"1:963122475101:web:fcfd13ad6a3097eb149db4"},D3=bw(C3),Mh=s3(D3),Oh="products";async function M3(){try{const t=B1(Mh,Oh),n=(await T3(t)).docs.map(s=>({id:s.id,...s.data()}));return console.log("Fetched products:",n),n}catch(t){throw console.error("Error fetching products:",t),t}}async function O3(t){try{const e=B1(Mh,Oh),n=await A3(e,t);return console.log("added item with id",n.id),n}catch(e){throw console.error("failed to add item",e),e}}async function W1(t){const e=t.id;if(!e)throw console.error("Product ID is required for updating."),new Error("Product ID is required for updating.");const n=$g(Mh,Oh,e),{id:s,price:a,...l}=t,c={price:parseFloat(String(a)),...l};try{await w3(n,c),console.log("Document successfully updated!",e)}catch(u){throw console.error("Error updating document: ",u),u}}async function J1(t){if(!t)throw console.error("Product ID is required for deletion."),new Error("Product ID is required for deletion.");const e=$g(Mh,Oh,t);try{await S3(e),console.log("Document successfully deleted!",t)}catch(n){throw console.error("Error deleting document: ",n),n}}const ki=dg((t,e)=>({products:[],filteredProducts:[],loading:!1,error:null,filterTerm:"",sortOption:"price-asc",fetchProducts:async()=>{t({loading:!0,error:null});try{const n=await M3();t({products:n,loading:!1,error:null}),e().applyFilter(e().filterTerm),e().applySort(e().sortOption)}catch(n){console.error("Error fetching products:",n),t({loading:!1,error:"Failed to fetch products"})}},addProduct:async n=>{t({loading:!0,error:null});try{const a={id:(await O3(n)).id,...n};t(l=>{const c=[...l.products,a];let h=[...c.filter(m=>m.title.toLowerCase().includes(l.filterTerm.toLowerCase())||m.category.toLowerCase().includes(l.filterTerm.toLowerCase()))];return l.sortOption==="price-asc"?h.sort((m,g)=>m.price-g.price):l.sortOption==="price-desc"?h.sort((m,g)=>g.price-m.price):l.sortOption==="letter-asc"?h.sort((m,g)=>m.title.localeCompare(g.title)):l.sortOption==="letter-desc"&&h.sort((m,g)=>g.title.localeCompare(m.title)),{products:c,filteredProducts:h,loading:!1,error:null}})}catch(s){throw console.error("Failed to add item:",s),t({loading:!1,error:"Failed to add item"}),s}},updateProduct:async n=>{t({loading:!0,error:null});try{await W1(n),t(s=>{const a=s.products.map(u=>u.id===n.id?{...u,...n}:u);let c=[...a.filter(u=>u.title.toLowerCase().includes(s.filterTerm.toLowerCase())||u.category.toLowerCase().includes(s.filterTerm.toLowerCase()))];return s.sortOption==="price-asc"?c.sort((u,h)=>u.price-h.price):s.sortOption==="price-desc"?c.sort((u,h)=>h.price-u.price):s.sortOption==="letter"?c.sort((u,h)=>u.title.localeCompare(h.title)):s.sortOption==="letter-desc"&&c.sort((u,h)=>h.title.localeCompare(u.title)),{products:a,filteredProducts:c,loading:!1,error:null}})}catch(s){throw console.error("Error updating product:",s),t({loading:!1,error:"Failed to update product"}),s}},removeProduct:async n=>{t({loading:!0,error:null});try{await J1(n),t(s=>{const a=s.products.filter(u=>u.id!==n);let c=[...a.filter(u=>u.title.toLowerCase().includes(s.filterTerm.toLowerCase())||u.category.toLowerCase().includes(s.filterTerm.toLowerCase()))];return s.sortOption==="price-asc"?c.sort((u,h)=>u.price-h.price):s.sortOption==="price-desc"?c.sort((u,h)=>h.price-u.price):s.sortOption==="letter"?c.sort((u,h)=>u.title.localeCompare(h.title)):s.sortOption==="letter-desc"&&c.sort((u,h)=>h.title.localeCompare(u.title)),{products:a,filteredProducts:c,loading:!1,error:null}})}catch(s){throw console.error("Error removing product:",s),t({loading:!1,error:"Failed to remove product"}),s}},applyFilter:n=>{t(s=>{const a=n.toLowerCase();let c=[...s.products.filter(u=>u.title.toLowerCase().includes(a)||u.category.toLowerCase().includes(a))];return s.sortOption==="price-asc"?c.sort((u,h)=>u.price-h.price):s.sortOption==="price-desc"?c.sort((u,h)=>h.price-u.price):s.sortOption==="letter"?c.sort((u,h)=>u.title.localeCompare(h.title)):s.sortOption==="letter-desc"&&c.sort((u,h)=>h.title.localeCompare(u.title)),{filteredProducts:c,filterTerm:a}})},applySort:n=>{t(s=>{let a=[...s.filteredProducts];return n==="price-asc"?a.sort((l,c)=>l.price-c.price):n==="price-desc"?a.sort((l,c)=>c.price-l.price):n==="letter"?a.sort((l,c)=>l.title.localeCompare(c.title)):s.sortOption==="letter-desc"&&a.sort((l,c)=>c.title.localeCompare(l.title)),{filteredProducts:a,sortOption:n}})}})),V3="/riffrack/assets/logo-Ct_mK-1l.svg",I3="data:image/svg+xml,%3csvg%20width='51'%20height='51'%20viewBox='0%200%2051%2051'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M36.125%2038.25C33.7663%2038.25%2031.875%2040.1413%2031.875%2042.5C31.875%2043.6272%2032.3228%2044.7082%2033.1198%2045.5052C33.9168%2046.3022%2034.9978%2046.75%2036.125%2046.75C37.2522%2046.75%2038.3332%2046.3022%2039.1302%2045.5052C39.9272%2044.7082%2040.375%2043.6272%2040.375%2042.5C40.375%2041.3728%2039.9272%2040.2918%2039.1302%2039.4948C38.3332%2038.6978%2037.2522%2038.25%2036.125%2038.25ZM2.125%204.25V8.5H6.375L14.025%2024.6287L11.135%2029.835C10.8162%2030.43%2010.625%2031.1313%2010.625%2031.875C10.625%2033.0022%2011.0728%2034.0832%2011.8698%2034.8802C12.6668%2035.6772%2013.7478%2036.125%2014.875%2036.125H40.375V31.875H15.7675C15.6266%2031.875%2015.4915%2031.819%2015.3918%2031.7194C15.2922%2031.6198%2015.2362%2031.4846%2015.2362%2031.3438C15.2362%2031.2375%2015.2575%2031.1525%2015.3%2031.0888L17.2125%2027.625H33.0438C34.6375%2027.625%2036.04%2026.7325%2036.7625%2025.4363L44.37%2011.6875C44.5187%2011.3475%2044.625%2010.9862%2044.625%2010.625C44.625%2010.0614%2044.4011%209.52091%2044.0026%209.1224C43.6041%208.72388%2043.0636%208.5%2042.5%208.5H11.0712L9.07375%204.25M14.875%2038.25C12.5162%2038.25%2010.625%2040.1413%2010.625%2042.5C10.625%2043.6272%2011.0728%2044.7082%2011.8698%2045.5052C12.6668%2046.3022%2013.7478%2046.75%2014.875%2046.75C16.0022%2046.75%2017.0832%2046.3022%2017.8802%2045.5052C18.6772%2044.7082%2019.125%2043.6272%2019.125%2042.5C19.125%2041.3728%2018.6772%2040.2918%2017.8802%2039.4948C17.0832%2038.6978%2016.0022%2038.25%2014.875%2038.25Z'%20fill='black'/%3e%3c/svg%3e",Du=dg((t,e)=>({cart:[],addToCart:n=>{t(s=>s.cart.find(l=>l.id===n.id)?{cart:s.cart.map(l=>l.id===n.id?{...l,quantity:l.quantity+1}:l)}:{cart:[...s.cart,{...n,quantity:1}]})},updateQuantity:(n,s)=>{t(a=>({cart:a.cart.map(l=>l.id===n?{...l,quantity:s}:l)}))},removeCartItem:n=>{t(s=>({cart:s.cart.filter(a=>a.id!==n)}))},getTotalPrice:()=>e().cart.reduce((s,a)=>s+a.price*a.quantity,0)})),eS=H.createContext({});function N3(t){const e=H.useRef(null);return e.current===null&&(e.current=t()),e.current}const Qg=typeof window<"u",P3=Qg?H.useLayoutEffect:H.useEffect,Xg=H.createContext(null),tS=H.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function L3(t=!0){const e=H.useContext(Xg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=H.useId();H.useEffect(()=>{if(t)return a(l)},[t]);const c=H.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}function Zg(t,e){t.indexOf(e)===-1&&t.push(e)}function Wg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const $i=(t,e,n)=>n>e?e:n<t?t:n;let Jg=()=>{};const Bi={},nS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),rS=t=>/^0[^.\s]+$/u.test(t);function ey(t){let e;return()=>(e===void 0&&(e=t()),e)}const Rr=t=>t,k3=(t,e)=>n=>e(t(n)),qu=(...t)=>t.reduce(k3),Mu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class ty{constructor(){this.subscriptions=[]}add(e){return Zg(this.subscriptions,e),()=>Wg(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ai=t=>t*1e3,oi=t=>t/1e3;function iS(t,e){return e?t*(1e3/e):0}const sS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,j3=1e-7,U3=12;function z3(t,e,n,s,a){let l,c,u=0;do c=e+(n-e)/2,l=sS(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>j3&&++u<U3);return c}function Hu(t,e,n,s){if(t===e&&n===s)return Rr;const a=l=>z3(l,0,1,t,n);return l=>l===0||l===1?l:sS(a(l),e,s)}const aS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,oS=t=>e=>1-t(1-e),lS=Hu(.33,1.53,.69,.99),ny=oS(lS),uS=aS(ny),cS=t=>(t*=2)<1?.5*ny(t):.5*(2-Math.pow(2,-10*(t-1))),ry=t=>1-Math.sin(Math.acos(t)),fS=oS(ry),hS=aS(ry),$3=Hu(.42,0,1,1),B3=Hu(0,0,.58,1),dS=Hu(.42,0,.58,1),F3=t=>Array.isArray(t)&&typeof t[0]!="number",mS=t=>Array.isArray(t)&&typeof t[0]=="number",q3={linear:Rr,easeIn:$3,easeInOut:dS,easeOut:B3,circIn:ry,circInOut:hS,circOut:fS,backIn:ny,backInOut:uS,backOut:lS,anticipate:cS},H3=t=>typeof t=="string",RE=t=>{if(mS(t)){Jg(t.length===4);const[e,n,s,a]=t;return Hu(e,n,s,a)}else if(H3(t))return q3[t];return t},_f=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],xE={value:null};function G3(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function m(d){c.has(d)&&(g.schedule(d),t()),h++,d(u)}const g={schedule:(d,y=!1,_=!1)=>{const E=_&&a?n:s;return y&&c.add(d),E.has(d)||E.add(d),d},cancel:d=>{s.delete(d),c.delete(d)},process:d=>{if(u=d,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),e&&xE.value&&xE.value.frameloop[e].push(h),h=0,n.clear(),a=!1,l&&(l=!1,g.process(d))}};return g}const K3=40;function pS(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=_f.reduce((x,I)=>(x[I]=G3(l,e?I:void 0),x),{}),{setup:u,read:h,resolveKeyframes:m,preUpdate:g,update:d,preRender:y,render:_,postRender:b}=c,E=()=>{const x=Bi.useManualTiming?a.timestamp:performance.now();n=!1,Bi.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(x-a.timestamp,K3),1)),a.timestamp=x,a.isProcessing=!0,u.process(a),h.process(a),m.process(a),g.process(a),d.process(a),y.process(a),_.process(a),b.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(E))},R=()=>{n=!0,s=!0,a.isProcessing||t(E)};return{schedule:_f.reduce((x,I)=>{const N=c[I];return x[I]=(L,O=!1,S=!1)=>(n||R(),N.schedule(L,O,S)),x},{}),cancel:x=>{for(let I=0;I<_f.length;I++)c[_f[I]].cancel(x)},state:a,steps:c}}const{schedule:Ot,cancel:ks,state:dn,steps:Xm}=pS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rr,!0);let Of;function Y3(){Of=void 0}const $n={now:()=>(Of===void 0&&$n.set(dn.isProcessing||Bi.useManualTiming?dn.timestamp:performance.now()),Of),set:t=>{Of=t,queueMicrotask(Y3)}},gS=t=>e=>typeof e=="string"&&e.startsWith(t),iy=gS("--"),Q3=gS("var(--"),sy=t=>Q3(t)?X3.test(t.split("/*")[0].trim()):!1,X3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ou={...Xo,transform:t=>$i(0,1,t)},bf={...Xo,default:1},mu=t=>Math.round(t*1e5)/1e5,ay=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Z3(t){return t==null}const W3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,oy=(t,e)=>n=>!!(typeof n=="string"&&W3.test(n)&&n.startsWith(t)||e&&!Z3(n)&&Object.prototype.hasOwnProperty.call(n,e)),yS=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,u]=s.match(ay);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},J3=t=>$i(0,255,t),Zm={...Xo,transform:t=>Math.round(J3(t))},wa={test:oy("rgb","red"),parse:yS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Zm.transform(t)+", "+Zm.transform(e)+", "+Zm.transform(n)+", "+mu(Ou.transform(s))+")"};function eI(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const kp={test:oy("#"),parse:eI,transform:wa.transform},Gu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Es=Gu("deg"),li=Gu("%"),ze=Gu("px"),tI=Gu("vh"),nI=Gu("vw"),CE={...li,parse:t=>li.parse(t)/100,transform:t=>li.transform(t*100)},Ro={test:oy("hsl","hue"),parse:yS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+li.transform(mu(e))+", "+li.transform(mu(n))+", "+mu(Ou.transform(s))+")"},wn={test:t=>wa.test(t)||kp.test(t)||Ro.test(t),parse:t=>wa.test(t)?wa.parse(t):Ro.test(t)?Ro.parse(t):kp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?wa.transform(t):Ro.transform(t)},rI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iI(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ay))==null?void 0:e.length)||0)+(((n=t.match(rI))==null?void 0:n.length)||0)>0}const vS="number",_S="color",sI="var",aI="var(",DE="${}",oI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const u=e.replace(oI,h=>(wn.test(h)?(s.color.push(l),a.push(_S),n.push(wn.parse(h))):h.startsWith(aI)?(s.var.push(l),a.push(sI),n.push(h)):(s.number.push(l),a.push(vS),n.push(parseFloat(h))),++l,DE)).split(DE);return{values:n,split:u,indexes:s,types:a}}function bS(t){return Vu(t).values}function ES(t){const{split:e,types:n}=Vu(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const u=n[c];u===vS?l+=mu(a[c]):u===_S?l+=wn.transform(a[c]):l+=a[c]}return l}}const lI=t=>typeof t=="number"?0:t;function uI(t){const e=bS(t);return ES(t)(e.map(lI))}const js={test:iI,parse:bS,createTransformer:ES,getAnimatableNone:uI};function Wm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function cI({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;a=Wm(h,u,t+1/3),l=Wm(h,u,t),c=Wm(h,u,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function th(t,e){return n=>n>0?e:t}const Dt=(t,e,n)=>t+(e-t)*n,Jm=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},fI=[kp,wa,Ro],hI=t=>fI.find(e=>e.test(t));function ME(t){const e=hI(t);if(!e)return!1;let n=e.parse(t);return e===Ro&&(n=cI(n)),n}const OE=(t,e)=>{const n=ME(t),s=ME(e);if(!n||!s)return th(t,e);const a={...n};return l=>(a.red=Jm(n.red,s.red,l),a.green=Jm(n.green,s.green,l),a.blue=Jm(n.blue,s.blue,l),a.alpha=Dt(n.alpha,s.alpha,l),wa.transform(a))},jp=new Set(["none","hidden"]);function dI(t,e){return jp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function mI(t,e){return n=>Dt(t,e,n)}function ly(t){return typeof t=="number"?mI:typeof t=="string"?sy(t)?th:wn.test(t)?OE:yI:Array.isArray(t)?TS:typeof t=="object"?wn.test(t)?OE:pI:th}function TS(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>ly(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function pI(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=ly(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function gI(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],u=t.values[c]??0;n[a]=u,s[l]++}return n}const yI=(t,e)=>{const n=js.createTransformer(e),s=Vu(t),a=Vu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?jp.has(t)&&!a.values.length||jp.has(e)&&!s.values.length?dI(t,e):qu(TS(gI(s,a),a.values),n):th(t,e)};function wS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Dt(t,e,n):ly(t)(t,e)}const vI=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ot.update(e,n),stop:()=>ks(e),now:()=>dn.isProcessing?dn.timestamp:$n.now()}},SS=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=t(l/(a-1))+", ";return`linear(${s.substring(0,s.length-2)})`},nh=2e4;function uy(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<nh;)e+=n,s=t.next(e);return e>=nh?1/0:e}function _I(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(uy(s),nh);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:oi(a)}}const bI=5;function AS(t,e,n){const s=Math.max(e-bI,0);return iS(n-t(s),e-s)}const Pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},VE=.001;function EI({duration:t=Pt.duration,bounce:e=Pt.bounce,velocity:n=Pt.velocity,mass:s=Pt.mass}){let a,l,c=1-e;c=$i(Pt.minDamping,Pt.maxDamping,c),t=$i(Pt.minDuration,Pt.maxDuration,oi(t)),c<1?(a=m=>{const g=m*c,d=g*t,y=g-n,_=Up(m,c),b=Math.exp(-d);return VE-y/_*b},l=m=>{const d=m*c*t,y=d*n+n,_=Math.pow(c,2)*Math.pow(m,2)*t,b=Math.exp(-d),E=Up(Math.pow(m,2),c);return(-a(m)+VE>0?-1:1)*((y-_)*b)/E}):(a=m=>{const g=Math.exp(-m*t),d=(m-n)*t+1;return-.001+g*d},l=m=>{const g=Math.exp(-m*t),d=(n-m)*(t*t);return g*d});const u=5/t,h=wI(a,l,u);if(t=ai(t),isNaN(h))return{stiffness:Pt.stiffness,damping:Pt.damping,duration:t};{const m=Math.pow(h,2)*s;return{stiffness:m,damping:c*2*Math.sqrt(s*m),duration:t}}}const TI=12;function wI(t,e,n){let s=n;for(let a=1;a<TI;a++)s=s-t(s)/e(s);return s}function Up(t,e){return t*Math.sqrt(1-e*e)}const SI=["duration","bounce"],AI=["stiffness","damping","mass"];function IE(t,e){return e.some(n=>t[n]!==void 0)}function RI(t){let e={velocity:Pt.velocity,stiffness:Pt.stiffness,damping:Pt.damping,mass:Pt.mass,isResolvedFromDuration:!1,...t};if(!IE(t,AI)&&IE(t,SI))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*$i(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Pt.mass,stiffness:a,damping:l}}else{const n=EI(t);e={...e,...n,mass:Pt.mass},e.isResolvedFromDuration=!0}return e}function rh(t=Pt.visualDuration,e=Pt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:l},{stiffness:h,damping:m,mass:g,duration:d,velocity:y,isResolvedFromDuration:_}=RI({...n,velocity:-oi(n.velocity||0)}),b=y||0,E=m/(2*Math.sqrt(h*g)),R=c-l,T=oi(Math.sqrt(h/g)),A=Math.abs(R)<5;s||(s=A?Pt.restSpeed.granular:Pt.restSpeed.default),a||(a=A?Pt.restDelta.granular:Pt.restDelta.default);let x;if(E<1){const N=Up(T,E);x=L=>{const O=Math.exp(-E*T*L);return c-O*((b+E*T*R)/N*Math.sin(N*L)+R*Math.cos(N*L))}}else if(E===1)x=N=>c-Math.exp(-T*N)*(R+(b+T*R)*N);else{const N=T*Math.sqrt(E*E-1);x=L=>{const O=Math.exp(-E*T*L),S=Math.min(N*L,300);return c-O*((b+E*T*R)*Math.sinh(S)+N*R*Math.cosh(S))/N}}const I={calculatedDuration:_&&d||null,next:N=>{const L=x(N);if(_)u.done=N>=d;else{let O=N===0?b:0;E<1&&(O=N===0?ai(b):AS(x,N,L));const S=Math.abs(O)<=s,C=Math.abs(c-L)<=a;u.done=S&&C}return u.value=u.done?c:L,u},toString:()=>{const N=Math.min(uy(I),nh),L=SS(O=>I.next(N*O).value,N,30);return N+"ms "+L},toTransition:()=>{}};return I}rh.applyToOptions=t=>{const e=_I(t,100,rh);return t.ease=e.ease,t.duration=ai(e.duration),t.type="keyframes",t};function zp({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:h,restDelta:m=.5,restSpeed:g}){const d=t[0],y={done:!1,value:d},_=S=>u!==void 0&&S<u||h!==void 0&&S>h,b=S=>u===void 0?h:h===void 0||Math.abs(u-S)<Math.abs(h-S)?u:h;let E=n*e;const R=d+E,T=c===void 0?R:c(R);T!==R&&(E=T-d);const A=S=>-E*Math.exp(-S/s),x=S=>T+A(S),I=S=>{const C=A(S),M=x(S);y.done=Math.abs(C)<=m,y.value=y.done?T:M};let N,L;const O=S=>{_(y.value)&&(N=S,L=rh({keyframes:[y.value,b(y.value)],velocity:AS(x,S,y.value),damping:a,stiffness:l,restDelta:m,restSpeed:g}))};return O(0),{calculatedDuration:null,next:S=>{let C=!1;return!L&&N===void 0&&(C=!0,I(S),O(S)),N!==void 0&&S>=N?L.next(S-N):(!C&&I(S),y)}}}function xI(t,e,n){const s=[],a=n||Bi.mix||wS,l=t.length-1;for(let c=0;c<l;c++){let u=a(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||Rr:e;u=qu(h,u)}s.push(u)}return s}function CI(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(Jg(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=xI(e,s,a),h=u.length,m=g=>{if(c&&g<t[0])return e[0];let d=0;if(h>1)for(;d<t.length-2&&!(g<t[d+1]);d++);const y=Mu(t[d],t[d+1],g);return u[d](y)};return n?g=>m($i(t[0],t[l-1],g)):m}function DI(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Mu(0,e,s);t.push(Dt(n,1,a))}}function MI(t){const e=[0];return DI(e,t.length-1),e}function OI(t,e){return t.map(n=>n*e)}function VI(t,e){return t.map(()=>e||dS).splice(0,t.length-1)}function pu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=F3(s)?s.map(RE):RE(s),l={done:!1,value:e[0]},c=OI(n&&n.length===e.length?n:MI(e),t),u=CI(c,e,{ease:Array.isArray(a)?a:VI(e,a)});return{calculatedDuration:t,next:h=>(l.value=u(h),l.done=h>=t,l)}}const II=t=>t!==null;function cy(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(II),u=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!u||s===void 0?l[u]:s}const NI={decay:zp,inertia:zp,tween:pu,keyframes:pu,spring:rh};function RS(t){typeof t.type=="string"&&(t.type=NI[t.type])}class fy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const PI=t=>t/100;class hy extends fy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var s,a;if(n){const{motionValue:l}=this.options;l&&l.updatedAt!==$n.now()&&this.tick($n.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;RS(e);const{type:n=pu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:u}=e;const h=n||pu;h!==pu&&typeof u[0]!="number"&&(this.mixKeyframes=qu(PI,wS(u[0],u[1])),u=[0,100]);const m=h({...e,keyframes:u});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=uy(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:g,repeat:d,repeatType:y,repeatDelay:_,type:b,onUpdate:E,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const T=this.currentTime-m*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?T<0:T>a;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let x=this.currentTime,I=s;if(d){const S=Math.min(this.currentTime,a)/u;let C=Math.floor(S),M=S%1;!M&&S>=1&&(M=1),M===1&&C--,C=Math.min(C,d+1),!!(C%2)&&(y==="reverse"?(M=1-M,_&&(M-=_/u)):y==="mirror"&&(I=c)),x=$i(0,1,M)*u}const N=A?{done:!1,value:g[0]}:I.next(x);l&&(N.value=l(N.value));let{done:L}=N;!A&&h!==null&&(L=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return O&&b!==zp&&(N.value=cy(g,this.options,R,this.speed)),E&&E(N.value),O&&this.finish(),N}then(e,n){return this.finished.then(e,n)}get duration(){return oi(this.calculatedDuration)}get time(){return oi(this.currentTime)}set time(e){var n;e=ai(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime($n.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=oi(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=vI,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime($n.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function LI(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Sa=t=>t*180/Math.PI,$p=t=>{const e=Sa(Math.atan2(t[1],t[0]));return Bp(e)},kI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:$p,rotateZ:$p,skewX:t=>Sa(Math.atan(t[1])),skewY:t=>Sa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Bp=t=>(t=t%360,t<0&&(t+=360),t),NE=$p,PE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),LE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),jI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:PE,scaleY:LE,scale:t=>(PE(t)+LE(t))/2,rotateX:t=>Bp(Sa(Math.atan2(t[6],t[5]))),rotateY:t=>Bp(Sa(Math.atan2(-t[2],t[0]))),rotateZ:NE,rotate:NE,skewX:t=>Sa(Math.atan(t[4])),skewY:t=>Sa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function kE(t){return t.includes("scale")?1:0}function Fp(t,e){if(!t||t==="none")return kE(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=jI,a=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=kI,a=u}if(!a)return kE(e);const l=s[e],c=a[1].split(",").map(zI);return typeof l=="function"?l(c):c[l]}const UI=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Fp(n,e)};function zI(t){return parseFloat(t.trim())}const Zo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wo=new Set(Zo),jE=t=>t===Xo||t===ze,$I=new Set(["x","y","z"]),BI=Zo.filter(t=>!$I.has(t));function FI(t){const e=[];return BI.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Aa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Fp(e,"x"),y:(t,{transform:e})=>Fp(e,"y")};Aa.translateX=Aa.x;Aa.translateY=Aa.y;const Ra=new Set;let qp=!1,Hp=!1,Gp=!1;function xS(){if(Hp){const t=Array.from(Ra).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=FI(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{var u;(u=s.getValue(l))==null||u.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Hp=!1,qp=!1,Ra.forEach(t=>t.complete(Gp)),Ra.clear()}function CS(){Ra.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Hp=!0)})}function qI(){Gp=!0,CS(),xS(),Gp=!1}class dy{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ra.add(this),qp||(qp=!0,Ot.read(CS),Ot.resolveKeyframes(xS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const u=s.readValue(n,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}LI(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ra.delete(this)}cancel(){this.state==="scheduled"&&(Ra.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const HI=t=>t.startsWith("--");function GI(t,e,n){HI(e)?t.style.setProperty(e,n):t.style[e]=n}const KI=ey(()=>window.ScrollTimeline!==void 0),YI={};function QI(t,e){const n=ey(t);return()=>YI[e]??n()}const DS=QI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),uu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,UE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uu([0,.65,.55,1]),circOut:uu([.55,0,1,.45]),backIn:uu([.31,.01,.66,-.59]),backOut:uu([.33,1.53,.69,.99])};function MS(t,e){if(t)return typeof t=="function"?DS()?SS(t,e):"ease-out":mS(t)?uu(t):Array.isArray(t)?t.map(n=>MS(n,e)||UE.easeOut):UE[t]}function XI(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:u="easeOut",times:h}={},m=void 0){const g={[e]:n};h&&(g.offset=h);const d=MS(u,a);Array.isArray(d)&&(g.easing=d);const y={delay:s,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(y.pseudoElement=m),t.animate(g,y)}function OS(t){return typeof t=="function"&&"applyToOptions"in t}function ZI({type:t,...e}){return OS(t)&&DS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class WI extends fy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Jg(typeof e.type!="string");const m=ZI(e);this.animation=XI(n,s,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=cy(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):GI(n,s,g),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return oi(Number(e))}get time(){return oi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ai(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&KI()?(this.animation.timeline=e,Rr):n(this)}}const VS={anticipate:cS,backInOut:uS,circInOut:hS};function JI(t){return t in VS}function e4(t){typeof t.ease=="string"&&JI(t.ease)&&(t.ease=VS[t.ease])}const zE=10;class t4 extends WI{constructor(e){e4(e),RS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new hy({...c,autoplay:!1}),h=ai(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-zE).value,u.sample(h).value,zE),u.stop()}}const $E=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(js.test(t)||t==="0")&&!t.startsWith("url("));function n4(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function r4(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=$E(a,e),u=$E(l,e);return!c||!u?!1:n4(t)||(n==="spring"||OS(n))&&s}const i4=new Set(["opacity","clipPath","filter","transform"]),s4=ey(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function a4(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return s4()&&n&&i4.has(n)&&(n!=="transform"||!h)&&!u&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const o4=40;class l4 extends fy{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:u,name:h,motionValue:m,element:g,...d}){var b;super(),this.stop=()=>{var E,R;this._animation&&(this._animation.stop(),(E=this.stopTimeline)==null||E.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=$n.now();const y={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:h,motionValue:m,element:g,...d},_=(g==null?void 0:g.KeyframeResolver)||dy;this.keyframeResolver=new _(u,(E,R,T)=>this.onKeyframesResolved(E,R,y,!T),h,m,g),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:u,delay:h,isHandoff:m,onUpdate:g}=s;this.resolvedAt=$n.now(),r4(e,l,c,u)||((Bi.instantAnimations||!h)&&(g==null||g(cy(e,s,n))),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const y={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>o4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},_=!m&&a4(y)?new t4({...y,element:y.motionValue.owner.current}):new hy(y);_.finished.then(()=>this.notifyFinished()).catch(Rr),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),qI()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const u4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function c4(t){const e=u4.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function IS(t,e,n=1){const[s,a]=c4(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return nS(c)?parseFloat(c):c}return sy(a)?IS(a,e,n+1):a}function my(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const NS=new Set(["width","height","top","left","right","bottom",...Zo]),f4={test:t=>t==="auto",parse:t=>t},PS=t=>e=>e.test(t),LS=[Xo,ze,li,Es,nI,tI,f4],BE=t=>LS.find(PS(t));function h4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||rS(t):!0}const d4=new Set(["brightness","contrast","saturate","opacity"]);function m4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(ay)||[];if(!s)return t;const a=n.replace(s,"");let l=d4.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const p4=/\b([a-z-]*)\(.*?\)/gu,Kp={...js,getAnimatableNone:t=>{const e=t.match(p4);return e?e.map(m4).join(" "):t}},FE={...Xo,transform:Math.round},g4={rotate:Es,rotateX:Es,rotateY:Es,rotateZ:Es,scale:bf,scaleX:bf,scaleY:bf,scaleZ:bf,skew:Es,skewX:Es,skewY:Es,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:Ou,originX:CE,originY:CE,originZ:ze},py={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,backgroundPositionX:ze,backgroundPositionY:ze,...g4,zIndex:FE,fillOpacity:Ou,strokeOpacity:Ou,numOctaves:FE},y4={...py,color:wn,backgroundColor:wn,outlineColor:wn,fill:wn,stroke:wn,borderColor:wn,borderTopColor:wn,borderRightColor:wn,borderBottomColor:wn,borderLeftColor:wn,filter:Kp,WebkitFilter:Kp},kS=t=>y4[t];function jS(t,e){let n=kS(t);return n!==Kp&&(n=js),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const v4=new Set(["auto","none","0"]);function _4(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!v4.has(l)&&Vu(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=jS(n,a)}class b4 extends dy{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),sy(m))){const g=IS(m,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!NS.has(s)||e.length!==2)return;const[a,l]=e,c=BE(a),u=BE(l);if(c!==u)if(jE(c)&&jE(u))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else Aa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||h4(e[a]))&&s.push(a);s.length&&_4(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Aa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Aa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function E4(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=(n==null?void 0:n[t])??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const qE=30,T4=t=>!isNaN(parseFloat(t));class w4{constructor(e,n={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{var c,u;const l=$n.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();a&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=$n.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=T4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ty);const s=this.events[e].add(n);return e==="change"?()=>{s(),Ot.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$n.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>qE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,qE);return iS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $o(t,e){return new w4(t,e)}const US=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:gy}=pS(queueMicrotask,!1),Ir={x:!1,y:!1};function zS(){return Ir.x||Ir.y}function S4(t){return t==="x"||t==="y"?Ir[t]?null:(Ir[t]=!0,()=>{Ir[t]=!1}):Ir.x||Ir.y?null:(Ir.x=Ir.y=!0,()=>{Ir.x=Ir.y=!1})}function $S(t,e){const n=E4(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function HE(t){return!(t.pointerType==="touch"||zS())}function A4(t,e,n={}){const[s,a,l]=$S(t,n),c=u=>{if(!HE(u))return;const{target:h}=u,m=e(h,u);if(typeof m!="function"||!h)return;const g=d=>{HE(d)&&(m(d),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,a)};return s.forEach(u=>{u.addEventListener("pointerenter",c,a)}),l}const BS=(t,e)=>e?t===e?!0:BS(t,e.parentElement):!1,yy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,R4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function x4(t){return R4.has(t.tagName)||t.tabIndex!==-1}const Vf=new WeakSet;function GE(t){return e=>{e.key==="Enter"&&t(e)}}function ep(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const C4=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=GE(()=>{if(Vf.has(n))return;ep(n,"down");const a=GE(()=>{ep(n,"up")}),l=()=>ep(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function KE(t){return yy(t)&&!zS()}function D4(t,e,n={}){const[s,a,l]=$S(t,n),c=u=>{const h=u.currentTarget;if(!KE(u))return;Vf.add(h);const m=e(h,u),g=(_,b)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",y),Vf.has(h)&&Vf.delete(h),KE(_)&&typeof m=="function"&&m(_,{success:b})},d=_=>{g(_,h===window||h===document||n.useGlobalTarget||BS(h,_.target))},y=_=>{g(_,!1)};window.addEventListener("pointerup",d,a),window.addEventListener("pointercancel",y,a)};return s.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",c,a),u instanceof HTMLElement&&(u.addEventListener("focus",m=>C4(m,a)),!x4(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),l}const M4=[...LS,wn,js],O4=t=>M4.find(PS(t)),FS=H.createContext({strict:!1}),YE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bo={};for(const t in YE)Bo[t]={isEnabled:e=>YE[t].some(n=>!!e[n])};function V4(t){for(const e in t)Bo[e]={...Bo[e],...t[e]}}const I4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ih(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||I4.has(t)}let qS=t=>!ih(t);function N4(t){t&&(qS=e=>e.startsWith("on")?!ih(e):t(e))}try{N4(require("@emotion/is-prop-valid").default)}catch{}function P4(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(qS(a)||n===!0&&ih(a)||!e&&!ih(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}function L4(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const Vh=H.createContext({});function Ih(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Iu(t){return typeof t=="string"||Array.isArray(t)}const vy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_y=["initial",...vy];function Nh(t){return Ih(t.animate)||_y.some(e=>Iu(t[e]))}function HS(t){return!!(Nh(t)||t.variants)}function k4(t,e){if(Nh(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Iu(n)?n:void 0,animate:Iu(s)?s:void 0}}return t.inherit!==!1?e:{}}function j4(t){const{initial:e,animate:n}=k4(t,H.useContext(Vh));return H.useMemo(()=>({initial:e,animate:n}),[QE(e),QE(n)])}function QE(t){return Array.isArray(t)?t.join(" "):t}const U4=Symbol.for("motionComponentSymbol");function xo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function z4(t,e,n){return H.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):xo(n)&&(n.current=s))},[e])}const by=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$4="framerAppearId",GS="data-"+by($4),KS=H.createContext({});function B4(t,e,n,s,a){var E,R;const{visualElement:l}=H.useContext(Vh),c=H.useContext(FS),u=H.useContext(Xg),h=H.useContext(tS).reducedMotion,m=H.useRef(null);s=s||c.renderer,!m.current&&s&&(m.current=s(t,{visualState:e,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const g=m.current,d=H.useContext(KS);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&F4(m.current,n,a,d);const y=H.useRef(!1);H.useInsertionEffect(()=>{g&&y.current&&g.update(n,u)});const _=n[GS],b=H.useRef(!!_&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,_))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,_)));return P3(()=>{g&&(y.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),gy.render(g.render),b.current&&g.animationState&&g.animationState.animateChanges())}),H.useEffect(()=>{g&&(!b.current&&g.animationState&&g.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,_)}),b.current=!1))}),g}function F4(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:u,layoutScroll:h,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:YS(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||u&&xo(u),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:g,layoutScroll:h,layoutRoot:m})}function YS(t){if(t)return t.options.allowProjection!==!1?t.projection:YS(t.parent)}function q4({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:a}){t&&V4(t);function l(u,h){let m;const g={...H.useContext(tS),...u,layoutId:H4(u)},{isStatic:d}=g,y=j4(u),_=s(u,d);if(!d&&Qg){G4();const b=K4(g);m=b.MeasureLayout,y.visualElement=B4(a,_,g,e,b.ProjectionNode)}return Y.jsxs(Vh.Provider,{value:y,children:[m&&y.visualElement?Y.jsx(m,{visualElement:y.visualElement,...g}):null,n(a,u,z4(_,y.visualElement,h),_,d,y.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=H.forwardRef(l);return c[U4]=a,c}function H4({layoutId:t}){const e=H.useContext(eS).id;return e&&t!==void 0?e+"-"+t:t}function G4(t,e){H.useContext(FS).strict}function K4(t){const{drag:e,layout:n}=Bo;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const Nu={};function Y4(t){for(const e in t)Nu[e]=t[e],iy(e)&&(Nu[e].isCSSVariable=!0)}function QS(t,{layout:e,layoutId:n}){return Wo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Nu[t]||t==="opacity")}const Rn=t=>!!(t&&t.getVelocity),Q4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},X4=Zo.length;function Z4(t,e,n){let s="",a=!0;for(let l=0;l<X4;l++){const c=Zo[l],u=t[c];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(c.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const m=US(u,py[c]);if(!h){a=!1;const g=Q4[c]||c;s+=`${g}(${m}) `}n&&(e[c]=m)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Ey(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,u=!1;for(const h in e){const m=e[h];if(Wo.has(h)){c=!0;continue}else if(iy(h)){a[h]=m;continue}else{const g=US(m,py[h]);h.startsWith("origin")?(u=!0,l[h]=g):s[h]=g}}if(e.transform||(c||n?s.transform=Z4(e,t.transform,n):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:g=0}=l;s.transformOrigin=`${h} ${m} ${g}`}}const Ty=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function XS(t,e,n){for(const s in e)!Rn(e[s])&&!QS(s,n)&&(t[s]=e[s])}function W4({transformTemplate:t},e){return H.useMemo(()=>{const n=Ty();return Ey(n,e,t),Object.assign({},n.vars,n.style)},[e])}function J4(t,e){const n=t.style||{},s={};return XS(s,n,t),Object.assign(s,W4(t,e)),s}function eN(t,e){const n={},s=J4(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const tN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wy(t){return typeof t!="string"||t.includes("-")?!1:!!(tN.indexOf(t)>-1||/[A-Z]/u.test(t))}const nN={offset:"stroke-dashoffset",array:"stroke-dasharray"},rN={offset:"strokeDashoffset",array:"strokeDasharray"};function iN(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?nN:rN;t[l.offset]=ze.transform(-s);const c=ze.transform(e),u=ze.transform(n);t[l.array]=`${c} ${u}`}function ZS(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},h,m,g){if(Ey(t,u,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:y}=t;d.transform&&(y.transform=d.transform,delete d.transform),(y.transform||d.transformOrigin)&&(y.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),y.transform&&(y.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),s!==void 0&&(d.scale=s),a!==void 0&&iN(d,a,l,c,!1)}const WS=()=>({...Ty(),attrs:{}}),JS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function sN(t,e,n,s){const a=H.useMemo(()=>{const l=WS();return ZS(l,e,JS(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};XS(l,t.style,t),a.style={...l,...a.style}}return a}function aN(t=!1){return(n,s,a,{latestValues:l},c)=>{const h=(wy(n)?sN:eN)(s,l,c,n),m=P4(s,typeof n=="string",t),g=n!==H.Fragment?{...m,...h,ref:a}:{},{children:d}=s,y=H.useMemo(()=>Rn(d)?d.get():d,[d]);return H.createElement(n,{...g,children:y})}}function XE(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Sy(t,e,n,s){if(typeof e=="function"){const[a,l]=XE(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=XE(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function If(t){return Rn(t)?t.get():t}function oN({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:lN(n,s,a,t),renderState:e()}}const e2=t=>(e,n)=>{const s=H.useContext(Vh),a=H.useContext(Xg),l=()=>oN(t,e,s,a);return n?l():N3(l)};function lN(t,e,n,s){const a={},l=s(t,{});for(const y in l)a[y]=If(l[y]);let{initial:c,animate:u}=t;const h=Nh(t),m=HS(t);e&&m&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const d=g?u:c;if(d&&typeof d!="boolean"&&!Ih(d)){const y=Array.isArray(d)?d:[d];for(let _=0;_<y.length;_++){const b=Sy(t,y[_]);if(b){const{transitionEnd:E,transition:R,...T}=b;for(const A in T){let x=T[A];if(Array.isArray(x)){const I=g?x.length-1:0;x=x[I]}x!==null&&(a[A]=x)}for(const A in E)a[A]=E[A]}}}return a}function Ay(t,e,n){var l;const{style:s}=t,a={};for(const c in s)(Rn(s[c])||e.style&&Rn(e.style[c])||QS(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const uN={useVisualState:e2({scrapeMotionValuesFromProps:Ay,createRenderState:Ty})};function t2(t,e,n){const s=Ay(t,e,n);for(const a in t)if(Rn(t[a])||Rn(e[a])){const l=Zo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const cN={useVisualState:e2({scrapeMotionValuesFromProps:t2,createRenderState:WS})};function fN(t,e){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...wy(s)?cN:uN,preloadedFeatures:t,useRender:aN(a),createVisualElement:e,Component:s};return q4(c)}}function Pu(t,e,n){const s=t.getProps();return Sy(s,e,n!==void 0?n:s.custom,t)}const Yp=t=>Array.isArray(t);function hN(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,$o(n))}function dN(t){return Yp(t)?t[t.length-1]||0:t}function mN(t,e){const n=Pu(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const u=dN(l[c]);hN(t,c,u)}}function pN(t){return!!(Rn(t)&&t.add)}function Qp(t,e){const n=t.getValue("willChange");if(pN(n))return n.add(e);if(!n&&Bi.WillChange){const s=new Bi.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function n2(t){return t.props[GS]}const gN=t=>t!==null;function yN(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(gN),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const vN={type:"spring",stiffness:500,damping:25,restSpeed:10},_N=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),bN={type:"keyframes",duration:.8},EN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TN=(t,{keyframes:e})=>e.length>2?bN:Wo.has(t)?t.startsWith("scale")?_N(e[1]):vN:EN;function wN({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:u,from:h,elapsed:m,...g}){return!!Object.keys(g).length}const Ry=(t,e,n,s={},a,l)=>c=>{const u=my(s,t)||{},h=u.delay||s.delay||0;let{elapsed:m=0}=s;m=m-ai(h);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-m,onUpdate:y=>{e.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:l?void 0:a};wN(u)||Object.assign(g,TN(t,g)),g.duration&&(g.duration=ai(g.duration)),g.repeatDelay&&(g.repeatDelay=ai(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let d=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(d=!0)),(Bi.instantAnimations||Bi.skipAnimations)&&(d=!0,g.duration=0,g.delay=0),g.allowFlatten=!u.type&&!u.ease,d&&!l&&e.get()!==void 0){const y=yN(g.keyframes,u);if(y!==void 0){Ot.update(()=>{g.onUpdate(y),g.onComplete()});return}}return u.isSync?new hy(g):new l4(g)};function SN({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function r2(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...u}=e;s&&(l=s);const h=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const g in u){const d=t.getValue(g,t.latestValues[g]??null),y=u[g];if(y===void 0||m&&SN(m,g))continue;const _={delay:n,...my(l||{},g)},b=d.get();if(b!==void 0&&!d.isAnimating&&!Array.isArray(y)&&y===b&&!_.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const T=n2(t);if(T){const A=window.MotionHandoffAnimation(T,g,Ot);A!==null&&(_.startTime=A,E=!0)}}Qp(t,g),d.start(Ry(g,d,y,t.shouldReduceMotion&&NS.has(g)?{type:!1}:_,t,E));const R=d.animation;R&&h.push(R)}return c&&Promise.all(h).then(()=>{Ot.update(()=>{c&&mN(t,c)})}),h}function Xp(t,e,n={}){var h;const s=Pu(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(r2(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:d,staggerDirection:y}=a;return AN(t,e,g+m,d,y,n)}:()=>Promise.resolve(),{when:u}=a;if(u){const[m,g]=u==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function AN(t,e,n=0,s=0,a=1,l){const c=[],u=(t.variantChildren.size-1)*s,h=a===1?(m=0)=>m*s:(m=0)=>u-m*s;return Array.from(t.variantChildren).sort(RN).forEach((m,g)=>{m.notify("AnimationStart",e),c.push(Xp(m,e,{...l,delay:n+h(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function RN(t,e){return t.sortNodePosition(e)}function xN(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Xp(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Xp(t,e,n);else{const a=typeof e=="function"?Pu(t,e,n.custom):e;s=Promise.all(r2(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function i2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const CN=_y.length;function s2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?s2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<CN;n++){const s=_y[n],a=t.props[s];(Iu(a)||a===!1)&&(e[s]=a)}return e}const DN=[...vy].reverse(),MN=vy.length;function ON(t){return e=>Promise.all(e.map(({animation:n,options:s})=>xN(t,n,s)))}function VN(t){let e=ON(t),n=ZE(),s=!0;const a=h=>(m,g)=>{var y;const d=Pu(t,g,h==="exit"?(y=t.presenceContext)==null?void 0:y.custom:void 0);if(d){const{transition:_,transitionEnd:b,...E}=d;m={...m,...E,...b}}return m};function l(h){e=h(t)}function c(h){const{props:m}=t,g=s2(t.parent)||{},d=[],y=new Set;let _={},b=1/0;for(let R=0;R<MN;R++){const T=DN[R],A=n[T],x=m[T]!==void 0?m[T]:g[T],I=Iu(x),N=T===h?A.isActive:null;N===!1&&(b=R);let L=x===g[T]&&x!==m[T]&&I;if(L&&s&&t.manuallyAnimateOnMount&&(L=!1),A.protectedKeys={..._},!A.isActive&&N===null||!x&&!A.prevProp||Ih(x)||typeof x=="boolean")continue;const O=IN(A.prevProp,x);let S=O||T===h&&A.isActive&&!L&&I||R>b&&I,C=!1;const M=Array.isArray(x)?x:[x];let k=M.reduce(a(T),{});N===!1&&(k={});const{prevResolvedValues:$={}}=A,U={...$,...k},he=se=>{S=!0,y.has(se)&&(C=!0,y.delete(se)),A.needsAnimating[se]=!0;const pe=t.getValue(se);pe&&(pe.liveStyle=!1)};for(const se in U){const pe=k[se],Se=$[se];if(_.hasOwnProperty(se))continue;let B=!1;Yp(pe)&&Yp(Se)?B=!i2(pe,Se):B=pe!==Se,B?pe!=null?he(se):y.add(se):pe!==void 0&&y.has(se)?he(se):A.protectedKeys[se]=!0}A.prevProp=x,A.prevResolvedValues=k,A.isActive&&(_={..._,...k}),s&&t.blockInitialAnimation&&(S=!1),S&&(!(L&&O)||C)&&d.push(...M.map(se=>({animation:se,options:{type:T}})))}if(y.size){const R={};if(typeof m.initial!="boolean"){const T=Pu(t,Array.isArray(m.initial)?m.initial[0]:m.initial);T&&T.transition&&(R.transition=T.transition)}y.forEach(T=>{const A=t.getBaseTarget(T),x=t.getValue(T);x&&(x.liveStyle=!0),R[T]=A??null}),d.push({animation:R})}let E=!!d.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(E=!1),s=!1,E?e(d):Promise.resolve()}function u(h,m){var d;if(n[h].isActive===m)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(y=>{var _;return(_=y.animationState)==null?void 0:_.setActive(h,m)}),n[h].isActive=m;const g=c(h);for(const y in n)n[y].protectedKeys={};return g}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>n,reset:()=>{n=ZE(),s=!0}}}function IN(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!i2(e,t):!1}function ya(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ZE(){return{animate:ya(!0),whileInView:ya(),whileHover:ya(),whileTap:ya(),whileDrag:ya(),whileFocus:ya(),exit:ya()}}class $s{constructor(e){this.isMounted=!1,this.node=e}update(){}}class NN extends $s{constructor(e){super(e),e.animationState||(e.animationState=VN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ih(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let PN=0;class LN extends $s{constructor(){super(...arguments),this.id=PN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const kN={animation:{Feature:NN},exit:{Feature:LN}};function Lu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Ku(t){return{point:{x:t.pageX,y:t.pageY}}}const jN=t=>e=>yy(e)&&t(e,Ku(e));function gu(t,e,n,s){return Lu(t,e,jN(n),s)}function a2({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function UN({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function zN(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const o2=1e-4,$N=1-o2,BN=1+o2,l2=.01,FN=0-l2,qN=0+l2;function Nn(t){return t.max-t.min}function HN(t,e,n){return Math.abs(t-e)<=n}function WE(t,e,n,s=.5){t.origin=s,t.originPoint=Dt(e.min,e.max,t.origin),t.scale=Nn(n)/Nn(e),t.translate=Dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=$N&&t.scale<=BN||isNaN(t.scale))&&(t.scale=1),(t.translate>=FN&&t.translate<=qN||isNaN(t.translate))&&(t.translate=0)}function yu(t,e,n,s){WE(t.x,e.x,n.x,s?s.originX:void 0),WE(t.y,e.y,n.y,s?s.originY:void 0)}function JE(t,e,n){t.min=n.min+e.min,t.max=t.min+Nn(e)}function GN(t,e,n){JE(t.x,e.x,n.x),JE(t.y,e.y,n.y)}function eT(t,e,n){t.min=e.min-n.min,t.max=t.min+Nn(e)}function vu(t,e,n){eT(t.x,e.x,n.x),eT(t.y,e.y,n.y)}const tT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Co=()=>({x:tT(),y:tT()}),nT=()=>({min:0,max:0}),jt=()=>({x:nT(),y:nT()});function wr(t){return[t("x"),t("y")]}function tp(t){return t===void 0||t===1}function Zp({scale:t,scaleX:e,scaleY:n}){return!tp(t)||!tp(e)||!tp(n)}function _a(t){return Zp(t)||u2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function u2(t){return rT(t.x)||rT(t.y)}function rT(t){return t&&t!=="0%"}function sh(t,e,n){const s=t-n,a=e*s;return n+a}function iT(t,e,n,s,a){return a!==void 0&&(t=sh(t,a,s)),sh(t,n,s)+e}function Wp(t,e=0,n=1,s,a){t.min=iT(t.min,e,n,s,a),t.max=iT(t.max,e,n,s,a)}function c2(t,{x:e,y:n}){Wp(t.x,e.translate,e.scale,e.originPoint),Wp(t.y,n.translate,n.scale,n.originPoint)}const sT=.999999999999,aT=1.0000000000001;function KN(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let u=0;u<a;u++){l=n[u],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Mo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,c2(t,c)),s&&_a(l.latestValues)&&Mo(t,l.latestValues))}e.x<aT&&e.x>sT&&(e.x=1),e.y<aT&&e.y>sT&&(e.y=1)}function Do(t,e){t.min=t.min+e,t.max=t.max+e}function oT(t,e,n,s,a=.5){const l=Dt(t.min,t.max,a);Wp(t,e,n,l,s)}function Mo(t,e){oT(t.x,e.x,e.scaleX,e.scale,e.originX),oT(t.y,e.y,e.scaleY,e.scale,e.originY)}function f2(t,e){return a2(zN(t.getBoundingClientRect(),e))}function YN(t,e,n){const s=f2(t,n),{scroll:a}=e;return a&&(Do(s.x,a.offset.x),Do(s.y,a.offset.y)),s}const h2=({current:t})=>t?t.ownerDocument.defaultView:null,lT=(t,e)=>Math.abs(t-e);function QN(t,e){const n=lT(t.x,e.x),s=lT(t.y,e.y);return Math.sqrt(n**2+s**2)}class d2{constructor(e,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=rp(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,_=QN(d.offset,{x:0,y:0})>=3;if(!y&&!_)return;const{point:b}=d,{timestamp:E}=dn;this.history.push({...b,timestamp:E});const{onStart:R,onMove:T}=this.handlers;y||(R&&R(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,d)},this.handlePointerMove=(d,y)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=np(y,this.transformPagePoint),Ot.update(this.updatePoint,!0)},this.handlePointerUp=(d,y)=>{this.end();const{onEnd:_,onSessionEnd:b,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=rp(d.type==="pointercancel"?this.lastMoveEventInfo:np(y,this.transformPagePoint),this.history);this.startEvent&&_&&_(d,R),b&&b(d,R)},!yy(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const c=Ku(e),u=np(c,this.transformPagePoint),{point:h}=u,{timestamp:m}=dn;this.history=[{...h,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,rp(u,this.history)),this.removeListeners=qu(gu(this.contextWindow,"pointermove",this.handlePointerMove),gu(this.contextWindow,"pointerup",this.handlePointerUp),gu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ks(this.updatePoint)}}function np(t,e){return e?{point:e(t.point)}:t}function uT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function rp({point:t},e){return{point:t,delta:uT(t,m2(e)),offset:uT(t,XN(e)),velocity:ZN(e,.1)}}function XN(t){return t[0]}function m2(t){return t[t.length-1]}function ZN(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=m2(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>ai(e)));)n--;if(!s)return{x:0,y:0};const l=oi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function WN(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Dt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Dt(n,t,s.max):Math.min(t,n)),t}function cT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function JN(t,{top:e,left:n,bottom:s,right:a}){return{x:cT(t.x,n,a),y:cT(t.y,e,s)}}function fT(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function eP(t,e){return{x:fT(t.x,e.x),y:fT(t.y,e.y)}}function tP(t,e){let n=.5;const s=Nn(t),a=Nn(e);return a>s?n=Mu(e.min,e.max-s,t.min):s>a&&(n=Mu(t.min,t.max-a,e.min)),$i(0,1,n)}function nP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Jp=.35;function rP(t=Jp){return t===!1?t=0:t===!0&&(t=Jp),{x:hT(t,"left","right"),y:hT(t,"top","bottom")}}function hT(t,e,n){return{min:dT(t,e),max:dT(t,n)}}function dT(t,e){return typeof t=="number"?t:t[e]||0}const iP=new WeakMap;class sP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ku(g).point)},l=(g,d)=>{const{drag:y,dragPropagation:_,onDragStart:b}=this.getProps();if(y&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=S4(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wr(R=>{let T=this.getAxisMotionValue(R).get()||0;if(li.test(T)){const{projection:A}=this.visualElement;if(A&&A.layout){const x=A.layout.layoutBox[R];x&&(T=Nn(x)*(parseFloat(T)/100))}}this.originPoint[R]=T}),b&&Ot.postRender(()=>b(g,d)),Qp(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},c=(g,d)=>{const{dragPropagation:y,dragDirectionLock:_,onDirectionLock:b,onDrag:E}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:R}=d;if(_&&this.currentDirection===null){this.currentDirection=aP(R),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",d.point,R),this.updateAxis("y",d.point,R),this.visualElement.render(),E&&E(g,d)},u=(g,d)=>this.stop(g,d),h=()=>wr(g=>{var d;return this.getAnimationState(g)==="paused"&&((d=this.getAxisMotionValue(g).animation)==null?void 0:d.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new d2(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:h2(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Ot.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Ef(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=WN(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&xo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=JN(s.layoutBox,e):this.constraints=!1,this.elastic=rP(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&wr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=nP(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!xo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=YN(s,a.root,this.visualElement.getTransformPagePoint());let c=eP(a.layout.layoutBox,l);if(n){const u=n(UN(c));this.hasMutatedConstraints=!!u,u&&(c=a2(u))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},m=wr(g=>{if(!Ef(g,n,this.currentDirection))return;let d=h&&h[g]||{};c&&(d={min:0,max:0});const y=a?200:1e6,_=a?40:1e7,b={type:"inertia",velocity:s?e[g]:0,bounceStiffness:y,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...l,...d};return this.startAxisValueAnimation(g,b)});return Promise.all(m).then(u)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Qp(this.visualElement,e),s.start(Ry(e,s,0,n,this.visualElement,!1))}stopAnimation(){wr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){wr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){wr(n=>{const{drag:s}=this.getProps();if(!Ef(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:u}=a.layout.layoutBox[n];l.set(e[n]-Dt(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!xo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};wr(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const h=u.get();a[c]=tP({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),wr(c=>{if(!Ef(c,e,null))return;const u=this.getAxisMotionValue(c),{min:h,max:m}=this.constraints[c];u.set(Dt(h,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;iP.set(this.visualElement,this);const e=this.visualElement.current,n=gu(e,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();xo(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ot.read(s);const c=Lu(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(wr(g=>{const d=this.getAxisMotionValue(g);d&&(this.originPoint[g]+=h[g].translate,d.set(d.get()+h[g].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Jp,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function Ef(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function aP(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class oP extends $s{constructor(e){super(e),this.removeGroupControls=Rr,this.removeListeners=Rr,this.controls=new sP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rr}unmount(){this.removeGroupControls(),this.removeListeners()}}const mT=t=>(e,n)=>{t&&Ot.postRender(()=>t(e,n))};class lP extends $s{constructor(){super(...arguments),this.removePointerDownListener=Rr}onPointerDown(e){this.session=new d2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:h2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:mT(e),onStart:mT(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&Ot.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=gu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ru={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ze.test(t))t=parseFloat(t);else return t;const n=pT(t,e.target.x),s=pT(t,e.target.y);return`${n}% ${s}%`}},uP={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=js.parse(t);if(a.length>5)return s;const l=js.createTransformer(t),c=typeof a[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;a[0+c]/=u,a[1+c]/=h;const m=Dt(u,h,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}};class cP extends H.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;Y4(fP),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Nf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Ot.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function p2(t){const[e,n]=L3(),s=H.useContext(eS);return Y.jsx(cP,{...t,layoutGroup:s,switchLayoutGroup:H.useContext(KS),isPresent:e,safeToRemove:n})}const fP={borderRadius:{...ru,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ru,borderTopRightRadius:ru,borderBottomLeftRadius:ru,borderBottomRightRadius:ru,boxShadow:uP};function hP(t,e,n){const s=Rn(t)?t:$o(t);return s.start(Ry("",s,e,n)),s.animation}function dP(t){return t instanceof SVGElement&&t.tagName!=="svg"}const mP=(t,e)=>t.depth-e.depth;class pP{constructor(){this.children=[],this.isDirty=!1}add(e){Zg(this.children,e),this.isDirty=!0}remove(e){Wg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mP),this.isDirty=!1,this.children.forEach(e)}}function gP(t,e){const n=$n.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(ks(s),t(l-e))};return Ot.setup(s,!0),()=>ks(s)}const g2=["TopLeft","TopRight","BottomLeft","BottomRight"],yP=g2.length,gT=t=>typeof t=="string"?parseFloat(t):t,yT=t=>typeof t=="number"||ze.test(t);function vP(t,e,n,s,a,l){a?(t.opacity=Dt(0,n.opacity??1,_P(s)),t.opacityExit=Dt(e.opacity??1,0,bP(s))):l&&(t.opacity=Dt(e.opacity??1,n.opacity??1,s));for(let c=0;c<yP;c++){const u=`border${g2[c]}Radius`;let h=vT(e,u),m=vT(n,u);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||yT(h)===yT(m)?(t[u]=Math.max(Dt(gT(h),gT(m),s),0),(li.test(m)||li.test(h))&&(t[u]+="%")):t[u]=m}(e.rotate||n.rotate)&&(t.rotate=Dt(e.rotate||0,n.rotate||0,s))}function vT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const _P=y2(0,.5,fS),bP=y2(.5,.95,Rr);function y2(t,e,n){return s=>s<t?0:s>e?1:n(Mu(t,e,s))}function _T(t,e){t.min=e.min,t.max=e.max}function Tr(t,e){_T(t.x,e.x),_T(t.y,e.y)}function bT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ET(t,e,n,s,a){return t-=e,t=sh(t,1/n,s),a!==void 0&&(t=sh(t,1/a,s)),t}function EP(t,e=0,n=1,s=.5,a,l=t,c=t){if(li.test(e)&&(e=parseFloat(e),e=Dt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=Dt(l.min,l.max,s);t===l&&(u-=e),t.min=ET(t.min,e,n,u,a),t.max=ET(t.max,e,n,u,a)}function TT(t,e,[n,s,a],l,c){EP(t,e[n],e[s],e[a],e.scale,l,c)}const TP=["x","scaleX","originX"],wP=["y","scaleY","originY"];function wT(t,e,n,s){TT(t.x,e,TP,n?n.x:void 0,s?s.x:void 0),TT(t.y,e,wP,n?n.y:void 0,s?s.y:void 0)}function ST(t){return t.translate===0&&t.scale===1}function v2(t){return ST(t.x)&&ST(t.y)}function AT(t,e){return t.min===e.min&&t.max===e.max}function SP(t,e){return AT(t.x,e.x)&&AT(t.y,e.y)}function RT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _2(t,e){return RT(t.x,e.x)&&RT(t.y,e.y)}function xT(t){return Nn(t.x)/Nn(t.y)}function CT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class AP{constructor(){this.members=[]}add(e){Zg(this.members,e),e.scheduleRender()}remove(e){if(Wg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function RP(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:d,rotateY:y,skewX:_,skewY:b}=n;m&&(s=`perspective(${m}px) ${s}`),g&&(s+=`rotate(${g}deg) `),d&&(s+=`rotateX(${d}deg) `),y&&(s+=`rotateY(${y}deg) `),_&&(s+=`skewX(${_}deg) `),b&&(s+=`skewY(${b}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(s+=`scale(${u}, ${h})`),s||"none"}const ip=["","X","Y","Z"],xP={visibility:"hidden"},CP=1e3;let DP=0;function sp(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function b2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=n2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ot,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&b2(s)}function E2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},u=e==null?void 0:e()){this.id=DP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(VP),this.nodes.forEach(kP),this.nodes.forEach(jP),this.nodes.forEach(IP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new pP)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ty),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const h=this.eventHandlers.get(c);h&&h.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=dP(c),this.instance=c;const{layoutId:u,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),t){let g;const d=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=gP(d,250),Nf.hasAnimatedSinceResize&&(Nf.hasAnimatedSinceResize=!1,this.nodes.forEach(MT))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:d,hasRelativeLayoutChanged:y,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||m.getDefaultTransition()||FP,{onLayoutAnimationStart:E,onLayoutAnimationComplete:R}=m.getProps(),T=!this.targetLayout||!_2(this.targetLayout,_),A=!d&&y;if(this.options.layoutRoot||this.resumeFrom||A||d&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,A);const x={...my(b,"layout"),onPlay:E,onComplete:R};(m.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else d||MT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ks(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(UP),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&b2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const d=this.path[g];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(DT);return}this.isUpdating||this.nodes.forEach(PP),this.isUpdating=!1,this.nodes.forEach(LP),this.nodes.forEach(MP),this.nodes.forEach(OP),this.clearAllSnapshots();const u=$n.now();dn.delta=$i(0,1e3/60,u-dn.timestamp),dn.timestamp=u,dn.isProcessing=!0,Xm.update.process(dn),Xm.preRender.process(dn),Xm.render.process(dn),dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(NP),this.sharedNodes.forEach(zP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nn(this.snapshot.measuredBox.x)&&!Nn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!v2(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&this.instance&&(u||_a(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return c&&(h=this.removeTransform(h)),qP(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return jt();const u=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(HP))){const{scroll:g}=this.root;g&&(Do(u.x,g.offset.x),Do(u.y,g.offset.y))}return u}removeElementScroll(c){var h;const u=jt();if(Tr(u,c),(h=this.scroll)!=null&&h.wasRoot)return u;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:d,options:y}=g;g!==this.root&&d&&y.layoutScroll&&(d.wasRoot&&Tr(u,c),Do(u.x,d.offset.x),Do(u.y,d.offset.y))}return u}applyTransform(c,u=!1){const h=jt();Tr(h,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Mo(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),_a(g.latestValues)&&Mo(h,g.latestValues)}return _a(this.latestValues)&&Mo(h,this.latestValues),h}removeTransform(c){const u=jt();Tr(u,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!_a(m.latestValues))continue;Zp(m.latestValues)&&m.updateSnapshot();const g=jt(),d=m.measurePageBox();Tr(g,d),wT(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return _a(this.latestValues)&&wT(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var y;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:d}=this.options;if(!(!this.layout||!(g||d))){if(this.resolvedRelativeTargetAt=dn.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),vu(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=jt(),this.targetWithTransforms=jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tr(this.target,this.layout.layoutBox),c2(this.target,this.targetDelta)):Tr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),vu(this.relativeTargetOrigin,this.target,_.target),Tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Zp(this.parent.latestValues)||u2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===dn.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Tr(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,y=this.treeScale.y;KN(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=jt());const{target:_}=c;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bT(this.prevProjectionDelta.x,this.projectionDelta.x),bT(this.prevProjectionDelta.y,this.projectionDelta.y)),yu(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==y||!CT(this.projectionDelta.x,this.prevProjectionDelta.x)||!CT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Co(),this.projectionDelta=Co(),this.projectionDeltaWithTransform=Co()}setAnimationOrigin(c,u=!1){const h=this.snapshot,m=h?h.latestValues:{},g={...this.latestValues},d=Co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=jt(),_=h?h.source:void 0,b=this.layout?this.layout.source:void 0,E=_!==b,R=this.getStack(),T=!R||R.members.length<=1,A=!!(E&&!T&&this.options.crossfade===!0&&!this.path.some(BP));this.animationProgress=0;let x;this.mixTargetDelta=I=>{const N=I/1e3;OT(d.x,c.x,N),OT(d.y,c.y,N),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vu(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$P(this.relativeTarget,this.relativeTargetOrigin,y,N),x&&SP(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=jt()),Tr(x,this.relativeTarget)),E&&(this.animationValues=g,vP(g,m,this.latestValues,N,A,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var u,h,m;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(!1),(m=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||m.stop(!1),this.pendingAnimation&&(ks(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ot.update(()=>{Nf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$o(0)),this.currentAnimation=hP(this.motionValue,[0,1e3],{...c,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),c.onUpdate&&c.onUpdate(g)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(CP),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:h,layout:m,latestValues:g}=c;if(!(!u||!h||!m)){if(this!==c&&this.layout&&m&&T2(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||jt();const d=Nn(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+d;const y=Nn(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+y}Tr(u,h),Mo(u,g),yu(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new AP),this.sharedNodes.get(c).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const m={};h.z&&sp("z",c,m,this.animationValues);for(let g=0;g<ip.length;g++)sp(`rotate${ip[g]}`,c,m,this.animationValues),sp(`skew${ip[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return xP;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=If(c==null?void 0:c.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=If(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!_a(this.latestValues)&&(_.transform=h?h({},""):"none",this.hasProjected=!1),_}const g=m.animationValues||m.latestValues;this.applyTransformsToTarget(),u.transform=RP(this.projectionDeltaWithTransform,this.treeScale,g),h&&(u.transform=h(g,u.transform));const{x:d,y}=this.projectionDelta;u.transformOrigin=`${d.origin*100}% ${y.origin*100}% 0`,m.animationValues?u.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const _ in Nu){if(g[_]===void 0)continue;const{correct:b,applyTo:E,isCSSVariable:R}=Nu[_],T=u.transform==="none"?g[_]:b(g[_],m);if(E){const A=E.length;for(let x=0;x<A;x++)u[E[x]]=T}else R?this.options.visualElement.renderState.vars[_]=T:u[_]=T}return this.options.layoutId&&(u.pointerEvents=m===this?If(c==null?void 0:c.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop(!1)}),this.root.nodes.forEach(DT),this.root.sharedNodes.clear()}}}function MP(t){t.updateLayout()}function OP(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?wr(d=>{const y=c?e.measuredBox[d]:e.layoutBox[d],_=Nn(y);y.min=s[d].min,y.max=y.min+_}):T2(l,e.layoutBox,s)&&wr(d=>{const y=c?e.measuredBox[d]:e.layoutBox[d],_=Nn(s[d]);y.max=y.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+_)});const u=Co();yu(u,s,e.layoutBox);const h=Co();c?yu(h,t.applyTransform(a,!0),e.measuredBox):yu(h,s,e.layoutBox);const m=!v2(u);let g=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:y,layout:_}=d;if(y&&_){const b=jt();vu(b,e.layoutBox,y.layoutBox);const E=jt();vu(E,s,_.layoutBox),_2(b,E)||(g=!0),d.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=b,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function VP(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function IP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function NP(t){t.clearSnapshot()}function DT(t){t.clearMeasurements()}function PP(t){t.isLayoutDirty=!1}function LP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function MT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function kP(t){t.resolveTargetDelta()}function jP(t){t.calcProjection()}function UP(t){t.resetSkewAndRotation()}function zP(t){t.removeLeadSnapshot()}function OT(t,e,n){t.translate=Dt(e.translate,0,n),t.scale=Dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function VT(t,e,n,s){t.min=Dt(e.min,n.min,s),t.max=Dt(e.max,n.max,s)}function $P(t,e,n,s){VT(t.x,e.x,n.x,s),VT(t.y,e.y,n.y,s)}function BP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const FP={duration:.45,ease:[.4,0,.1,1]},IT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),NT=IT("applewebkit/")&&!IT("chrome/")?Math.round:Rr;function PT(t){t.min=NT(t.min),t.max=NT(t.max)}function qP(t){PT(t.x),PT(t.y)}function T2(t,e,n){return t==="position"||t==="preserve-aspect"&&!HN(xT(e),xT(n),.2)}function HP(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const GP=E2({attachResizeListener:(t,e)=>Lu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ap={current:void 0},w2=E2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ap.current){const t=new GP({});t.mount(window),t.setOptions({layoutScroll:!0}),ap.current=t}return ap.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),KP={pan:{Feature:lP},drag:{Feature:oP,ProjectionNode:w2,MeasureLayout:p2}};function LT(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Ot.postRender(()=>l(e,Ku(e)))}class YP extends $s{mount(){const{current:e}=this.node;e&&(this.unmount=A4(e,(n,s)=>(LT(this.node,s,"Start"),a=>LT(this.node,a,"End"))))}unmount(){}}class QP extends $s{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qu(Lu(this.node.current,"focus",()=>this.onFocus()),Lu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kT(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Ot.postRender(()=>l(e,Ku(e)))}class XP extends $s{mount(){const{current:e}=this.node;e&&(this.unmount=D4(e,(n,s)=>(kT(this.node,s,"Start"),(a,{success:l})=>kT(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const eg=new WeakMap,op=new WeakMap,ZP=t=>{const e=eg.get(t.target);e&&e(t)},WP=t=>{t.forEach(ZP)};function JP({root:t,...e}){const n=t||document;op.has(n)||op.set(n,{});const s=op.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(WP,{root:t,...e})),s[a]}function e6(t,e,n){const s=JP(e);return eg.set(t,n),s.observe(t),()=>{eg.delete(t),s.unobserve(t)}}const t6={some:0,all:1};class n6 extends $s{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:t6[a]},u=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:d}=this.node.getProps(),y=m?g:d;y&&y(h)};return e6(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(r6(e,n))&&this.startObserver()}unmount(){}}function r6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const i6={inView:{Feature:n6},tap:{Feature:XP},focus:{Feature:QP},hover:{Feature:YP}},s6={layout:{ProjectionNode:w2,MeasureLayout:p2}},tg={current:null},S2={current:!1};function a6(){if(S2.current=!0,!!Qg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>tg.current=t.matches;t.addListener(e),e()}else tg.current=!1}const o6=new WeakMap;function l6(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Rn(a))t.addValue(s,a);else if(Rn(l))t.addValue(s,$o(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,$o(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const jT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class u6{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=$n.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Ot.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=Nh(n),this.isVariantNode=HS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in d){const _=d[y];h[y]!==void 0&&Rn(_)&&_.set(h[y],!1)}}mount(e){this.current=e,o6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),S2.current||a6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:tg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ks(this.notifyUpdate),ks(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Wo.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ot.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Bo){const n=Bo[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<jT.length;s++){const a=jT[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=l6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=$o(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(nS(s)||rS(s))?s=parseFloat(s):!O4(s)&&js.test(n)&&(s=jS(e,n)),this.setBaseTarget(e,Rn(s)?s.get():s)),Rn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=Sy(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Rn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ty),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class A2 extends u6{constructor(){super(...arguments),this.KeyframeResolver=b4}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Rn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function R2(t,{style:e,vars:n},s,a){Object.assign(t.style,e,a&&a.getProjectionStyles(s));for(const l in n)t.style.setProperty(l,n[l])}function c6(t){return window.getComputedStyle(t)}class f6 extends A2{constructor(){super(...arguments),this.type="html",this.renderInstance=R2}readValueFromInstance(e,n){if(Wo.has(n))return UI(e,n);{const s=c6(e),a=(iy(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return f2(e,n)}build(e,n,s){Ey(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Ay(e,n,s)}}const x2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function h6(t,e,n,s){R2(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(x2.has(a)?a:by(a),e.attrs[a])}class d6 extends A2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Wo.has(n)){const s=kS(n);return s&&s.default||0}return n=x2.has(n)?n:by(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return t2(e,n,s)}build(e,n,s){ZS(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){h6(e,n,s,a)}mount(e){this.isSVGTag=JS(e.tagName),super.mount(e)}}const m6=(t,e)=>wy(t)?new d6(e):new f6(e,{allowProjection:t!==H.Fragment}),p6=fN({...kN,...i6,...KP,...s6},m6),g6=L4(p6),y6=()=>{const t=Du(s=>s.cart.reduce((a,l)=>a+l.quantity,0)),e=ch(),n=()=>{window.location.hash==="#/"?window.scrollTo(0,0):e("/")};return Y.jsx("header",{children:Y.jsxs("nav",{className:"header-nav",children:[Y.jsx("img",{src:V3,onClick:n,alt:"RiffRack Logo"}),Y.jsxs(ju,{to:"cart",className:"cart-link",children:[Y.jsx("img",{src:I3,alt:"Cart Link"}),t>0&&Y.jsx(g6.span,{initial:{scale:.7,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.7,opacity:0},transition:{type:"spring",stiffness:300,damping:20},className:"cart-count",children:t},t)]})]})})};function v6(){const{fetchProducts:t}=ki();return H.useEffect(()=>{t()},[]),Y.jsxs("div",{className:"app-container",children:[Y.jsx(y6,{}),Y.jsxs("main",{children:[Y.jsx(Ix,{}),Y.jsx(fw,{getKey:(e,n)=>e.pathname})]}),Y.jsx(wC,{})]})}const C2=()=>{const t=ki(c=>c.filterTerm),e=ki(c=>c.sortOption),n=ki(c=>c.applyFilter),s=ki(c=>c.applySort),a=c=>{const u=c.target.value;s(u)},l=c=>{const u=c.target.value;n(u)};return Y.jsxs("div",{className:"filter-container",children:[Y.jsxs("div",{className:"search-container",children:[Y.jsx("label",{htmlFor:"home-search",children:"Search"}),Y.jsx("input",{type:"text",value:t,id:"home-search",onChange:l})]}),Y.jsxs("div",{className:"dropdown-container",children:[Y.jsx("label",{htmlFor:"filter-dropdown",children:"Sort"}),Y.jsxs("select",{name:"filter-dropdown",id:"filter-dropdown",value:e,onChange:a,children:[Y.jsx("option",{value:"price-asc",children:"Price    ↑"}),Y.jsx("option",{value:"price-desc",children:"Price   ↓"}),Y.jsx("option",{value:"letter-desc",children:"ABC    ↑"}),Y.jsx("option",{value:"letter-asc",children:"ABC     ↓"})]})]})]})},_6=({item:t})=>{const e=Du(s=>s.addToCart),n=()=>{e(t),console.log("added to cart")};return Y.jsxs("div",{className:"card",children:[Y.jsx("div",{className:"card-img-container",children:Y.jsx("img",{src:t.img,alt:t.title})}),Y.jsx("h2",{children:t.title}),Y.jsx("p",{children:t.description}),Y.jsx("p",{className:"category",children:t.category}),Y.jsxs("div",{className:"product-bottom-container",children:[Y.jsxs("p",{children:[t.price," $"]}),Y.jsx("button",{className:"buy-button",onClick:()=>n(),children:"Buy"})]})]})},b6=()=>{const{filteredProducts:t,loading:e}=ki();return Y.jsxs("section",{className:"home-section",children:[Y.jsx("h1",{children:"Products"}),Y.jsx(C2,{}),Y.jsx("div",{className:"products-container",children:e?Y.jsx("h2",{className:"no-products",children:"Loading..."}):t.length===0?Y.jsx("h2",{className:"no-products",children:"No products found"}):t.map(n=>Y.jsx(_6,{item:n},n.id))})]})},E6=({item:t})=>{const{updateQuantity:e,removeCartItem:n}=Du(),s=(a,l)=>{l>=1?e(a,l):n(a)};return Y.jsxs("div",{className:"cart-card",children:[Y.jsx("div",{className:"cart-image-container",children:Y.jsx("img",{src:t.img,alt:t.title})}),Y.jsxs("div",{className:"cart-item-text-container",children:[Y.jsx("p",{className:"item-title",children:t.title}),Y.jsxs("div",{className:"cart-item-bottom",children:[Y.jsxs("div",{className:"cart-item-buttons",children:[Y.jsx("button",{className:"quantity-button",onClick:()=>s(t.id,t.quantity-1),children:"-"}),Y.jsx("p",{children:t.quantity}),Y.jsx("button",{className:"quantity-button",onClick:()=>s(t.id,t.quantity+1),children:"+"})]}),Y.jsxs("p",{children:[t.price*t.quantity," $"]})]})]})]})},T6=()=>{const{cart:t}=Du(),e=Du(n=>n.cart.reduce((s,a)=>s+a.price*a.quantity,0));return Y.jsxs("section",{className:"cart-section",children:[Y.jsx("h1",{children:"Cart"}),Y.jsxs("div",{className:"cart-container",children:[Y.jsx("div",{className:"cart-items",children:t.length===0?Y.jsx("h2",{className:"cart-empty",children:"Your cart is empty"}):t.map(n=>Y.jsx(E6,{item:n},n.id))}),Y.jsxs("div",{className:"order-summary",children:[Y.jsx("h2",{children:"Order Summary"}),Y.jsxs("div",{children:[Y.jsxs("div",{className:"summary-item",children:[Y.jsx("p",{className:"text",children:"Subtotal"}),Y.jsxs("p",{className:"number",children:[e," $"]})]}),Y.jsxs("div",{className:"summary-item",children:[Y.jsx("p",{className:"text",children:"Handling"}),Y.jsxs("p",{className:"number",children:[e===0?0:50," $"]})]}),Y.jsxs("div",{className:"summary-item",children:[Y.jsx("p",{className:"text",children:"Total"}),Y.jsxs("p",{className:"number",children:[t.length===0?0:e+50," $"]})]})]}),Y.jsx("button",{className:"checkout-button",children:"Checkout (?)"})]})]})]})},ah=dg(t=>({isLoggedIn:!1,toggleLogIn:()=>{t(e=>({isLoggedIn:!e.isLoggedIn}))}})),w6=()=>{const t=ah(_=>_.isLoggedIn),e=ah(_=>_.toggleLogIn),[n,s]=H.useState(""),[a,l]=H.useState(""),[c,u]=H.useState(""),[h,m]=H.useState(""),[g,d]=H.useState(!1),y=()=>{if(m(""),u(""),!a||!n){a||m("Please enter a username"),n||u("Please enter a password");return}if(a!=="admin"||n!=="password"){a!=="admin"&&m("Invalid username"),n!=="password"&&u("Invalid password");return}e(),console.log("Logged in successfully",t)};return Y.jsx("section",{className:"login-section",children:Y.jsx("div",{className:"form-container",children:t?Y.jsx(Vx,{to:"/admin",replace:!0}):Y.jsxs("form",{onSubmit:y,children:[Y.jsxs("div",{className:"input-container",children:[Y.jsx("label",{htmlFor:"username-input",children:"Username"}),Y.jsx("input",{type:"text",id:"username-input",value:a,onChange:_=>{l(_.target.value)},onFocus:()=>{d(!0)}}),Y.jsx("p",{className:"error",children:h})]}),Y.jsxs("div",{className:"input-container",children:[Y.jsx("label",{htmlFor:"password-input",children:"Password"}),Y.jsx("input",{type:"password",id:"password-input",value:n,onChange:_=>{s(_.target.value)},onFocus:()=>{d(!0)}}),Y.jsx("p",{className:"error",children:c})]}),Y.jsx("button",{disabled:!g,type:"submit",children:"Login"})]})})})};var lp={exports:{}},UT;function S6(){return UT||(UT=1,function(t,e){(function(n,s){t.exports=s()})(self,()=>{return n={7629:(a,l,c)=>{const u=c(375),h=c(8571),m=c(9474),g=c(1687),d=c(8652),y=c(8160),_=c(3292),b=c(6354),E=c(8901),R=c(9708),T=c(6914),A=c(2294),x=c(6133),I=c(1152),N=c(8863),L=c(2036),O={Base:class{constructor(S){this.type=S,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new A.Ids,this._preferences=null,this._refs=new x.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return u(typeof R.describe=="function","Manifest functionality disabled"),R.describe(this)}allow(...S){return y.verifyFlat(S,"allow"),this._values(S,"_valids")}alter(S){u(S&&typeof S=="object"&&!Array.isArray(S),"Invalid targets argument"),u(!this._inRuleset(),"Cannot set alterations inside a ruleset");const C=this.clone();C.$_terms.alterations=C.$_terms.alterations||[];for(const M in S){const k=S[M];u(typeof k=="function","Alteration adjuster for",M,"must be a function"),C.$_terms.alterations.push({target:M,adjuster:k})}return C.$_temp.ruleset=!1,C}artifact(S){return u(S!==void 0,"Artifact cannot be undefined"),u(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",S)}cast(S){return u(S===!1||typeof S=="string","Invalid to value"),u(S===!1||this._definition.cast[S],"Type",this.type,"does not support casting to",S),this.$_setFlag("cast",S===!1?void 0:S)}default(S,C){return this._default("default",S,C)}description(S){return u(S&&typeof S=="string","Description must be a non-empty string"),this.$_setFlag("description",S)}empty(S){const C=this.clone();return S!==void 0&&(S=C.$_compile(S,{override:!1})),C.$_setFlag("empty",S,{clone:!1})}error(S){return u(S,"Missing error"),u(S instanceof Error||typeof S=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",S)}example(S,C={}){return u(S!==void 0,"Missing example"),y.assertOptions(C,["override"]),this._inner("examples",S,{single:!0,override:C.override})}external(S,C){return typeof S=="object"&&(u(!C,"Cannot combine options with description"),C=S.description,S=S.method),u(typeof S=="function","Method must be a function"),u(C===void 0||C&&typeof C=="string","Description must be a non-empty string"),this._inner("externals",{method:S,description:C},{single:!0})}failover(S,C){return this._default("failover",S,C)}forbidden(){return this.presence("forbidden")}id(S){return S?(u(typeof S=="string","id must be a non-empty string"),u(/^[^\.]+$/.test(S),"id cannot contain period character"),this.$_setFlag("id",S)):this.$_setFlag("id",void 0)}invalid(...S){return this._values(S,"_invalids")}label(S){return u(S&&typeof S=="string","Label name must be a non-empty string"),this.$_setFlag("label",S)}meta(S){return u(S!==void 0,"Meta cannot be undefined"),this._inner("metas",S,{single:!0})}note(...S){u(S.length,"Missing notes");for(const C of S)u(C&&typeof C=="string","Notes must be non-empty strings");return this._inner("notes",S)}only(S=!0){return u(typeof S=="boolean","Invalid mode:",S),this.$_setFlag("only",S)}optional(){return this.presence("optional")}prefs(S){u(S,"Missing preferences"),u(S.context===void 0,"Cannot override context"),u(S.externals===void 0,"Cannot override externals"),u(S.warnings===void 0,"Cannot override warnings"),u(S.debug===void 0,"Cannot override debug"),y.checkPreferences(S);const C=this.clone();return C._preferences=y.preferences(C._preferences,S),C}presence(S){return u(["optional","required","forbidden"].includes(S),"Unknown presence mode",S),this.$_setFlag("presence",S)}raw(S=!0){return this.$_setFlag("result",S?"raw":void 0)}result(S){return u(["raw","strip"].includes(S),"Unknown result mode",S),this.$_setFlag("result",S)}required(){return this.presence("required")}strict(S){const C=this.clone(),M=S!==void 0&&!S;return C._preferences=y.preferences(C._preferences,{convert:M}),C}strip(S=!0){return this.$_setFlag("result",S?"strip":void 0)}tag(...S){u(S.length,"Missing tags");for(const C of S)u(C&&typeof C=="string","Tags must be non-empty strings");return this._inner("tags",S)}unit(S){return u(S&&typeof S=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",S)}valid(...S){y.verifyFlat(S,"valid");const C=this.allow(...S);return C.$_setFlag("only",!!C._valids,{clone:!1}),C}when(S,C){const M=this.clone();M.$_terms.whens||(M.$_terms.whens=[]);const k=_.when(M,S,C);if(!["any","link"].includes(M.type)){const $=k.is?[k]:k.switch;for(const U of $)u(!U.then||U.then.type==="any"||U.then.type===M.type,"Cannot combine",M.type,"with",U.then&&U.then.type),u(!U.otherwise||U.otherwise.type==="any"||U.otherwise.type===M.type,"Cannot combine",M.type,"with",U.otherwise&&U.otherwise.type)}return M.$_terms.whens.push(k),M.$_mutateRebuild()}cache(S){u(!this._inRuleset(),"Cannot set caching inside a ruleset"),u(!this._cache,"Cannot override schema cache"),u(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const C=this.clone();return C._cache=S||d.provider.provision(),C.$_temp.ruleset=!1,C}clone(){const S=Object.create(Object.getPrototypeOf(this));return this._assign(S)}concat(S){u(y.isSchema(S),"Invalid schema object"),u(this.type==="any"||S.type==="any"||S.type===this.type,"Cannot merge type",this.type,"with another type:",S.type),u(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),u(!S._inRuleset(),"Cannot concatenate a schema with open ruleset");let C=this.clone();if(this.type==="any"&&S.type!=="any"){const M=S.clone();for(const k of Object.keys(C))k!=="type"&&(M[k]=C[k]);C=M}C._ids.concat(S._ids),C._refs.register(S,x.toSibling),C._preferences=C._preferences?y.preferences(C._preferences,S._preferences):S._preferences,C._valids=L.merge(C._valids,S._valids,S._invalids),C._invalids=L.merge(C._invalids,S._invalids,S._valids);for(const M of S._singleRules.keys())C._singleRules.has(M)&&(C._rules=C._rules.filter(k=>k.keep||k.name!==M),C._singleRules.delete(M));for(const M of S._rules)S._definition.rules[M.method].multi||C._singleRules.set(M.name,M),C._rules.push(M);if(C._flags.empty&&S._flags.empty){C._flags.empty=C._flags.empty.concat(S._flags.empty);const M=Object.assign({},S._flags);delete M.empty,g(C._flags,M)}else if(S._flags.empty){C._flags.empty=S._flags.empty;const M=Object.assign({},S._flags);delete M.empty,g(C._flags,M)}else g(C._flags,S._flags);for(const M in S.$_terms){const k=S.$_terms[M];k?C.$_terms[M]?C.$_terms[M]=C.$_terms[M].concat(k):C.$_terms[M]=k.slice():C.$_terms[M]||(C.$_terms[M]=k)}return this.$_root._tracer&&this.$_root._tracer._combine(C,[this,S]),C.$_mutateRebuild()}extend(S){return u(!S.base,"Cannot extend type with another base"),E.type(this,S)}extract(S){return S=Array.isArray(S)?S:S.split("."),this._ids.reach(S)}fork(S,C){u(!this._inRuleset(),"Cannot fork inside a ruleset");let M=this;for(let k of[].concat(S))k=Array.isArray(k)?k:k.split("."),M=M._ids.fork(k,C,M);return M.$_temp.ruleset=!1,M}rule(S){const C=this._definition;y.assertOptions(S,Object.keys(C.modifiers)),u(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const M=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;u(M>=0&&M<this._rules.length,"Cannot apply rules to empty ruleset");const k=this.clone();for(let $=M;$<k._rules.length;++$){const U=k._rules[$],he=h(U);for(const ge in S)C.modifiers[ge](he,S[ge]),u(he.name===U.name,"Cannot change rule name");k._rules[$]=he,k._singleRules.get(he.name)===U&&k._singleRules.set(he.name,he)}return k.$_temp.ruleset=!1,k.$_mutateRebuild()}get ruleset(){u(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const S=this.clone();return S.$_temp.ruleset=S._rules.length,S}get $(){return this.ruleset}tailor(S){S=[].concat(S),u(!this._inRuleset(),"Cannot tailor inside a ruleset");let C=this;if(this.$_terms.alterations)for(const{target:M,adjuster:k}of this.$_terms.alterations)S.includes(M)&&(C=k(C),u(y.isSchema(C),"Alteration adjuster for",M,"failed to return a schema object"));return C=C.$_modify({each:M=>M.tailor(S),ref:!1}),C.$_temp.ruleset=!1,C.$_mutateRebuild()}tracer(){return I.location?I.location(this):this}validate(S,C){return N.entry(S,this,C)}validateAsync(S,C){return N.entryAsync(S,this,C)}$_addRule(S){typeof S=="string"&&(S={name:S}),u(S&&typeof S=="object","Invalid options"),u(S.name&&typeof S.name=="string","Invalid rule name");for(const U in S)u(U[0]!=="_","Cannot set private rule properties");const C=Object.assign({},S);C._resolve=[],C.method=C.method||C.name;const M=this._definition.rules[C.method],k=C.args;u(M,"Unknown rule",C.method);const $=this.clone();if(k){u(Object.keys(k).length===1||Object.keys(k).length===this._definition.rules[C.name].args.length,"Invalid rule definition for",this.type,C.name);for(const U in k){let he=k[U];if(M.argsByName){const ge=M.argsByName.get(U);if(ge.ref&&y.isResolvable(he))C._resolve.push(U),$.$_mutateRegister(he);else if(ge.normalize&&(he=ge.normalize(he),k[U]=he),ge.assert){const K=y.validateArg(he,U,ge);u(!K,K,"or reference")}}he!==void 0?k[U]=he:delete k[U]}}return M.multi||($._ruleRemove(C.name,{clone:!1}),$._singleRules.set(C.name,C)),$.$_temp.ruleset===!1&&($.$_temp.ruleset=null),M.priority?$._rules.unshift(C):$._rules.push(C),$}$_compile(S,C){return _.schema(this.$_root,S,C)}$_createError(S,C,M,k,$,U={}){const he=U.flags!==!1?this._flags:{},ge=U.messages?T.merge(this._definition.messages,U.messages):this._definition.messages;return new b.Report(S,C,M,he,ge,k,$)}$_getFlag(S){return this._flags[S]}$_getRule(S){return this._singleRules.get(S)}$_mapLabels(S){return S=Array.isArray(S)?S:S.split("."),this._ids.labels(S)}$_match(S,C,M,k){(M=Object.assign({},M)).abortEarly=!0,M._externals=!1,C.snapshot();const $=!N.validate(S,this,C,M,k).errors;return C.restore(),$}$_modify(S){return y.assertOptions(S,["each","once","ref","schema"]),A.schema(this,S)||this}$_mutateRebuild(){return u(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(S,{source:C,name:M,path:k,key:$})=>{const U=this._definition[C][M]&&this._definition[C][M].register;U!==!1&&this.$_mutateRegister(S,{family:U,key:$})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(S,{family:C,key:M}={}){this._refs.register(S,C),this._ids.register(S,{key:M})}$_property(S){return this._definition.properties[S]}$_reach(S){return this._ids.reach(S)}$_rootReferences(){return this._refs.roots()}$_setFlag(S,C,M={}){u(S[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const k=this._definition.flags[S]||{};if(m(C,k.default)&&(C=void 0),m(C,this._flags[S]))return this;const $=M.clone!==!1?this.clone():this;return C!==void 0?($._flags[S]=C,$.$_mutateRegister(C)):delete $._flags[S],S[0]!=="_"&&($.$_temp.ruleset=!1),$}$_parent(S,...C){return this[S][y.symbols.parent].call(this,...C)}$_validate(S,C,M){return N.validate(S,this,C,M)}_assign(S){S.type=this.type,S.$_root=this.$_root,S.$_temp=Object.assign({},this.$_temp),S.$_temp.whens={},S._ids=this._ids.clone(),S._preferences=this._preferences,S._valids=this._valids&&this._valids.clone(),S._invalids=this._invalids&&this._invalids.clone(),S._rules=this._rules.slice(),S._singleRules=h(this._singleRules,{shallow:!0}),S._refs=this._refs.clone(),S._flags=Object.assign({},this._flags),S._cache=null,S.$_terms={};for(const C in this.$_terms)S.$_terms[C]=this.$_terms[C]?this.$_terms[C].slice():null;S.$_super={};for(const C in this.$_super)S.$_super[C]=this._super[C].bind(S);return S}_bare(){const S=this.clone();S._reset();const C=S._definition.terms;for(const M in C){const k=C[M];S.$_terms[M]=k.init}return S.$_mutateRebuild()}_default(S,C,M={}){return y.assertOptions(M,"literal"),u(C!==void 0,"Missing",S,"value"),u(typeof C=="function"||!M.literal,"Only function value supports literal option"),typeof C=="function"&&M.literal&&(C={[y.symbols.literal]:!0,literal:C}),this.$_setFlag(S,C)}_generate(S,C,M){if(!this.$_terms.whens)return{schema:this};const k=[],$=[];for(let ge=0;ge<this.$_terms.whens.length;++ge){const K=this.$_terms.whens[ge];if(K.concat){k.push(K.concat),$.push(`${ge}.concat`);continue}const se=K.ref?K.ref.resolve(S,C,M):S,pe=K.is?[K]:K.switch,Se=$.length;for(let B=0;B<pe.length;++B){const{is:re,then:me,otherwise:ce}=pe[B],_e=`${ge}${K.switch?"."+B:""}`;if(re.$_match(se,C.nest(re,`${_e}.is`),M)){if(me){const ke=C.localize([...C.path,`${_e}.then`],C.ancestors,C.schemas),{schema:xe,id:wt}=me._generate(S,ke,M);k.push(xe),$.push(`${_e}.then${wt?`(${wt})`:""}`);break}}else if(ce){const ke=C.localize([...C.path,`${_e}.otherwise`],C.ancestors,C.schemas),{schema:xe,id:wt}=ce._generate(S,ke,M);k.push(xe),$.push(`${_e}.otherwise${wt?`(${wt})`:""}`);break}}if(K.break&&$.length>Se)break}const U=$.join(", ");if(C.mainstay.tracer.debug(C,"rule","when",U),!U)return{schema:this};if(!C.mainstay.tracer.active&&this.$_temp.whens[U])return{schema:this.$_temp.whens[U],id:U};let he=this;this._definition.generate&&(he=this._definition.generate(this,S,C,M));for(const ge of k)he=he.concat(ge);return this.$_root._tracer&&this.$_root._tracer._combine(he,[this,...k]),this.$_temp.whens[U]=he,{schema:he,id:U}}_inner(S,C,M={}){u(!this._inRuleset(),`Cannot set ${S} inside a ruleset`);const k=this.clone();return k.$_terms[S]&&!M.override||(k.$_terms[S]=[]),M.single?k.$_terms[S].push(C):k.$_terms[S].push(...C),k.$_temp.ruleset=!1,k}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(S,C={}){if(!this._singleRules.has(S))return this;const M=C.clone!==!1?this.clone():this;M._singleRules.delete(S);const k=[];for(let $=0;$<M._rules.length;++$){const U=M._rules[$];U.name!==S||U.keep?k.push(U):M._inRuleset()&&$<M.$_temp.ruleset&&--M.$_temp.ruleset}return M._rules=k,M}_values(S,C){y.verifyFlat(S,C.slice(1,-1));const M=this.clone(),k=S[0]===y.symbols.override;if(k&&(S=S.slice(1)),!M[C]&&S.length?M[C]=new L:k&&(M[C]=S.length?new L:null,M.$_mutateRebuild()),!M[C])return M;k&&M[C].override();for(const $ of S){u($!==void 0,"Cannot call allow/valid/invalid with undefined"),u($!==y.symbols.override,"Override must be the first value");const U=C==="_invalids"?"_valids":"_invalids";M[U]&&(M[U].remove($),M[U].length||(u(C==="_valids"||!M._flags.only,"Setting invalid value",$,"leaves schema rejecting all values due to previous valid rule"),M[U]=null)),M[C].add($,M._refs)}return M}}};O.Base.prototype[y.symbols.any]={version:y.version,compile:_.compile,root:"$_root"},O.Base.prototype.isImmutable=!0,O.Base.prototype.deny=O.Base.prototype.invalid,O.Base.prototype.disallow=O.Base.prototype.invalid,O.Base.prototype.equal=O.Base.prototype.valid,O.Base.prototype.exist=O.Base.prototype.required,O.Base.prototype.not=O.Base.prototype.invalid,O.Base.prototype.options=O.Base.prototype.prefs,O.Base.prototype.preferences=O.Base.prototype.prefs,a.exports=new O.Base},8652:(a,l,c)=>{const u=c(375),h=c(8571),m=c(8160),g={max:1e3,supported:new Set(["undefined","boolean","number","string"])};l.provider={provision:d=>new g.Cache(d)},g.Cache=class{constructor(d={}){m.assertOptions(d,["max"]),u(d.max===void 0||d.max&&d.max>0&&isFinite(d.max),"Invalid max cache size"),this._max=d.max||g.max,this._map=new Map,this._list=new g.List}get length(){return this._map.size}set(d,y){if(d!==null&&!g.supported.has(typeof d))return;let _=this._map.get(d);if(_)return _.value=y,void this._list.first(_);_=this._list.unshift({key:d,value:y}),this._map.set(d,_),this._compact()}get(d){const y=this._map.get(d);if(y)return this._list.first(y),h(y.value)}_compact(){if(this._map.size>this._max){const d=this._list.pop();this._map.delete(d.key)}}},g.List=class{constructor(){this.tail=null,this.head=null}unshift(d){return d.next=null,d.prev=this.head,this.head&&(this.head.next=d),this.head=d,this.tail||(this.tail=d),d}first(d){d!==this.head&&(this._remove(d),this.unshift(d))}pop(){return this._remove(this.tail)}_remove(d){const{next:y,prev:_}=d;return y.prev=_,_&&(_.next=y),d===this.tail&&(this.tail=y),d.prev=null,d.next=null,d}}},8160:(a,l,c)=>{const u=c(375),h=c(7916),m=c(5934);let g,d;const y={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};l.version=m.version,l.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},l.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},l.assertOptions=function(_,b,E="Options"){u(_&&typeof _=="object"&&!Array.isArray(_),"Options must be of type object");const R=Object.keys(_).filter(T=>!b.includes(T));u(R.length===0,`${E} contain unknown keys: ${R}`)},l.checkPreferences=function(_){d=d||c(3378);const b=d.preferences.validate(_);if(b.error)throw new h([b.error.details[0].message])},l.compare=function(_,b,E){switch(E){case"=":return _===b;case">":return _>b;case"<":return _<b;case">=":return _>=b;case"<=":return _<=b}},l.default=function(_,b){return _===void 0?b:_},l.isIsoDate=function(_){return y.isoDate.test(_)},l.isNumber=function(_){return typeof _=="number"&&!isNaN(_)},l.isResolvable=function(_){return!!_&&(_[l.symbols.ref]||_[l.symbols.template])},l.isSchema=function(_,b={}){const E=_&&_[l.symbols.any];return!!E&&(u(b.legacy||E.version===l.version,"Cannot mix different versions of joi schemas"),!0)},l.isValues=function(_){return _[l.symbols.values]},l.limit=function(_){return Number.isSafeInteger(_)&&_>=0},l.preferences=function(_,b){g=g||c(6914),_=_||{},b=b||{};const E=Object.assign({},_,b);return b.errors&&_.errors&&(E.errors=Object.assign({},_.errors,b.errors),E.errors.wrap=Object.assign({},_.errors.wrap,b.errors.wrap)),b.messages&&(E.messages=g.compile(b.messages,_.messages)),delete E[l.symbols.prefs],E},l.tryWithPath=function(_,b,E={}){try{return _()}catch(R){throw R.path!==void 0?R.path=b+"."+R.path:R.path=b,E.append&&(R.message=`${R.message} (${R.path})`),R}},l.validateArg=function(_,b,{assert:E,message:R}){if(l.isSchema(E)){const T=E.validate(_);return T.error?T.error.message:void 0}if(!E(_))return b?`${b} ${R}`:R},l.verifyFlat=function(_,b){for(const E of _)u(!Array.isArray(E),"Method no longer accepts array arguments:",b)}},3292:(a,l,c)=>{const u=c(375),h=c(8160),m=c(6133),g={};l.schema=function(d,y,_={}){h.assertOptions(_,["appendPath","override"]);try{return g.schema(d,y,_)}catch(b){throw _.appendPath&&b.path!==void 0&&(b.message=`${b.message} (${b.path})`),b}},g.schema=function(d,y,_){u(y!==void 0,"Invalid undefined schema"),Array.isArray(y)&&(u(y.length,"Invalid empty array schema"),y.length===1&&(y=y[0]));const b=(E,...R)=>_.override!==!1?E.valid(d.override,...R):E.valid(...R);if(g.simple(y))return b(d,y);if(typeof y=="function")return d.custom(y);if(u(typeof y=="object","Invalid schema content:",typeof y),h.isResolvable(y))return b(d,y);if(h.isSchema(y))return y;if(Array.isArray(y)){for(const E of y)if(!g.simple(E))return d.alternatives().try(...y);return b(d,...y)}return y instanceof RegExp?d.string().regex(y):y instanceof Date?b(d.date(),y):(u(Object.getPrototypeOf(y)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),d.object().keys(y))},l.ref=function(d,y){return m.isRef(d)?d:m.create(d,y)},l.compile=function(d,y,_={}){h.assertOptions(_,["legacy"]);const b=y&&y[h.symbols.any];if(b)return u(_.legacy||b.version===h.version,"Cannot mix different versions of joi schemas:",b.version,h.version),y;if(typeof y!="object"||!_.legacy)return l.schema(d,y,{appendPath:!0});const E=g.walk(y);return E?E.compile(E.root,y):l.schema(d,y,{appendPath:!0})},g.walk=function(d){if(typeof d!="object")return null;if(Array.isArray(d)){for(const _ of d){const b=g.walk(_);if(b)return b}return null}const y=d[h.symbols.any];if(y)return{root:d[y.root],compile:y.compile};u(Object.getPrototypeOf(d)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const _ in d){const b=g.walk(d[_]);if(b)return b}return null},g.simple=function(d){return d===null||["boolean","string","number"].includes(typeof d)},l.when=function(d,y,_){if(_===void 0&&(u(y&&typeof y=="object","Missing options"),_=y,y=m.create(".")),Array.isArray(_)&&(_={switch:_}),h.assertOptions(_,["is","not","then","otherwise","switch","break"]),h.isSchema(y))return u(_.is===void 0,'"is" can not be used with a schema condition'),u(_.not===void 0,'"not" can not be used with a schema condition'),u(_.switch===void 0,'"switch" can not be used with a schema condition'),g.condition(d,{is:y,then:_.then,otherwise:_.otherwise,break:_.break});if(u(m.isRef(y)||typeof y=="string","Invalid condition:",y),u(_.not===void 0||_.is===void 0,'Cannot combine "is" with "not"'),_.switch===void 0){let E=_;_.not!==void 0&&(E={is:_.not,then:_.otherwise,otherwise:_.then,break:_.break});let R=E.is!==void 0?d.$_compile(E.is):d.$_root.invalid(null,!1,0,"").required();return u(E.then!==void 0||E.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),u(E.break===void 0||E.then===void 0||E.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),_.is===void 0||m.isRef(_.is)||h.isSchema(_.is)||(R=R.required()),g.condition(d,{ref:l.ref(y),is:R,then:E.then,otherwise:E.otherwise,break:E.break})}u(Array.isArray(_.switch),'"switch" must be an array'),u(_.is===void 0,'Cannot combine "switch" with "is"'),u(_.not===void 0,'Cannot combine "switch" with "not"'),u(_.then===void 0,'Cannot combine "switch" with "then"');const b={ref:l.ref(y),switch:[],break:_.break};for(let E=0;E<_.switch.length;++E){const R=_.switch[E],T=E===_.switch.length-1;h.assertOptions(R,T?["is","then","otherwise"]:["is","then"]),u(R.is!==void 0,'Switch statement missing "is"'),u(R.then!==void 0,'Switch statement missing "then"');const A={is:d.$_compile(R.is),then:d.$_compile(R.then)};if(m.isRef(R.is)||h.isSchema(R.is)||(A.is=A.is.required()),T){u(_.otherwise===void 0||R.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const x=_.otherwise!==void 0?_.otherwise:R.otherwise;x!==void 0&&(u(b.break===void 0,"Cannot specify both otherwise and break"),A.otherwise=d.$_compile(x))}b.switch.push(A)}return b},g.condition=function(d,y){for(const _ of["then","otherwise"])y[_]===void 0?delete y[_]:y[_]=d.$_compile(y[_]);return y}},6354:(a,l,c)=>{const u=c(5688),h=c(8160),m=c(3328);l.Report=class{constructor(g,d,y,_,b,E,R){if(this.code=g,this.flags=_,this.messages=b,this.path=E.path,this.prefs=R,this.state=E,this.value=d,this.message=null,this.template=null,this.local=y||{},this.local.label=l.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const T=this.path[this.path.length-1];typeof T!="object"&&(this.local.key=T)}}_setTemplate(g){if(this.template=g,!this.flags.label&&this.path.length===0){const d=this._template(this.template,"root");d&&(this.local.label=d)}}toString(){if(this.message)return this.message;const g=this.code;if(!this.prefs.errors.render)return this.code;const d=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return d===void 0?`Error code "${g}" is not defined, your custom type is missing the correct messages definition`:(this.message=d.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(g,d){return l.template(this.value,g,d||this.code,this.state,this.prefs)}},l.path=function(g){let d="";for(const y of g)typeof y!="object"&&(typeof y=="string"?(d&&(d+="."),d+=y):d+=`[${y}]`);return d},l.template=function(g,d,y,_,b){if(!d)return;if(m.isTemplate(d))return y!=="root"?d:null;let E=b.errors.language;if(h.isResolvable(E)&&(E=E.resolve(g,_,b)),E&&d[E]){if(d[E][y]!==void 0)return d[E][y];if(d[E]["*"]!==void 0)return d[E]["*"]}return d[y]?d[y]:d["*"]},l.label=function(g,d,y,_){if(!y.errors.label)return"";if(g.label)return g.label;let b=d.path;return y.errors.label==="key"&&d.path.length>1&&(b=d.path.slice(-1)),l.path(b)||l.template(null,y.messages,"root",d,y)||_&&l.template(null,_,"root",d,y)||"value"},l.process=function(g,d,y){if(!g)return null;const{override:_,message:b,details:E}=l.details(g);if(_)return _;if(y.errors.stack)return new l.ValidationError(b,E,d);const R=Error.stackTraceLimit;Error.stackTraceLimit=0;const T=new l.ValidationError(b,E,d);return Error.stackTraceLimit=R,T},l.details=function(g,d={}){let y=[];const _=[];for(const b of g){if(b instanceof Error){if(d.override!==!1)return{override:b};const R=b.toString();y.push(R),_.push({message:R,type:"override",context:{error:b}});continue}const E=b.toString();y.push(E),_.push({message:E,path:b.path.filter(R=>typeof R!="object"),type:b.code,context:b.local})}return y.length>1&&(y=[...new Set(y)]),{message:y.join(". "),details:_}},l.ValidationError=class extends Error{constructor(g,d,y){super(g),this._original=y,this.details=d}static isError(g){return g instanceof l.ValidationError}},l.ValidationError.prototype.isJoi=!0,l.ValidationError.prototype.name="ValidationError",l.ValidationError.prototype.annotate=u.error},8901:(a,l,c)=>{const u=c(375),h=c(8571),m=c(8160),g=c(6914),d={};l.type=function(y,_){const b=Object.getPrototypeOf(y),E=h(b),R=y._assign(Object.create(E)),T=Object.assign({},_);delete T.base,E._definition=T;const A=b._definition||{};T.messages=g.merge(A.messages,T.messages),T.properties=Object.assign({},A.properties,T.properties),R.type=T.type,T.flags=Object.assign({},A.flags,T.flags);const x=Object.assign({},A.terms);if(T.terms)for(const O in T.terms){const S=T.terms[O];u(R.$_terms[O]===void 0,"Invalid term override for",T.type,O),R.$_terms[O]=S.init,x[O]=S}T.terms=x,T.args||(T.args=A.args),T.prepare=d.prepare(T.prepare,A.prepare),T.coerce&&(typeof T.coerce=="function"&&(T.coerce={method:T.coerce}),T.coerce.from&&!Array.isArray(T.coerce.from)&&(T.coerce={method:T.coerce.method,from:[].concat(T.coerce.from)})),T.coerce=d.coerce(T.coerce,A.coerce),T.validate=d.validate(T.validate,A.validate);const I=Object.assign({},A.rules);if(T.rules)for(const O in T.rules){const S=T.rules[O];u(typeof S=="object","Invalid rule definition for",T.type,O);let C=S.method;if(C===void 0&&(C=function(){return this.$_addRule(O)}),C&&(u(!E[O],"Rule conflict in",T.type,O),E[O]=C),u(!I[O],"Rule conflict in",T.type,O),I[O]=S,S.alias){const M=[].concat(S.alias);for(const k of M)E[k]=S.method}S.args&&(S.argsByName=new Map,S.args=S.args.map(M=>(typeof M=="string"&&(M={name:M}),u(!S.argsByName.has(M.name),"Duplicated argument name",M.name),m.isSchema(M.assert)&&(M.assert=M.assert.strict().label(M.name)),S.argsByName.set(M.name,M),M)))}T.rules=I;const N=Object.assign({},A.modifiers);if(T.modifiers)for(const O in T.modifiers){u(!E[O],"Rule conflict in",T.type,O);const S=T.modifiers[O];u(typeof S=="function","Invalid modifier definition for",T.type,O);const C=function(M){return this.rule({[O]:M})};E[O]=C,N[O]=S}if(T.modifiers=N,T.overrides){E._super=b,R.$_super={};for(const O in T.overrides)u(b[O],"Cannot override missing",O),T.overrides[O][m.symbols.parent]=b[O],R.$_super[O]=b[O].bind(R);Object.assign(E,T.overrides)}T.cast=Object.assign({},A.cast,T.cast);const L=Object.assign({},A.manifest,T.manifest);return L.build=d.build(T.manifest&&T.manifest.build,A.manifest&&A.manifest.build),T.manifest=L,T.rebuild=d.rebuild(T.rebuild,A.rebuild),R},d.build=function(y,_){return y&&_?function(b,E){return _(y(b,E),E)}:y||_},d.coerce=function(y,_){return y&&_?{from:y.from&&_.from?[...new Set([...y.from,..._.from])]:null,method(b,E){let R;if((!_.from||_.from.includes(typeof b))&&(R=_.method(b,E),R)){if(R.errors||R.value===void 0)return R;b=R.value}if(!y.from||y.from.includes(typeof b)){const T=y.method(b,E);if(T)return T}return R}}:y||_},d.prepare=function(y,_){return y&&_?function(b,E){const R=y(b,E);if(R){if(R.errors||R.value===void 0)return R;b=R.value}return _(b,E)||R}:y||_},d.rebuild=function(y,_){return y&&_?function(b){_(b),y(b)}:y||_},d.validate=function(y,_){return y&&_?function(b,E){const R=_(b,E);if(R){if(R.errors&&(!Array.isArray(R.errors)||R.errors.length))return R;b=R.value}return y(b,E)||R}:y||_}},5107:(a,l,c)=>{const u=c(375),h=c(8571),m=c(8652),g=c(8160),d=c(3292),y=c(6354),_=c(8901),b=c(9708),E=c(6133),R=c(3328),T=c(1152);let A;const x={types:{alternatives:c(4946),any:c(8068),array:c(546),boolean:c(4937),date:c(7500),function:c(390),link:c(8785),number:c(3832),object:c(8966),string:c(7417),symbol:c(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const I={_types:new Set(Object.keys(x.types))};for(const N of I._types)I[N]=function(...L){return u(!L.length||["alternatives","link","object"].includes(N),"The",N,"type does not allow arguments"),x.generate(this,x.types[N],L)};for(const N of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])I[N]=function(...L){return this.any()[N](...L)};Object.assign(I,x.methods);for(const N in x.aliases){const L=x.aliases[N];I[N]=I[L]}return I.x=I.expression,T.setup&&T.setup(I),I}};x.methods={ValidationError:y.ValidationError,version:g.version,cache:m.provider,assert(I,N,...L){x.assert(I,N,!0,L)},attempt:(I,N,...L)=>x.assert(I,N,!1,L),build(I){return u(typeof b.build=="function","Manifest functionality disabled"),b.build(this,I)},checkPreferences(I){g.checkPreferences(I)},compile(I,N){return d.compile(this,I,N)},defaults(I){u(typeof I=="function","modifier must be a function");const N=Object.assign({},this);for(const L of N._types){const O=I(N[L]());u(g.isSchema(O),"modifier must return a valid schema object"),N[L]=function(...S){return x.generate(this,O,S)}}return N},expression:(...I)=>new R(...I),extend(...I){g.verifyFlat(I,"extend"),A=A||c(3378),u(I.length,"You need to provide at least one extension"),this.assert(I,A.extensions);const N=Object.assign({},this);N._types=new Set(N._types);for(let L of I){typeof L=="function"&&(L=L(N)),this.assert(L,A.extension);const O=x.expandExtension(L,N);for(const S of O){u(N[S.type]===void 0||N._types.has(S.type),"Cannot override name",S.type);const C=S.base||this.any(),M=_.type(C,S);N._types.add(S.type),N[S.type]=function(...k){return x.generate(this,M,k)}}}return N},isError:y.ValidationError.isError,isExpression:R.isTemplate,isRef:E.isRef,isSchema:g.isSchema,in:(...I)=>E.in(...I),override:g.symbols.override,ref:(...I)=>E.create(...I),types(){const I={};for(const N of this._types)I[N]=this[N]();for(const N in x.aliases)I[N]=this[N]();return I}},x.assert=function(I,N,L,O){const S=O[0]instanceof Error||typeof O[0]=="string"?O[0]:null,C=S!==null?O[1]:O[0],M=N.validate(I,g.preferences({errors:{stack:!0}},C||{}));let k=M.error;if(!k)return M.value;if(S instanceof Error)throw S;const $=L&&typeof k.annotate=="function"?k.annotate():k.message;throw k instanceof y.ValidationError==0&&(k=h(k)),k.message=S?`${S} ${$}`:$,k},x.generate=function(I,N,L){return u(I,"Must be invoked on a Joi instance."),N.$_root=I,N._definition.args&&L.length?N._definition.args(N,...L):N},x.expandExtension=function(I,N){if(typeof I.type=="string")return[I];const L=[];for(const O of N._types)if(I.type.test(O)){const S=Object.assign({},I);S.type=O,S.base=N[O](),L.push(S)}return L},a.exports=x.root()},6914:(a,l,c)=>{const u=c(375),h=c(8571),m=c(3328);l.compile=function(g,d){if(typeof g=="string")return u(!d,"Cannot set single message string"),new m(g);if(m.isTemplate(g))return u(!d,"Cannot set single message template"),g;u(typeof g=="object"&&!Array.isArray(g),"Invalid message options"),d=d?h(d):{};for(let y in g){const _=g[y];if(y==="root"||m.isTemplate(_)){d[y]=_;continue}if(typeof _=="string"){d[y]=new m(_);continue}u(typeof _=="object"&&!Array.isArray(_),"Invalid message for",y);const b=y;for(y in d[b]=d[b]||{},_){const E=_[y];y==="root"||m.isTemplate(E)?d[b][y]=E:(u(typeof E=="string","Invalid message for",y,"in",b),d[b][y]=new m(E))}}return d},l.decompile=function(g){const d={};for(let y in g){const _=g[y];if(y==="root"){d.root=_;continue}if(m.isTemplate(_)){d[y]=_.describe({compact:!0});continue}const b=y;for(y in d[b]={},_){const E=_[y];y!=="root"?d[b][y]=E.describe({compact:!0}):d[b].root=E}}return d},l.merge=function(g,d){if(!g)return l.compile(d);if(!d)return g;if(typeof d=="string")return new m(d);if(m.isTemplate(d))return d;const y=h(g);for(let _ in d){const b=d[_];if(_==="root"||m.isTemplate(b)){y[_]=b;continue}if(typeof b=="string"){y[_]=new m(b);continue}u(typeof b=="object"&&!Array.isArray(b),"Invalid message for",_);const E=_;for(_ in y[E]=y[E]||{},b){const R=b[_];_==="root"||m.isTemplate(R)?y[E][_]=R:(u(typeof R=="string","Invalid message for",_,"in",E),y[E][_]=new m(R))}}return y}},2294:(a,l,c)=>{const u=c(375),h=c(8160),m=c(6133),g={};l.Ids=g.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const d=new g.Ids;return d._byId=new Map(this._byId),d._byKey=new Map(this._byKey),d._schemaChain=this._schemaChain,d}concat(d){d._schemaChain&&(this._schemaChain=!0);for(const[y,_]of d._byId.entries())u(!this._byKey.has(y),"Schema id conflicts with existing key:",y),this._byId.set(y,_);for(const[y,_]of d._byKey.entries())u(!this._byId.has(y),"Schema key conflicts with existing id:",y),this._byKey.set(y,_)}fork(d,y,_){const b=this._collect(d);b.push({schema:_});const E=b.shift();let R={id:E.id,schema:y(E.schema)};u(h.isSchema(R.schema),"adjuster function failed to return a joi schema type");for(const T of b)R={id:T.id,schema:g.fork(T.schema,R.id,R.schema)};return R.schema}labels(d,y=[]){const _=d[0],b=this._get(_);if(!b)return[...y,...d].join(".");const E=d.slice(1);return y=[...y,b.schema._flags.label||_],E.length?b.schema._ids.labels(E,y):y.join(".")}reach(d,y=[]){const _=d[0],b=this._get(_);u(b,"Schema does not contain path",[...y,...d].join("."));const E=d.slice(1);return E.length?b.schema._ids.reach(E,[...y,_]):b.schema}register(d,{key:y}={}){if(!d||!h.isSchema(d))return;(d.$_property("schemaChain")||d._ids._schemaChain)&&(this._schemaChain=!0);const _=d._flags.id;if(_){const b=this._byId.get(_);u(!b||b.schema===d,"Cannot add different schemas with the same id:",_),u(!this._byKey.has(_),"Schema id conflicts with existing key:",_),this._byId.set(_,{schema:d,id:_})}y&&(u(!this._byKey.has(y),"Schema already contains key:",y),u(!this._byId.has(y),"Schema key conflicts with existing id:",y),this._byKey.set(y,{schema:d,id:y}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(d,y=[],_=[]){const b=d[0],E=this._get(b);u(E,"Schema does not contain path",[...y,...d].join(".")),_=[E,..._];const R=d.slice(1);return R.length?E.schema._ids._collect(R,[...y,b],_):_}_get(d){return this._byId.get(d)||this._byKey.get(d)}},g.fork=function(d,y,_){const b=l.schema(d,{each:(E,{key:R})=>{if(y===(E._flags.id||R))return _},ref:!1});return b?b.$_mutateRebuild():d},l.schema=function(d,y){let _;for(const b in d._flags){if(b[0]==="_")continue;const E=g.scan(d._flags[b],{source:"flags",name:b},y);E!==void 0&&(_=_||d.clone(),_._flags[b]=E)}for(let b=0;b<d._rules.length;++b){const E=d._rules[b],R=g.scan(E.args,{source:"rules",name:E.name},y);if(R!==void 0){_=_||d.clone();const T=Object.assign({},E);T.args=R,_._rules[b]=T,_._singleRules.get(E.name)===E&&_._singleRules.set(E.name,T)}}for(const b in d.$_terms){if(b[0]==="_")continue;const E=g.scan(d.$_terms[b],{source:"terms",name:b},y);E!==void 0&&(_=_||d.clone(),_.$_terms[b]=E)}return _},g.scan=function(d,y,_,b,E){const R=b||[];if(d===null||typeof d!="object")return;let T;if(Array.isArray(d)){for(let A=0;A<d.length;++A){const x=y.source==="terms"&&y.name==="keys"&&d[A].key,I=g.scan(d[A],y,_,[A,...R],x);I!==void 0&&(T=T||d.slice(),T[A]=I)}return T}if(_.schema!==!1&&h.isSchema(d)||_.ref!==!1&&m.isRef(d)){const A=_.each(d,{...y,path:R,key:E});return A===d?void 0:A}for(const A in d){if(A[0]==="_")continue;const x=g.scan(d[A],y,_,[A,...R],E);x!==void 0&&(T=T||Object.assign({},d),T[A]=x)}return T}},6133:(a,l,c)=>{const u=c(375),h=c(8571),m=c(9621),g=c(8160);let d;const y={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};l.create=function(_,b={}){u(typeof _=="string","Invalid reference key:",_),g.assertOptions(b,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),u(!b.prefix||typeof b.prefix=="object","options.prefix must be of type object");const E=Object.assign({},y.defaults,b);delete E.prefix;const R=E.separator,T=y.context(_,R,b.prefix);if(E.type=T.type,_=T.key,E.type==="value")if(T.root&&(u(!R||_[0]!==R,"Cannot specify relative path with root prefix"),E.ancestor="root",_||(_=null)),R&&R===_)_=null,E.ancestor=0;else if(E.ancestor!==void 0)u(!R||!_||_[0]!==R,"Cannot combine prefix with ancestor option");else{const[A,x]=y.ancestor(_,R);x&&(_=_.slice(x))===""&&(_=null),E.ancestor=A}return E.path=R?_===null?[]:_.split(R):[_],new y.Ref(E)},l.in=function(_,b={}){return l.create(_,{...b,in:!0})},l.isRef=function(_){return!!_&&!!_[g.symbols.ref]},y.Ref=class{constructor(_){u(typeof _=="object","Invalid reference construction"),g.assertOptions(_,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),u([!1,void 0].includes(_.separator)||typeof _.separator=="string"&&_.separator.length===1,"Invalid separator"),u(!_.adjust||typeof _.adjust=="function","options.adjust must be a function"),u(!_.map||Array.isArray(_.map),"options.map must be an array"),u(!_.map||!_.adjust,"Cannot set both map and adjust options"),Object.assign(this,y.defaults,_),u(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(_,b,E,R,T={}){return u(!this.in||T.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(E.context,b,T):this.type==="local"?this._resolve(R,b,T):this.ancestor?this.ancestor==="root"?this._resolve(b.ancestors[b.ancestors.length-1],b,T):(u(this.ancestor<=b.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(b.ancestors[this.ancestor-1],b,T)):this._resolve(_,b,T)}_resolve(_,b,E){let R;if(this.type==="value"&&b.mainstay.shadow&&E.shadow!==!1&&(R=b.mainstay.shadow.get(this.absolute(b))),R===void 0&&(R=m(_,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(R=this.adjust(R)),this.map){const T=this.map.get(R);T!==void 0&&(R=T)}return b.mainstay&&b.mainstay.tracer.resolve(b,this,R),R}toString(){return this.display}absolute(_){return[..._.path.slice(0,-this.ancestor),...this.path]}clone(){return new y.Ref(this)}describe(){const _={path:this.path};this.type!=="value"&&(_.type=this.type),this.separator!=="."&&(_.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(_.ancestor=this.ancestor),this.map&&(_.map=[...this.map]);for(const b of["adjust","iterables","render"])this[b]!==null&&this[b]!==void 0&&(_[b]=this[b]);return this.in!==!1&&(_.in=!0),{ref:_}}updateDisplay(){const _=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${_}`);if(!this.separator)return void(this.display=`ref:${_}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${_}`);if(this.ancestor==="root")return void(this.display=`ref:root:${_}`);if(this.ancestor===1)return void(this.display=`ref:${_||".."}`);const b=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${b}${_||""}`}},y.Ref.prototype[g.symbols.ref]=!0,l.build=function(_){return(_=Object.assign({},y.defaults,_)).type==="value"&&_.ancestor===void 0&&(_.ancestor=1),new y.Ref(_)},y.context=function(_,b,E={}){if(_=_.trim(),E){const R=E.global===void 0?"$":E.global;if(R!==b&&_.startsWith(R))return{key:_.slice(R.length),type:"global"};const T=E.local===void 0?"#":E.local;if(T!==b&&_.startsWith(T))return{key:_.slice(T.length),type:"local"};const A=E.root===void 0?"/":E.root;if(A!==b&&_.startsWith(A))return{key:_.slice(A.length),type:"value",root:!0}}return{key:_,type:"value"}},y.ancestor=function(_,b){if(!b)return[1,0];if(_[0]!==b)return[1,0];if(_[1]!==b)return[0,1];let E=2;for(;_[E]===b;)++E;return[E-1,E]},l.toSibling=0,l.toParent=1,l.Manager=class{constructor(){this.refs=[]}register(_,b){if(_)if(b=b===void 0?l.toParent:b,Array.isArray(_))for(const E of _)this.register(E,b);else if(g.isSchema(_))for(const E of _._refs.refs)E.ancestor-b>=0&&this.refs.push({ancestor:E.ancestor-b,root:E.root});else l.isRef(_)&&_.type==="value"&&_.ancestor-b>=0&&this.refs.push({ancestor:_.ancestor-b,root:_.root}),d=d||c(3328),d.isTemplate(_)&&this.register(_.refs(),b)}get length(){return this.refs.length}clone(){const _=new l.Manager;return _.refs=h(this.refs),_}reset(){this.refs=[]}roots(){return this.refs.filter(_=>!_.ancestor).map(_=>_.root)}}},3378:(a,l,c)=>{const u=c(5107),h={};h.wrap=u.string().min(1).max(2).allow(!1),l.preferences=u.object({allowUnknown:u.boolean(),abortEarly:u.boolean(),artifacts:u.boolean(),cache:u.boolean(),context:u.object(),convert:u.boolean(),dateFormat:u.valid("date","iso","string","time","utc"),debug:u.boolean(),errors:{escapeHtml:u.boolean(),label:u.valid("path","key",!1),language:[u.string(),u.object().ref()],render:u.boolean(),stack:u.boolean(),wrap:{label:h.wrap,array:h.wrap,string:h.wrap}},externals:u.boolean(),messages:u.object(),noDefaults:u.boolean(),nonEnumerables:u.boolean(),presence:u.valid("required","optional","forbidden"),skipFunctions:u.boolean(),stripUnknown:u.object({arrays:u.boolean(),objects:u.boolean()}).or("arrays","objects").allow(!0,!1),warnings:u.boolean()}).strict(),h.nameRx=/^[a-zA-Z0-9]\w*$/,h.rule=u.object({alias:u.array().items(u.string().pattern(h.nameRx)).single(),args:u.array().items(u.string(),u.object({name:u.string().pattern(h.nameRx).required(),ref:u.boolean(),assert:u.alternatives([u.function(),u.object().schema()]).conditional("ref",{is:!0,then:u.required()}),normalize:u.function(),message:u.string().when("assert",{is:u.function(),then:u.required()})})),convert:u.boolean(),manifest:u.boolean(),method:u.function().allow(!1),multi:u.boolean(),validate:u.function()}),l.extension=u.object({type:u.alternatives([u.string(),u.object().regex()]).required(),args:u.function(),cast:u.object().pattern(h.nameRx,u.object({from:u.function().maxArity(1).required(),to:u.function().minArity(1).maxArity(2).required()})),base:u.object().schema().when("type",{is:u.object().regex(),then:u.forbidden()}),coerce:[u.function().maxArity(3),u.object({method:u.function().maxArity(3).required(),from:u.array().items(u.string()).single()})],flags:u.object().pattern(h.nameRx,u.object({setter:u.string(),default:u.any()})),manifest:{build:u.function().arity(2)},messages:[u.object(),u.string()],modifiers:u.object().pattern(h.nameRx,u.function().minArity(1).maxArity(2)),overrides:u.object().pattern(h.nameRx,u.function()),prepare:u.function().maxArity(3),rebuild:u.function().arity(1),rules:u.object().pattern(h.nameRx,h.rule),terms:u.object().pattern(h.nameRx,u.object({init:u.array().allow(null).required(),manifest:u.object().pattern(/.+/,[u.valid("schema","single"),u.object({mapped:u.object({from:u.string().required(),to:u.string().required()}).required()})])})),validate:u.function().maxArity(3)}).strict(),l.extensions=u.array().items(u.object(),u.function().arity(1)).strict(),h.desc={buffer:u.object({buffer:u.string()}),func:u.object({function:u.function().required(),options:{literal:!0}}),override:u.object({override:!0}),ref:u.object({ref:u.object({type:u.valid("value","global","local"),path:u.array().required(),separator:u.string().length(1).allow(!1),ancestor:u.number().min(0).integer().allow("root"),map:u.array().items(u.array().length(2)).min(1),adjust:u.function(),iterables:u.boolean(),in:u.boolean(),render:u.boolean()}).required()}),regex:u.object({regex:u.string().min(3)}),special:u.object({special:u.valid("deep").required()}),template:u.object({template:u.string().required(),options:u.object()}),value:u.object({value:u.alternatives([u.object(),u.array()]).required()})},h.desc.entity=u.alternatives([u.array().items(u.link("...")),u.boolean(),u.function(),u.number(),u.string(),h.desc.buffer,h.desc.func,h.desc.ref,h.desc.regex,h.desc.special,h.desc.template,h.desc.value,u.link("/")]),h.desc.values=u.array().items(null,u.boolean(),u.function(),u.number().allow(1/0,-1/0),u.string().allow(""),u.symbol(),h.desc.buffer,h.desc.func,h.desc.override,h.desc.ref,h.desc.regex,h.desc.template,h.desc.value),h.desc.messages=u.object().pattern(/.+/,[u.string(),h.desc.template,u.object().pattern(/.+/,[u.string(),h.desc.template])]),l.description=u.object({type:u.string().required(),flags:u.object({cast:u.string(),default:u.any(),description:u.string(),empty:u.link("/"),failover:h.desc.entity,id:u.string(),label:u.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:u.boolean(),unit:u.string()}).unknown(),preferences:{allowUnknown:u.boolean(),abortEarly:u.boolean(),artifacts:u.boolean(),cache:u.boolean(),convert:u.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:u.boolean(),label:["path","key"],language:[u.string(),h.desc.ref],wrap:{label:h.wrap,array:h.wrap}},externals:u.boolean(),messages:h.desc.messages,noDefaults:u.boolean(),nonEnumerables:u.boolean(),presence:["required","optional","forbidden"],skipFunctions:u.boolean(),stripUnknown:u.object({arrays:u.boolean(),objects:u.boolean()}).or("arrays","objects").allow(!0,!1),warnings:u.boolean()},allow:h.desc.values,invalid:h.desc.values,rules:u.array().min(1).items({name:u.string().required(),args:u.object().min(1),keep:u.boolean(),message:[u.string(),h.desc.messages],warn:u.boolean()}),keys:u.object().pattern(/.*/,u.link("/")),link:h.desc.ref}).pattern(/^[a-z]\w*$/,u.any())},493:(a,l,c)=>{const u=c(8571),h=c(9621),m=c(8160),g={value:Symbol("value")};a.exports=g.State=class{constructor(d,y,_){this.path=d,this.ancestors=y,this.mainstay=_.mainstay,this.schemas=_.schemas,this.debug=null}localize(d,y=null,_=null){const b=new g.State(d,y,this);return _&&b.schemas&&(b.schemas=[g.schemas(_),...b.schemas]),b}nest(d,y){const _=new g.State(this.path,this.ancestors,this);return _.schemas=_.schemas&&[g.schemas(d),..._.schemas],_.debug=y,_}shadow(d,y){this.mainstay.shadow=this.mainstay.shadow||new g.Shadow,this.mainstay.shadow.set(this.path,d,y)}snapshot(){this.mainstay.shadow&&(this._snapshot=u(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}},g.schemas=function(d){return m.isSchema(d)?{schema:d}:d},g.Shadow=class{constructor(){this._values=null}set(d,y,_){if(!d.length||_==="strip"&&typeof d[d.length-1]=="number")return;this._values=this._values||new Map;let b=this._values;for(let E=0;E<d.length;++E){const R=d[E];let T=b.get(R);T||(T=new Map,b.set(R,T)),b=T}b[g.value]=y}get(d){const y=this.node(d);if(y)return y[g.value]}node(d){if(this._values)return h(this._values,d,{iterables:!0})}override(d,y){if(!this._values)return;const _=d.slice(0,-1),b=d[d.length-1],E=h(this._values,_,{iterables:!0});y?E.set(b,y):E&&E.delete(b)}}},3328:(a,l,c)=>{const u=c(375),h=c(8571),m=c(5277),g=c(1447),d=c(8160),y=c(6354),_=c(6133),b={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};a.exports=b.Template=class{constructor(E,R){if(u(typeof E=="string","Template source must be a string"),u(!E.includes("\0")&&!E.includes(""),"Template source cannot contain reserved control characters"),this.source=E,this.rendered=E,this._template=null,R){const{functions:T,...A}=R;this._settings=Object.keys(A).length?h(A):void 0,this._functions=T,this._functions&&(u(Object.keys(this._functions).every(x=>typeof x=="string"),"Functions keys must be strings"),u(Object.values(this._functions).every(x=>typeof x=="function"),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;const E=b.encode(this.source),R=b.split(E);let T=!1;const A=[],x=R.shift();x&&A.push(x);for(const I of R){const N=I[0]!=="{",L=N?"}":"}}",O=I.indexOf(L);if(O===-1||I[1]==="{"){A.push(`{${b.decode(I)}`);continue}let S=I.slice(N?0:1,O);const C=S[0]===":";C&&(S=S.slice(1));const M=this._ref(b.decode(S),{raw:N,wrapped:C});A.push(M),typeof M!="string"&&(T=!0);const k=I.slice(O+L.length);k&&A.push(b.decode(k))}T?this._template=A:this.rendered=A.join("")}static date(E,R){return b.dateFormat[R.dateFormat].call(E)}describe(E={}){if(!this._settings&&E.compact)return this.source;const R={template:this.source};return this._settings&&(R.options=this._settings),this._functions&&(R.functions=this._functions),R}static build(E){return new b.Template(E.template,E.options||E.functions?{...E.options,functions:E.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(E){return!!E&&!!E[d.symbols.template]}refs(){if(!this._template)return;const E=[];for(const R of this._template)typeof R!="string"&&E.push(...R.refs);return E}resolve(E,R,T,A){return this._template&&this._template.length===1?this._part(this._template[0],E,R,T,A,{}):this.render(E,R,T,A)}_part(E,...R){return E.ref?E.ref.resolve(...R):E.formula.evaluate(R)}render(E,R,T,A,x={}){if(!this.isDynamic())return this.rendered;const I=[];for(const N of this._template)if(typeof N=="string")I.push(N);else{const L=this._part(N,E,R,T,A,x),O=b.stringify(L,E,R,T,A,x);if(O!==void 0){const S=N.raw||(x.errors&&x.errors.escapeHtml)===!1?O:m(O);I.push(b.wrap(S,N.wrapped&&T.errors.wrap.label))}}return I.join("")}_ref(E,{raw:R,wrapped:T}){const A=[],x=N=>{const L=_.create(N,this._settings);return A.push(L),O=>{const S=L.resolve(...O);return S!==void 0?S:null}};try{const N=this._functions?{...b.functions,...this._functions}:b.functions;var I=new g.Parser(E,{reference:x,functions:N,constants:b.constants})}catch(N){throw N.message=`Invalid template variable "${E}" fails due to: ${N.message}`,N}if(I.single){if(I.single.type==="reference"){const N=A[0];return{ref:N,raw:R,refs:A,wrapped:T||N.type==="local"&&N.key==="label"}}return b.stringify(I.single.value)}return{formula:I,raw:R,refs:A}}toString(){return this.source}},b.Template.prototype[d.symbols.template]=!0,b.Template.prototype.isImmutable=!0,b.encode=function(E){return E.replace(/\\(\{+)/g,(R,T)=>b.opens.slice(0,T.length)).replace(/\\(\}+)/g,(R,T)=>b.closes.slice(0,T.length))},b.decode=function(E){return E.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},b.split=function(E){const R=[];let T="";for(let A=0;A<E.length;++A){const x=E[A];if(x==="{"){let I="";for(;A+1<E.length&&E[A+1]==="{";)I+="{",++A;R.push(T),T=I}else T+=x}return R.push(T),R},b.wrap=function(E,R){return R?R.length===1?`${R}${E}${R}`:`${R[0]}${E}${R[1]}`:E},b.stringify=function(E,R,T,A,x,I={}){const N=typeof E,L=A&&A.errors&&A.errors.wrap||{};let O=!1;if(_.isRef(E)&&E.render&&(O=E.in,E=E.resolve(R,T,A,x,{in:E.in,...I})),E===null)return"null";if(N==="string")return b.wrap(E,I.arrayItems&&L.string);if(N==="number"||N==="function"||N==="symbol")return E.toString();if(N!=="object")return JSON.stringify(E);if(E instanceof Date)return b.Template.date(E,A);if(E instanceof Map){const C=[];for(const[M,k]of E.entries())C.push(`${M.toString()} -> ${k.toString()}`);E=C}if(!Array.isArray(E))return E.toString();const S=[];for(const C of E)S.push(b.stringify(C,R,T,A,x,{arrayItems:!0,...I}));return b.wrap(S.join(", "),!O&&L.array)},b.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},b.functions={if:(E,R,T)=>E?R:T,length:E=>typeof E=="string"?E.length:E&&typeof E=="object"?Array.isArray(E)?E.length:Object.keys(E).length:null,msg(E){const[R,T,A,x,I]=this,N=I.messages;if(!N)return"";const L=y.template(R,N[0],E,T,A)||y.template(R,N[1],E,T,A);return L?L.render(R,T,A,x,I):""},number:E=>typeof E=="number"?E:typeof E=="string"?parseFloat(E):typeof E=="boolean"?E?1:0:E instanceof Date?E.getTime():null}},4946:(a,l,c)=>{const u=c(375),h=c(1687),m=c(8068),g=c(8160),d=c(3292),y=c(6354),_=c(6133),b={};a.exports=m.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:_.toSibling}},args:(E,...R)=>R.length===1&&Array.isArray(R[0])?E.try(...R[0]):E.try(...R),validate(E,R){const{schema:T,error:A,state:x,prefs:I}=R;if(T._flags.match){const L=[],O=[];for(let C=0;C<T.$_terms.matches.length;++C){const M=T.$_terms.matches[C],k=x.nest(M.schema,`match.${C}`);k.snapshot();const $=M.schema.$_validate(E,k,I);$.errors?(O.push($.errors),k.restore()):(L.push($.value),k.commit())}if(L.length===0)return{errors:A("alternatives.any",{details:O.map(C=>y.details(C,{override:!1}))})};if(T._flags.match==="one")return L.length===1?{value:L[0]}:{errors:A("alternatives.one")};if(L.length!==T.$_terms.matches.length)return{errors:A("alternatives.all",{details:O.map(C=>y.details(C,{override:!1}))})};const S=C=>C.$_terms.matches.some(M=>M.schema.type==="object"||M.schema.type==="alternatives"&&S(M.schema));return S(T)?{value:L.reduce((C,M)=>h(C,M,{mergeArrays:!1}))}:{value:L[L.length-1]}}const N=[];for(let L=0;L<T.$_terms.matches.length;++L){const O=T.$_terms.matches[L];if(O.schema){const M=x.nest(O.schema,`match.${L}`);M.snapshot();const k=O.schema.$_validate(E,M,I);if(!k.errors)return M.commit(),k;M.restore(),N.push({schema:O.schema,reports:k.errors});continue}const S=O.ref?O.ref.resolve(E,x,I):E,C=O.is?[O]:O.switch;for(let M=0;M<C.length;++M){const k=C[M],{is:$,then:U,otherwise:he}=k,ge=`match.${L}${O.switch?"."+M:""}`;if($.$_match(S,x.nest($,`${ge}.is`),I)){if(U)return U.$_validate(E,x.nest(U,`${ge}.then`),I)}else if(he)return he.$_validate(E,x.nest(he,`${ge}.otherwise`),I)}}return b.errors(N,R)},rules:{conditional:{method(E,R){u(!this._flags._endedSwitch,"Unreachable condition"),u(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),u(R.break===void 0,"Cannot use break option with alternatives conditional");const T=this.clone(),A=d.when(T,E,R),x=A.is?[A]:A.switch;for(const I of x)if(I.then&&I.otherwise){T.$_setFlag("_endedSwitch",!0,{clone:!1});break}return T.$_terms.matches.push(A),T.$_mutateRebuild()}},match:{method(E){if(u(["any","one","all"].includes(E),"Invalid alternatives match mode",E),E!=="any")for(const R of this.$_terms.matches)u(R.schema,"Cannot combine match mode",E,"with conditional rules");return this.$_setFlag("match",E)}},try:{method(...E){u(E.length,"Missing alternative schemas"),g.verifyFlat(E,"try"),u(!this._flags._endedSwitch,"Unreachable condition");const R=this.clone();for(const T of E)R.$_terms.matches.push({schema:R.$_compile(T)});return R.$_mutateRebuild()}}},overrides:{label(E){return this.$_parent("label",E).$_modify({each:(R,T)=>T.path[0]!=="is"&&typeof R._flags.label!="string"?R.label(E):void 0,ref:!1})}},rebuild(E){E.$_modify({each:R=>{g.isSchema(R)&&R.type==="array"&&E.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(E,R){if(R.matches)for(const T of R.matches){const{schema:A,ref:x,is:I,not:N,then:L,otherwise:O}=T;E=A?E.try(A):x?E.conditional(x,{is:I,then:L,not:N,otherwise:O,switch:T.switch}):E.conditional(I,{then:L,otherwise:O})}return E}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),b.errors=function(E,{error:R,state:T}){if(!E.length)return{errors:R("alternatives.any")};if(E.length===1)return{errors:E[0].reports};const A=new Set,x=[];for(const{reports:I,schema:N}of E){if(I.length>1)return b.unmatched(E,R);const L=I[0];if(L instanceof y.Report==0)return b.unmatched(E,R);if(L.state.path.length!==T.path.length){x.push({type:N.type,report:L});continue}if(L.code==="any.only"){for(const C of L.local.valids)A.add(C);continue}const[O,S]=L.code.split(".");S!=="base"?x.push({type:N.type,report:L}):L.code==="object.base"?A.add(L.local.type):A.add(O)}return x.length?x.length===1?{errors:x[0].report}:b.unmatched(E,R):{errors:R("alternatives.types",{types:[...A]})}},b.unmatched=function(E,R){const T=[];for(const A of E)T.push(...A.reports);return{errors:R("alternatives.match",y.details(T,{override:!1}))}}},8068:(a,l,c)=>{const u=c(375),h=c(7629),m=c(8160),g=c(6914);a.exports=h.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(d,y){return u(typeof d=="function","Method must be a function"),u(y===void 0||y&&typeof y=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:d,description:y}})},validate(d,y,{method:_}){try{return _(d,y)}catch(b){return y.error("any.custom",{error:b})}},args:["method","description"],multi:!0},messages:{method(d){return this.prefs({messages:d})}},shared:{method(d){u(m.isSchema(d)&&d._flags.id,"Schema must be a schema with an id");const y=this.clone();return y.$_terms.shared=y.$_terms.shared||[],y.$_terms.shared.push(d),y.$_mutateRegister(d),y}},warning:{method(d,y){return u(d&&typeof d=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:d,local:y},warn:!0})},validate:(d,y,{code:_,local:b})=>y.error(_,b),args:["code","local"],multi:!0}},modifiers:{keep(d,y=!0){d.keep=y},message(d,y){d.message=g.compile(y)},warn(d,y=!0){d.warn=y}},manifest:{build(d,y){for(const _ in y){const b=y[_];if(["examples","externals","metas","notes","tags"].includes(_))for(const E of b)d=d[_.slice(0,-1)](E);else if(_!=="alterations")if(_!=="whens"){if(_==="shared")for(const E of b)d=d.shared(E)}else for(const E of b){const{ref:R,is:T,not:A,then:x,otherwise:I,concat:N}=E;d=N?d.concat(N):R?d.when(R,{is:T,not:A,then:x,otherwise:I,switch:E.switch,break:E.break}):d.when(T,{then:x,otherwise:I,break:E.break})}else{const E={};for(const{target:R,adjuster:T}of b)E[R]=T;d=d.alter(E)}}return d}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(a,l,c)=>{const u=c(375),h=c(9474),m=c(9621),g=c(8068),d=c(8160),y=c(3292),_={};a.exports=g.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(b,{schema:E,state:R,prefs:T}){if(!Array.isArray(b))return;const A=E.$_getRule("sort");return A?_.sort(E,b,A.args.options,R,T):void 0}},validate(b,{schema:E,error:R}){if(!Array.isArray(b)){if(E._flags.single){const T=[b];return T[d.symbols.arraySingle]=!0,{value:T}}return{errors:R("array.base")}}if(E.$_getRule("items")||E.$_terms.externals)return{value:b.slice()}},rules:{has:{method(b){b=this.$_compile(b,{appendPath:!0});const E=this.$_addRule({name:"has",args:{schema:b}});return E.$_mutateRegister(b),E},validate(b,{state:E,prefs:R,error:T},{schema:A}){const x=[b,...E.ancestors];for(let N=0;N<b.length;++N){const L=E.localize([...E.path,N],x,A);if(A.$_match(b[N],L,R))return b}const I=A._flags.label;return I?T("array.hasKnown",{patternLabel:I}):T("array.hasUnknown",null)},multi:!0},items:{method(...b){d.verifyFlat(b,"items");const E=this.$_addRule("items");for(let R=0;R<b.length;++R){const T=d.tryWithPath(()=>this.$_compile(b[R]),R,{append:!0});E.$_terms.items.push(T)}return E.$_mutateRebuild()},validate(b,{schema:E,error:R,state:T,prefs:A,errorsArray:x}){const I=E.$_terms._requireds.slice(),N=E.$_terms.ordered.slice(),L=[...E.$_terms._inclusions,...I],O=!b[d.symbols.arraySingle];delete b[d.symbols.arraySingle];const S=x();let C=b.length;for(let M=0;M<C;++M){const k=b[M];let $=!1,U=!1;const he=O?M:new Number(M),ge=[...T.path,he];if(!E._flags.sparse&&k===void 0){if(S.push(R("array.sparse",{key:he,path:ge,pos:M,value:void 0},T.localize(ge))),A.abortEarly)return S;N.shift();continue}const K=[b,...T.ancestors];for(const B of E.$_terms._exclusions)if(B.$_match(k,T.localize(ge,K,B),A,{presence:"ignore"})){if(S.push(R("array.excludes",{pos:M,value:k},T.localize(ge))),A.abortEarly)return S;$=!0,N.shift();break}if($)continue;if(E.$_terms.ordered.length){if(N.length){const B=N.shift(),re=B.$_validate(k,T.localize(ge,K,B),A);if(re.errors){if(S.push(...re.errors),A.abortEarly)return S}else if(B._flags.result==="strip")_.fastSplice(b,M),--M,--C;else{if(!E._flags.sparse&&re.value===void 0){if(S.push(R("array.sparse",{key:he,path:ge,pos:M,value:void 0},T.localize(ge))),A.abortEarly)return S;continue}b[M]=re.value}continue}if(!E.$_terms.items.length){if(S.push(R("array.orderedLength",{pos:M,limit:E.$_terms.ordered.length})),A.abortEarly)return S;break}}const se=[];let pe=I.length;for(let B=0;B<pe;++B){const re=T.localize(ge,K,I[B]);re.snapshot();const me=I[B].$_validate(k,re,A);if(se[B]=me,!me.errors){if(re.commit(),b[M]=me.value,U=!0,_.fastSplice(I,B),--B,--pe,!E._flags.sparse&&me.value===void 0&&(S.push(R("array.sparse",{key:he,path:ge,pos:M,value:void 0},T.localize(ge))),A.abortEarly))return S;break}re.restore()}if(U)continue;const Se=A.stripUnknown&&!!A.stripUnknown.arrays||!1;pe=L.length;for(const B of L){let re;const me=I.indexOf(B);if(me!==-1)re=se[me];else{const ce=T.localize(ge,K,B);if(ce.snapshot(),re=B.$_validate(k,ce,A),!re.errors){ce.commit(),B._flags.result==="strip"?(_.fastSplice(b,M),--M,--C):E._flags.sparse||re.value!==void 0?b[M]=re.value:(S.push(R("array.sparse",{key:he,path:ge,pos:M,value:void 0},T.localize(ge))),$=!0),U=!0;break}ce.restore()}if(pe===1){if(Se){_.fastSplice(b,M),--M,--C,U=!0;break}if(S.push(...re.errors),A.abortEarly)return S;$=!0;break}}if(!$&&(E.$_terms._inclusions.length||E.$_terms._requireds.length)&&!U){if(Se){_.fastSplice(b,M),--M,--C;continue}if(S.push(R("array.includes",{pos:M,value:k},T.localize(ge))),A.abortEarly)return S}}return I.length&&_.fillMissedErrors(E,S,I,b,T,A),N.length&&(_.fillOrderedErrors(E,S,N,b,T,A),S.length||_.fillDefault(N,b,T,A)),S.length?S:b},priority:!0,manifest:!1},length:{method(b){return this.$_addRule({name:"length",args:{limit:b},operator:"="})},validate:(b,E,{limit:R},{name:T,operator:A,args:x})=>d.compare(b.length,R,A)?b:E.error("array."+T,{limit:x.limit,value:b}),args:[{name:"limit",ref:!0,assert:d.limit,message:"must be a positive integer"}]},max:{method(b){return this.$_addRule({name:"max",method:"length",args:{limit:b},operator:"<="})}},min:{method(b){return this.$_addRule({name:"min",method:"length",args:{limit:b},operator:">="})}},ordered:{method(...b){d.verifyFlat(b,"ordered");const E=this.$_addRule("items");for(let R=0;R<b.length;++R){const T=d.tryWithPath(()=>this.$_compile(b[R]),R,{append:!0});_.validateSingle(T,E),E.$_mutateRegister(T),E.$_terms.ordered.push(T)}return E.$_mutateRebuild()}},single:{method(b){const E=b===void 0||!!b;return u(!E||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",E)}},sort:{method(b={}){d.assertOptions(b,["by","order"]);const E={order:b.order||"ascending"};return b.by&&(E.by=y.ref(b.by,{ancestor:0}),u(!E.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:E}})},validate(b,{error:E,state:R,prefs:T,schema:A},{options:x}){const{value:I,errors:N}=_.sort(A,b,x,R,T);if(N)return N;for(let L=0;L<b.length;++L)if(b[L]!==I[L])return E("array.sort",{order:x.order,by:x.by?x.by.key:"value"});return b},convert:!0},sparse:{method(b){const E=b===void 0||!!b;return this._flags.sparse===E?this:(E?this.clone():this.$_addRule("items")).$_setFlag("sparse",E,{clone:!1})}},unique:{method(b,E={}){u(!b||typeof b=="function"||typeof b=="string","comparator must be a function or a string"),d.assertOptions(E,["ignoreUndefined","separator"]);const R={name:"unique",args:{options:E,comparator:b}};if(b)if(typeof b=="string"){const T=d.default(E.separator,".");R.path=T?b.split(T):[b]}else R.comparator=b;return this.$_addRule(R)},validate(b,{state:E,error:R,schema:T},{comparator:A,options:x},{comparator:I,path:N}){const L={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},O=I||h,S=x.ignoreUndefined;for(let C=0;C<b.length;++C){const M=N?m(b[C],N):b[C],k=I?L.custom:L[typeof M];if(u(k,"Failed to find unique map container for type",typeof M),k instanceof Map){const $=k.entries();let U;for(;!(U=$.next()).done;)if(O(U.value[0],M)){const he=E.localize([...E.path,C],[b,...E.ancestors]),ge={pos:C,value:b[C],dupePos:U.value[1],dupeValue:b[U.value[1]]};return N&&(ge.path=A),R("array.unique",ge,he)}k.set(M,C)}else{if((!S||M!==void 0)&&k[M]!==void 0){const $={pos:C,value:b[C],dupePos:k[M],dupeValue:b[k[M]]};return N&&($.path=A),R("array.unique",$,E.localize([...E.path,C],[b,...E.ancestors]))}k[M]=C}}return b},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(b,E)=>new Set(b)}},rebuild(b){b.$_terms._inclusions=[],b.$_terms._exclusions=[],b.$_terms._requireds=[];for(const E of b.$_terms.items)_.validateSingle(E,b),E._flags.presence==="required"?b.$_terms._requireds.push(E):E._flags.presence==="forbidden"?b.$_terms._exclusions.push(E):b.$_terms._inclusions.push(E);for(const E of b.$_terms.ordered)_.validateSingle(E,b)},manifest:{build:(b,E)=>(E.items&&(b=b.items(...E.items)),E.ordered&&(b=b.ordered(...E.ordered)),b)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),_.fillMissedErrors=function(b,E,R,T,A,x){const I=[];let N=0;for(const L of R){const O=L._flags.label;O?I.push(O):++N}I.length?N?E.push(b.$_createError("array.includesRequiredBoth",T,{knownMisses:I,unknownMisses:N},A,x)):E.push(b.$_createError("array.includesRequiredKnowns",T,{knownMisses:I},A,x)):E.push(b.$_createError("array.includesRequiredUnknowns",T,{unknownMisses:N},A,x))},_.fillOrderedErrors=function(b,E,R,T,A,x){const I=[];for(const N of R)N._flags.presence==="required"&&I.push(N);I.length&&_.fillMissedErrors(b,E,I,T,A,x)},_.fillDefault=function(b,E,R,T){const A=[];let x=!0;for(let I=b.length-1;I>=0;--I){const N=b[I],L=[E,...R.ancestors],O=N.$_validate(void 0,R.localize(R.path,L,N),T).value;if(x){if(O===void 0)continue;x=!1}A.unshift(O)}A.length&&E.push(...A)},_.fastSplice=function(b,E){let R=E;for(;R<b.length;)b[R++]=b[R];--b.length},_.validateSingle=function(b,E){(b.type==="array"||b._flags._arrayItems)&&(u(!E._flags.single,"Cannot specify array item with single rule enabled"),E.$_setFlag("_arrayItems",!0,{clone:!1}))},_.sort=function(b,E,R,T,A){const x=R.order==="ascending"?1:-1,I=-1*x,N=x,L=(O,S)=>{let C=_.compare(O,S,I,N);if(C!==null||(R.by&&(O=R.by.resolve(O,T,A),S=R.by.resolve(S,T,A)),C=_.compare(O,S,I,N),C!==null))return C;const M=typeof O;if(M!==typeof S)throw b.$_createError("array.sort.mismatching",E,null,T,A);if(M!=="number"&&M!=="string")throw b.$_createError("array.sort.unsupported",E,{type:M},T,A);return M==="number"?(O-S)*x:O<S?I:N};try{return{value:E.slice().sort(L)}}catch(O){return{errors:O}}},_.compare=function(b,E,R,T){return b===E?0:b===void 0?1:E===void 0?-1:b===null?T:E===null?R:null}},4937:(a,l,c)=>{const u=c(375),h=c(8068),m=c(8160),g=c(2036),d={isBool:function(y){return typeof y=="boolean"}};a.exports=h.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(y,{schema:_}){if(typeof y!="boolean"){if(typeof y=="string"){const b=_._flags.sensitive?y:y.toLowerCase();y=b==="true"||b!=="false"&&y}return typeof y!="boolean"&&(y=_.$_terms.truthy&&_.$_terms.truthy.has(y,null,null,!_._flags.sensitive)||(!_.$_terms.falsy||!_.$_terms.falsy.has(y,null,null,!_._flags.sensitive))&&y),{value:y}}},validate(y,{error:_}){if(typeof y!="boolean")return{value:y,errors:_("boolean.base")}},rules:{truthy:{method(...y){m.verifyFlat(y,"truthy");const _=this.clone();_.$_terms.truthy=_.$_terms.truthy||new g;for(let b=0;b<y.length;++b){const E=y[b];u(E!==void 0,"Cannot call truthy with undefined"),_.$_terms.truthy.add(E)}return _}},falsy:{method(...y){m.verifyFlat(y,"falsy");const _=this.clone();_.$_terms.falsy=_.$_terms.falsy||new g;for(let b=0;b<y.length;++b){const E=y[b];u(E!==void 0,"Cannot call falsy with undefined"),_.$_terms.falsy.add(E)}return _}},sensitive:{method(y=!0){return this.$_setFlag("sensitive",y)}}},cast:{number:{from:d.isBool,to:(y,_)=>y?1:0},string:{from:d.isBool,to:(y,_)=>y?"true":"false"}},manifest:{build:(y,_)=>(_.truthy&&(y=y.truthy(..._.truthy)),_.falsy&&(y=y.falsy(..._.falsy)),y)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(a,l,c)=>{const u=c(375),h=c(8068),m=c(8160),g=c(3328),d={isDate:function(y){return y instanceof Date}};a.exports=h.extend({type:"date",coerce:{from:["number","string"],method:(y,{schema:_})=>({value:d.parse(y,_._flags.format)||y})},validate(y,{schema:_,error:b,prefs:E}){if(y instanceof Date&&!isNaN(y.getTime()))return;const R=_._flags.format;return E.convert&&R&&typeof y=="string"?{value:y,errors:b("date.format",{format:R})}:{value:y,errors:b("date.base")}},rules:{compare:{method:!1,validate(y,_,{date:b},{name:E,operator:R,args:T}){const A=b==="now"?Date.now():b.getTime();return m.compare(y.getTime(),A,R)?y:_.error("date."+E,{limit:T.date,value:y})},args:[{name:"date",ref:!0,normalize:y=>y==="now"?y:d.parse(y),assert:y=>y!==null,message:"must have a valid date format"}]},format:{method(y){return u(["iso","javascript","unix"].includes(y),"Unknown date format",y),this.$_setFlag("format",y)}},greater:{method(y){return this.$_addRule({name:"greater",method:"compare",args:{date:y},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(y){return this.$_addRule({name:"less",method:"compare",args:{date:y},operator:"<"})}},max:{method(y){return this.$_addRule({name:"max",method:"compare",args:{date:y},operator:"<="})}},min:{method(y){return this.$_addRule({name:"min",method:"compare",args:{date:y},operator:">="})}},timestamp:{method(y="javascript"){return u(["javascript","unix"].includes(y),'"type" must be one of "javascript, unix"'),this.format(y)}}},cast:{number:{from:d.isDate,to:(y,_)=>y.getTime()},string:{from:d.isDate,to:(y,{prefs:_})=>g.date(y,_)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),d.parse=function(y,_){if(y instanceof Date)return y;if(typeof y!="string"&&(isNaN(y)||!isFinite(y))||/^\s*$/.test(y))return null;if(_==="iso")return m.isIsoDate(y)?d.date(y.toString()):null;const b=y;if(typeof y=="string"&&/^[+-]?\d+(\.\d+)?$/.test(y)&&(y=parseFloat(y)),_){if(_==="javascript")return d.date(1*y);if(_==="unix")return d.date(1e3*y);if(typeof b=="string")return null}return d.date(y)},d.date=function(y){const _=new Date(y);return isNaN(_.getTime())?null:_}},390:(a,l,c)=>{const u=c(375),h=c(7824);a.exports=h.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(m){return u(Number.isSafeInteger(m)&&m>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:m}})},validate:(m,g,{n:d})=>m.length===d?m:g.error("function.arity",{n:d})},class:{method(){return this.$_addRule("class")},validate:(m,g)=>/^\s*class\s/.test(m.toString())?m:g.error("function.class",{value:m})},minArity:{method(m){return u(Number.isSafeInteger(m)&&m>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:m}})},validate:(m,g,{n:d})=>m.length>=d?m:g.error("function.minArity",{n:d})},maxArity:{method(m){return u(Number.isSafeInteger(m)&&m>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:m}})},validate:(m,g,{n:d})=>m.length<=d?m:g.error("function.maxArity",{n:d})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(a,l,c)=>{const u=c(978),h=c(375),m=c(8571),g=c(3652),d=c(8068),y=c(8160),_=c(3292),b=c(6354),E=c(6133),R=c(3328),T={renameDefaults:{alias:!1,multiple:!1,override:!1}};a.exports=d.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(A,x)=>A.keys(x),validate(A,{schema:x,error:I,state:N,prefs:L}){if(!A||typeof A!==x.$_property("typeof")||Array.isArray(A))return{value:A,errors:I("object.base",{type:x.$_property("typeof")})};if(!(x.$_terms.renames||x.$_terms.dependencies||x.$_terms.keys||x.$_terms.patterns||x.$_terms.externals))return;A=T.clone(A,L);const O=[];if(x.$_terms.renames&&!T.rename(x,A,N,L,O))return{value:A,errors:O};if(!x.$_terms.keys&&!x.$_terms.patterns&&!x.$_terms.dependencies)return{value:A,errors:O};const S=new Set(Object.keys(A));if(x.$_terms.keys){const C=[A,...N.ancestors];for(const M of x.$_terms.keys){const k=M.key,$=A[k];S.delete(k);const U=N.localize([...N.path,k],C,M),he=M.schema.$_validate($,U,L);if(he.errors){if(L.abortEarly)return{value:A,errors:he.errors};he.value!==void 0&&(A[k]=he.value),O.push(...he.errors)}else M.schema._flags.result==="strip"||he.value===void 0&&$!==void 0?delete A[k]:he.value!==void 0&&(A[k]=he.value)}}if(S.size||x._flags._hasPatternMatch){const C=T.unknown(x,A,S,O,N,L);if(C)return C}if(x.$_terms.dependencies)for(const C of x.$_terms.dependencies){if(C.key!==null&&T.isPresent(C.options)(C.key.resolve(A,N,L,null,{shadow:!1}))===!1)continue;const M=T.dependencies[C.rel](x,C,A,N,L);if(M){const k=x.$_createError(M.code,A,M.context,N,L);if(L.abortEarly)return{value:A,errors:k};O.push(k)}}return{value:A,errors:O}},rules:{and:{method(...A){return y.verifyFlat(A,"and"),T.dependency(this,"and",null,A)}},append:{method(A){return A==null||Object.keys(A).length===0?this:this.keys(A)}},assert:{method(A,x,I){R.isTemplate(A)||(A=_.ref(A)),h(I===void 0||typeof I=="string","Message must be a string"),x=this.$_compile(x,{appendPath:!0});const N=this.$_addRule({name:"assert",args:{subject:A,schema:x,message:I}});return N.$_mutateRegister(A),N.$_mutateRegister(x),N},validate(A,{error:x,prefs:I,state:N},{subject:L,schema:O,message:S}){const C=L.resolve(A,N,I),M=E.isRef(L)?L.absolute(N):[];return O.$_match(C,N.localize(M,[A,...N.ancestors],O),I)?A:x("object.assert",{subject:L,message:S})},args:["subject","schema","message"],multi:!0},instance:{method(A,x){return h(typeof A=="function","constructor must be a function"),x=x||A.name,this.$_addRule({name:"instance",args:{constructor:A,name:x}})},validate:(A,x,{constructor:I,name:N})=>A instanceof I?A:x.error("object.instance",{type:N,value:A}),args:["constructor","name"]},keys:{method(A){h(A===void 0||typeof A=="object","Object schema must be a valid object"),h(!y.isSchema(A),"Object schema cannot be a joi schema");const x=this.clone();if(A)if(Object.keys(A).length){x.$_terms.keys=x.$_terms.keys?x.$_terms.keys.filter(I=>!A.hasOwnProperty(I.key)):new T.Keys;for(const I in A)y.tryWithPath(()=>x.$_terms.keys.push({key:I,schema:this.$_compile(A[I])}),I)}else x.$_terms.keys=new T.Keys;else x.$_terms.keys=null;return x.$_mutateRebuild()}},length:{method(A){return this.$_addRule({name:"length",args:{limit:A},operator:"="})},validate:(A,x,{limit:I},{name:N,operator:L,args:O})=>y.compare(Object.keys(A).length,I,L)?A:x.error("object."+N,{limit:O.limit,value:A}),args:[{name:"limit",ref:!0,assert:y.limit,message:"must be a positive integer"}]},max:{method(A){return this.$_addRule({name:"max",method:"length",args:{limit:A},operator:"<="})}},min:{method(A){return this.$_addRule({name:"min",method:"length",args:{limit:A},operator:">="})}},nand:{method(...A){return y.verifyFlat(A,"nand"),T.dependency(this,"nand",null,A)}},or:{method(...A){return y.verifyFlat(A,"or"),T.dependency(this,"or",null,A)}},oxor:{method(...A){return T.dependency(this,"oxor",null,A)}},pattern:{method(A,x,I={}){const N=A instanceof RegExp;N||(A=this.$_compile(A,{appendPath:!0})),h(x!==void 0,"Invalid rule"),y.assertOptions(I,["fallthrough","matches"]),N&&h(!A.flags.includes("g")&&!A.flags.includes("y"),"pattern should not use global or sticky mode"),x=this.$_compile(x,{appendPath:!0});const L=this.clone();L.$_terms.patterns=L.$_terms.patterns||[];const O={[N?"regex":"schema"]:A,rule:x};return I.matches&&(O.matches=this.$_compile(I.matches),O.matches.type!=="array"&&(O.matches=O.matches.$_root.array().items(O.matches)),L.$_mutateRegister(O.matches),L.$_setFlag("_hasPatternMatch",!0,{clone:!1})),I.fallthrough&&(O.fallthrough=!0),L.$_terms.patterns.push(O),L.$_mutateRegister(x),L}},ref:{method(){return this.$_addRule("ref")},validate:(A,x)=>E.isRef(A)?A:x.error("object.refType",{value:A})},regex:{method(){return this.$_addRule("regex")},validate:(A,x)=>A instanceof RegExp?A:x.error("object.regex",{value:A})},rename:{method(A,x,I={}){h(typeof A=="string"||A instanceof RegExp,"Rename missing the from argument"),h(typeof x=="string"||x instanceof R,"Invalid rename to argument"),h(x!==A,"Cannot rename key to same name:",A),y.assertOptions(I,["alias","ignoreUndefined","override","multiple"]);const N=this.clone();N.$_terms.renames=N.$_terms.renames||[];for(const L of N.$_terms.renames)h(L.from!==A,"Cannot rename the same key multiple times");return x instanceof R&&N.$_mutateRegister(x),N.$_terms.renames.push({from:A,to:x,options:u(T.renameDefaults,I)}),N}},schema:{method(A="any"){return this.$_addRule({name:"schema",args:{type:A}})},validate:(A,x,{type:I})=>!y.isSchema(A)||I!=="any"&&A.type!==I?x.error("object.schema",{type:I}):A},unknown:{method(A){return this.$_setFlag("unknown",A!==!1)}},with:{method(A,x,I={}){return T.dependency(this,"with",A,x,I)}},without:{method(A,x,I={}){return T.dependency(this,"without",A,x,I)}},xor:{method(...A){return y.verifyFlat(A,"xor"),T.dependency(this,"xor",null,A)}}},overrides:{default(A,x){return A===void 0&&(A=y.symbols.deepDefault),this.$_parent("default",A,x)}},rebuild(A){if(A.$_terms.keys){const x=new g.Sorter;for(const I of A.$_terms.keys)y.tryWithPath(()=>x.add(I,{after:I.schema.$_rootReferences(),group:I.key}),I.key);A.$_terms.keys=new T.Keys(...x.nodes)}},manifest:{build(A,x){if(x.keys&&(A=A.keys(x.keys)),x.dependencies)for(const{rel:I,key:N=null,peers:L,options:O}of x.dependencies)A=T.dependency(A,I,N,L,O);if(x.patterns)for(const{regex:I,schema:N,rule:L,fallthrough:O,matches:S}of x.patterns)A=A.pattern(I||N,L,{fallthrough:O,matches:S});if(x.renames)for(const{from:I,to:N,options:L}of x.renames)A=A.rename(I,N,L);return A}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),T.clone=function(A,x){if(typeof A=="object"){if(x.nonEnumerables)return m(A,{shallow:!0});const N=Object.create(Object.getPrototypeOf(A));return Object.assign(N,A),N}const I=function(...N){return A.apply(this,N)};return I.prototype=m(A.prototype),Object.defineProperty(I,"name",{value:A.name,writable:!1}),Object.defineProperty(I,"length",{value:A.length,writable:!1}),Object.assign(I,A),I},T.dependency=function(A,x,I,N,L){h(I===null||typeof I=="string",x,"key must be a strings"),L||(L=N.length>1&&typeof N[N.length-1]=="object"?N.pop():{}),y.assertOptions(L,["separator","isPresent"]),N=[].concat(N);const O=y.default(L.separator,"."),S=[];for(const M of N)h(typeof M=="string",x,"peers must be strings"),S.push(_.ref(M,{separator:O,ancestor:0,prefix:!1}));I!==null&&(I=_.ref(I,{separator:O,ancestor:0,prefix:!1}));const C=A.clone();return C.$_terms.dependencies=C.$_terms.dependencies||[],C.$_terms.dependencies.push(new T.Dependency(x,I,S,N,L)),C},T.dependencies={and(A,x,I,N,L){const O=[],S=[],C=x.peers.length,M=T.isPresent(x.options);for(const k of x.peers)M(k.resolve(I,N,L,null,{shadow:!1}))===!1?O.push(k.key):S.push(k.key);if(O.length!==C&&S.length!==C)return{code:"object.and",context:{present:S,presentWithLabels:T.keysToLabels(A,S),missing:O,missingWithLabels:T.keysToLabels(A,O)}}},nand(A,x,I,N,L){const O=[],S=T.isPresent(x.options);for(const k of x.peers)S(k.resolve(I,N,L,null,{shadow:!1}))&&O.push(k.key);if(O.length!==x.peers.length)return;const C=x.paths[0],M=x.paths.slice(1);return{code:"object.nand",context:{main:C,mainWithLabel:T.keysToLabels(A,C),peers:M,peersWithLabels:T.keysToLabels(A,M)}}},or(A,x,I,N,L){const O=T.isPresent(x.options);for(const S of x.peers)if(O(S.resolve(I,N,L,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:x.paths,peersWithLabels:T.keysToLabels(A,x.paths)}}},oxor(A,x,I,N,L){const O=[],S=T.isPresent(x.options);for(const M of x.peers)S(M.resolve(I,N,L,null,{shadow:!1}))&&O.push(M.key);if(!O.length||O.length===1)return;const C={peers:x.paths,peersWithLabels:T.keysToLabels(A,x.paths)};return C.present=O,C.presentWithLabels=T.keysToLabels(A,O),{code:"object.oxor",context:C}},with(A,x,I,N,L){const O=T.isPresent(x.options);for(const S of x.peers)if(O(S.resolve(I,N,L,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:x.key.key,mainWithLabel:T.keysToLabels(A,x.key.key),peer:S.key,peerWithLabel:T.keysToLabels(A,S.key)}}},without(A,x,I,N,L){const O=T.isPresent(x.options);for(const S of x.peers)if(O(S.resolve(I,N,L,null,{shadow:!1})))return{code:"object.without",context:{main:x.key.key,mainWithLabel:T.keysToLabels(A,x.key.key),peer:S.key,peerWithLabel:T.keysToLabels(A,S.key)}}},xor(A,x,I,N,L){const O=[],S=T.isPresent(x.options);for(const M of x.peers)S(M.resolve(I,N,L,null,{shadow:!1}))&&O.push(M.key);if(O.length===1)return;const C={peers:x.paths,peersWithLabels:T.keysToLabels(A,x.paths)};return O.length===0?{code:"object.missing",context:C}:(C.present=O,C.presentWithLabels=T.keysToLabels(A,O),{code:"object.xor",context:C})}},T.keysToLabels=function(A,x){return Array.isArray(x)?x.map(I=>A.$_mapLabels(I)):A.$_mapLabels(x)},T.isPresent=function(A){return typeof A.isPresent=="function"?A.isPresent:x=>x!==void 0},T.rename=function(A,x,I,N,L){const O={};for(const S of A.$_terms.renames){const C=[],M=typeof S.from!="string";if(M)for(const k in x){if(x[k]===void 0&&S.options.ignoreUndefined||k===S.to)continue;const $=S.from.exec(k);$&&C.push({from:k,to:S.to,match:$})}else!Object.prototype.hasOwnProperty.call(x,S.from)||x[S.from]===void 0&&S.options.ignoreUndefined||C.push(S);for(const k of C){const $=k.from;let U=k.to;if(U instanceof R&&(U=U.render(x,I,N,k.match)),$!==U){if(!S.options.multiple&&O[U]&&(L.push(A.$_createError("object.rename.multiple",x,{from:$,to:U,pattern:M},I,N)),N.abortEarly)||Object.prototype.hasOwnProperty.call(x,U)&&!S.options.override&&!O[U]&&(L.push(A.$_createError("object.rename.override",x,{from:$,to:U,pattern:M},I,N)),N.abortEarly))return!1;x[$]===void 0?delete x[U]:x[U]=x[$],O[U]=!0,S.options.alias||delete x[$]}}}return!0},T.unknown=function(A,x,I,N,L,O){if(A.$_terms.patterns){let S=!1;const C=A.$_terms.patterns.map(k=>{if(k.matches)return S=!0,[]}),M=[x,...L.ancestors];for(const k of I){const $=x[k],U=[...L.path,k];for(let he=0;he<A.$_terms.patterns.length;++he){const ge=A.$_terms.patterns[he];if(ge.regex){const pe=ge.regex.test(k);if(L.mainstay.tracer.debug(L,"rule",`pattern.${he}`,pe?"pass":"error"),!pe)continue}else if(!ge.schema.$_match(k,L.nest(ge.schema,`pattern.${he}`),O))continue;I.delete(k);const K=L.localize(U,M,{schema:ge.rule,key:k}),se=ge.rule.$_validate($,K,O);if(se.errors){if(O.abortEarly)return{value:x,errors:se.errors};N.push(...se.errors)}if(ge.matches&&C[he].push(k),x[k]=se.value,!ge.fallthrough)break}}if(S)for(let k=0;k<C.length;++k){const $=C[k];if(!$)continue;const U=A.$_terms.patterns[k].matches,he=L.localize(L.path,M,U),ge=U.$_validate($,he,O);if(ge.errors){const K=b.details(ge.errors,{override:!1});K.matches=$;const se=A.$_createError("object.pattern.match",x,K,L,O);if(O.abortEarly)return{value:x,errors:se};N.push(se)}}}if(I.size&&(A.$_terms.keys||A.$_terms.patterns)){if(O.stripUnknown&&A._flags.unknown===void 0||O.skipFunctions){const S=!(!O.stripUnknown||O.stripUnknown!==!0&&!O.stripUnknown.objects);for(const C of I)S?(delete x[C],I.delete(C)):typeof x[C]=="function"&&I.delete(C)}if(!y.default(A._flags.unknown,O.allowUnknown))for(const S of I){const C=L.localize([...L.path,S],[]),M=A.$_createError("object.unknown",x[S],{child:S},C,O,{flags:!1});if(O.abortEarly)return{value:x,errors:M};N.push(M)}}},T.Dependency=class{constructor(A,x,I,N,L){this.rel=A,this.key=x,this.peers=I,this.paths=N,this.options=L}describe(){const A={rel:this.rel,peers:this.paths};return this.key!==null&&(A.key=this.key.key),this.peers[0].separator!=="."&&(A.options={...A.options,separator:this.peers[0].separator}),this.options.isPresent&&(A.options={...A.options,isPresent:this.options.isPresent}),A}},T.Keys=class extends Array{concat(A){const x=this.slice(),I=new Map;for(let N=0;N<x.length;++N)I.set(x[N].key,N);for(const N of A){const L=N.key,O=I.get(L);O!==void 0?x[O]={key:L,schema:x[O].schema.concat(N.schema)}:x.push(N)}return x}}},8785:(a,l,c)=>{const u=c(375),h=c(8068),m=c(8160),g=c(3292),d=c(6354),y={};a.exports=h.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(_,b)=>_.ref(b),validate(_,{schema:b,state:E,prefs:R}){u(b.$_terms.link,"Uninitialized link schema");const T=y.generate(b,_,E,R),A=b.$_terms.link[0].ref;return T.$_validate(_,E.nest(T,`link:${A.display}:${T.type}`),R)},generate:(_,b,E,R)=>y.generate(_,b,E,R),rules:{ref:{method(_){u(!this.$_terms.link,"Cannot reinitialize schema"),_=g.ref(_),u(_.type==="value"||_.type==="local","Invalid reference type:",_.type),u(_.type==="local"||_.ancestor==="root"||_.ancestor>0,"Link cannot reference itself");const b=this.clone();return b.$_terms.link=[{ref:_}],b}},relative:{method(_=!0){return this.$_setFlag("relative",_)}}},overrides:{concat(_){u(this.$_terms.link,"Uninitialized link schema"),u(m.isSchema(_),"Invalid schema object"),u(_.type!=="link","Cannot merge type link with another link");const b=this.clone();return b.$_terms.whens||(b.$_terms.whens=[]),b.$_terms.whens.push({concat:_}),b.$_mutateRebuild()}},manifest:{build:(_,b)=>(u(b.link,"Invalid link description missing link"),_.ref(b.link))}}),y.generate=function(_,b,E,R){let T=E.mainstay.links.get(_);if(T)return T._generate(b,E,R).schema;const A=_.$_terms.link[0].ref,{perspective:x,path:I}=y.perspective(A,E);y.assert(x,"which is outside of schema boundaries",A,_,E,R);try{T=I.length?x.$_reach(I):x}catch{y.assert(!1,"to non-existing schema",A,_,E,R)}return y.assert(T.type!=="link","which is another link",A,_,E,R),_._flags.relative||E.mainstay.links.set(_,T),T._generate(b,E,R).schema},y.perspective=function(_,b){if(_.type==="local"){for(const{schema:E,key:R}of b.schemas){if((E._flags.id||R)===_.path[0])return{perspective:E,path:_.path.slice(1)};if(E.$_terms.shared){for(const T of E.$_terms.shared)if(T._flags.id===_.path[0])return{perspective:T,path:_.path.slice(1)}}}return{perspective:null,path:null}}return _.ancestor==="root"?{perspective:b.schemas[b.schemas.length-1].schema,path:_.path}:{perspective:b.schemas[_.ancestor]&&b.schemas[_.ancestor].schema,path:_.path}},y.assert=function(_,b,E,R,T,A){_||u(!1,`"${d.label(R._flags,T,A)}" contains link reference "${E.display}" ${b}`)}},3832:(a,l,c)=>{const u=c(375),h=c(8068),m=c(8160),g={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(d){const y=d.toString(),_=y.indexOf("."),b=y.indexOf("e");return(_<0?0:(b<0?y.length:b)-_-1)+(b<0?0:Math.max(0,-parseInt(y.slice(b+1))))}};a.exports=h.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(d,{schema:y,error:_}){if(!d.match(g.numberRx))return;d=d.trim();const b={value:parseFloat(d)};if(b.value===0&&(b.value=0),!y._flags.unsafe)if(d.match(/e/i)){if(g.extractSignificantDigits(d)!==g.extractSignificantDigits(String(b.value)))return b.errors=_("number.unsafe"),b}else{const E=b.value.toString();if(E.match(/e/i))return b;if(E!==g.normalizeDecimal(d))return b.errors=_("number.unsafe"),b}return b}},validate(d,{schema:y,error:_,prefs:b}){if(d===1/0||d===-1/0)return{value:d,errors:_("number.infinity")};if(!m.isNumber(d))return{value:d,errors:_("number.base")};const E={value:d};if(b.convert){const R=y.$_getRule("precision");if(R){const T=Math.pow(10,R.args.limit);E.value=Math.round(E.value*T)/T}}return E.value===0&&(E.value=0),!y._flags.unsafe&&(d>Number.MAX_SAFE_INTEGER||d<Number.MIN_SAFE_INTEGER)&&(E.errors=_("number.unsafe")),E},rules:{compare:{method:!1,validate:(d,y,{limit:_},{name:b,operator:E,args:R})=>m.compare(d,_,E)?d:y.error("number."+b,{limit:R.limit,value:d}),args:[{name:"limit",ref:!0,assert:m.isNumber,message:"must be a number"}]},greater:{method(d){return this.$_addRule({name:"greater",method:"compare",args:{limit:d},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(d,y)=>Math.trunc(d)-d==0?d:y.error("number.integer")},less:{method(d){return this.$_addRule({name:"less",method:"compare",args:{limit:d},operator:"<"})}},max:{method(d){return this.$_addRule({name:"max",method:"compare",args:{limit:d},operator:"<="})}},min:{method(d){return this.$_addRule({name:"min",method:"compare",args:{limit:d},operator:">="})}},multiple:{method(d){const y=typeof d=="number"?g.decimalPlaces(d):null,_=Math.pow(10,y);return this.$_addRule({name:"multiple",args:{base:d,baseDecimalPlace:y,pfactor:_}})},validate:(d,y,{base:_,baseDecimalPlace:b,pfactor:E},R)=>g.decimalPlaces(d)>b?y.error("number.multiple",{multiple:R.args.base,value:d}):Math.round(E*d)%Math.round(E*_)==0?d:y.error("number.multiple",{multiple:R.args.base,value:d}),args:[{name:"base",ref:!0,assert:d=>typeof d=="number"&&isFinite(d)&&d>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(d,y)=>Number.isSafeInteger(d)&&d>=0&&d<=65535?d:y.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(d){return u(Number.isSafeInteger(d),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:d}})},validate(d,y,{limit:_}){const b=d.toString().match(g.precisionRx);return Math.max((b[1]?b[1].length:0)-(b[2]?parseInt(b[2],10):0),0)<=_?d:y.error("number.precision",{limit:_,value:d})},convert:!0},sign:{method(d){return u(["negative","positive"].includes(d),"Invalid sign",d),this.$_addRule({name:"sign",args:{sign:d}})},validate:(d,y,{sign:_})=>_==="negative"&&d<0||_==="positive"&&d>0?d:y.error(`number.${_}`)},unsafe:{method(d=!0){return u(typeof d=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",d)}}},cast:{string:{from:d=>typeof d=="number",to:(d,y)=>d.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),g.extractSignificantDigits=function(d){return d.replace(g.exponentialPartRegex,"").replace(g.dotRegex,"").replace(g.trailingZerosRegex,"").replace(g.leadingSignAndZerosRegex,"")},g.normalizeDecimal=function(d){return(d=d.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&d.endsWith("0")&&(d=d.replace(/0+$/,"")),d==="-0"?"0":d}},8966:(a,l,c)=>{const u=c(7824);a.exports=u.extend({type:"object",cast:{map:{from:h=>h&&typeof h=="object",to:(h,m)=>new Map(Object.entries(h))}}})},7417:(a,l,c)=>{const u=c(375),h=c(5380),m=c(1745),g=c(9959),d=c(6064),y=c(9926),_=c(5752),b=c(8068),E=c(8160),R={tlds:y instanceof Set&&{tlds:{allow:y,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:g.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};a.exports=b.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(T,{schema:A,state:x,prefs:I}){const N=A.$_getRule("normalize");N&&(T=T.normalize(N.args.form));const L=A.$_getRule("case");L&&(T=L.args.direction==="upper"?T.toLocaleUpperCase():T.toLocaleLowerCase());const O=A.$_getRule("trim");if(O&&O.args.enabled&&(T=T.trim()),A.$_terms.replacements)for(const C of A.$_terms.replacements)T=T.replace(C.pattern,C.replacement);const S=A.$_getRule("hex");if(S&&S.args.options.byteAligned&&T.length%2!=0&&(T=`0${T}`),A.$_getRule("isoDate")){const C=R.isoDate(T);C&&(T=C)}if(A._flags.truncate){const C=A.$_getRule("max");if(C){let M=C.args.limit;if(E.isResolvable(M)&&(M=M.resolve(T,x,I),!E.limit(M)))return{value:T,errors:A.$_createError("any.ref",M,{ref:C.args.limit,arg:"limit",reason:"must be a positive integer"},x,I)};T=T.slice(0,M)}}return{value:T}}},validate(T,{schema:A,error:x}){if(typeof T!="string")return{value:T,errors:x("string.base")};if(T===""){const I=A.$_getRule("min");return I&&I.args.limit===0?void 0:{value:T,errors:x("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(T,A)=>/^[a-zA-Z0-9]+$/.test(T)?T:A.error("string.alphanum")},base64:{method(T={}){return E.assertOptions(T,["paddingRequired","urlSafe"]),T={urlSafe:!1,paddingRequired:!0,...T},u(typeof T.paddingRequired=="boolean","paddingRequired must be boolean"),u(typeof T.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:T}})},validate:(T,A,{options:x})=>R.base64Regex[x.paddingRequired][x.urlSafe].test(T)?T:A.error("string.base64")},case:{method(T){return u(["lower","upper"].includes(T),"Invalid case:",T),this.$_addRule({name:"case",args:{direction:T}})},validate:(T,A,{direction:x})=>x==="lower"&&T===T.toLocaleLowerCase()||x==="upper"&&T===T.toLocaleUpperCase()?T:A.error(`string.${x}case`),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(T,A){let x=T.length,I=0,N=1;for(;x--;){const L=T.charAt(x)*N;I+=L-9*(L>9),N^=3}return I>0&&I%10==0?T:A.error("string.creditCard")}},dataUri:{method(T={}){return E.assertOptions(T,["paddingRequired"]),T={paddingRequired:!0,...T},u(typeof T.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:T}})},validate(T,A,{options:x}){const I=T.match(R.dataUriRegex);return I&&(!I[2]||I[2]!=="base64"||R.base64Regex[x.paddingRequired].false.test(I[3]))?T:A.error("string.dataUri")}},domain:{method(T){T&&E.assertOptions(T,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const A=R.addressOptions(T);return this.$_addRule({name:"domain",args:{options:T},address:A})},validate:(T,A,x,{address:I})=>h.isValid(T,I)?T:A.error("string.domain")},email:{method(T={}){E.assertOptions(T,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),u(T.multiple===void 0||typeof T.multiple=="boolean","multiple option must be an boolean");const A=R.addressOptions(T),x=new RegExp(`\\s*[${T.separator?d(T.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:T},regex:x,address:A})},validate(T,A,{options:x},{regex:I,address:N}){const L=x.multiple?T.split(I):[T],O=[];for(const S of L)m.isValid(S,N)||O.push(S);return O.length?A.error("string.email",{value:T,invalids:O}):T}},guid:{alias:"uuid",method(T={}){E.assertOptions(T,["version","separator"]);let A="";if(T.version){const N=[].concat(T.version);u(N.length>=1,"version must have at least 1 valid version specified");const L=new Set;for(let O=0;O<N.length;++O){const S=N[O];u(typeof S=="string","version at position "+O+" must be a string");const C=R.guidVersions[S.toLowerCase()];u(C,"version at position "+O+" must be one of "+Object.keys(R.guidVersions).join(", ")),u(!L.has(C),"version at position "+O+" must not be a duplicate"),A+=C,L.add(C)}}u(R.guidSeparators.has(T.separator),'separator must be one of true, false, "-", or ":"');const x=T.separator===void 0?"[:-]?":T.separator===!0?"[:-]":T.separator===!1?"[]?":`\\${T.separator}`,I=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${x})[0-9A-F]{4}\\2?[${A||"0-9A-F"}][0-9A-F]{3}\\2?[${A?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:T},regex:I})},validate(T,A,x,{regex:I}){const N=I.exec(T);return N?R.guidBrackets[N[1]]!==N[N.length-1]?A.error("string.guid"):T:A.error("string.guid")}},hex:{method(T={}){return E.assertOptions(T,["byteAligned","prefix"]),T={byteAligned:!1,prefix:!1,...T},u(typeof T.byteAligned=="boolean","byteAligned must be boolean"),u(typeof T.prefix=="boolean"||T.prefix==="optional",'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:T}})},validate:(T,A,{options:x})=>(x.prefix==="optional"?R.hexRegex.withOptionalPrefix:x.prefix===!0?R.hexRegex.withPrefix:R.hexRegex.withoutPrefix).test(T)?x.byteAligned&&T.length%2!=0?A.error("string.hexAlign"):T:A.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(T,A)=>h.isValid(T,{minDomainSegments:1})||R.ipRegex.test(T)?T:A.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(T={}){E.assertOptions(T,["cidr","version"]);const{cidr:A,versions:x,regex:I}=g.regex(T),N=T.version?x:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:A,version:N}},regex:I})},validate:(T,A,{options:x},{regex:I})=>I.test(T)?T:x.version?A.error("string.ipVersion",{value:T,cidr:x.cidr,version:x.version}):A.error("string.ip",{value:T,cidr:x.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(T,{error:A})=>R.isoDate(T)?T:A("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(T,A)=>R.isoDurationRegex.test(T)?T:A.error("string.isoDuration")},length:{method(T,A){return R.length(this,"length",T,"=",A)},validate(T,A,{limit:x,encoding:I},{name:N,operator:L,args:O}){const S=!I&&T.length;return E.compare(S,x,L)?T:A.error("string."+N,{limit:O.limit,value:T,encoding:I})},args:[{name:"limit",ref:!0,assert:E.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(T,A){return R.length(this,"max",T,"<=",A)},args:["limit","encoding"]},min:{method(T,A){return R.length(this,"min",T,">=",A)},args:["limit","encoding"]},normalize:{method(T="NFC"){return u(R.normalizationForms.includes(T),"normalization form must be one of "+R.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:T}})},validate:(T,{error:A},{form:x})=>T===T.normalize(x)?T:A("string.normalize",{value:T,form:x}),convert:!0},pattern:{alias:"regex",method(T,A={}){u(T instanceof RegExp,"regex must be a RegExp"),u(!T.flags.includes("g")&&!T.flags.includes("y"),"regex should not use global or sticky mode"),typeof A=="string"&&(A={name:A}),E.assertOptions(A,["invert","name"]);const x=["string.pattern",A.invert?".invert":"",A.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:T,options:A},errorCode:x})},validate:(T,A,{regex:x,options:I},{errorCode:N})=>x.test(T)^I.invert?T:A.error(N,{name:I.name,regex:x,value:T}),args:["regex","options"],multi:!0},replace:{method(T,A){typeof T=="string"&&(T=new RegExp(d(T),"g")),u(T instanceof RegExp,"pattern must be a RegExp"),u(typeof A=="string","replacement must be a String");const x=this.clone();return x.$_terms.replacements||(x.$_terms.replacements=[]),x.$_terms.replacements.push({pattern:T,replacement:A}),x}},token:{method(){return this.$_addRule("token")},validate:(T,A)=>/^\w+$/.test(T)?T:A.error("string.token")},trim:{method(T=!0){return u(typeof T=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:T}})},validate:(T,A,{enabled:x})=>x&&T!==T.trim()?A.error("string.trim"):T,convert:!0},truncate:{method(T=!0){return u(typeof T=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",T)}},uppercase:{method(){return this.case("upper")}},uri:{method(T={}){E.assertOptions(T,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),T.domain&&E.assertOptions(T.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:A,scheme:x}=_.regex(T),I=T.domain?R.addressOptions(T.domain):null;return this.$_addRule({name:"uri",args:{options:T},regex:A,domain:I,scheme:x})},validate(T,A,{options:x},{regex:I,domain:N,scheme:L}){if(["http:/","https:/"].includes(T))return A.error("string.uri");let O=I.exec(T);if(!O&&A.prefs.convert&&x.encodeUri){const S=encodeURI(T);O=I.exec(S),O&&(T=S)}if(O){const S=O[1]||O[2];return!N||x.allowRelative&&!S||h.isValid(S,N)?T:A.error("string.domain",{value:S})}return x.relativeOnly?A.error("string.uriRelativeOnly"):x.scheme?A.error("string.uriCustomScheme",{scheme:L,value:T}):A.error("string.uri")}}},manifest:{build(T,A){if(A.replacements)for(const{pattern:x,replacement:I}of A.replacements)T=T.replace(x,I);return T}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),R.addressOptions=function(T){if(!T)return R.tlds||T;if(u(T.minDomainSegments===void 0||Number.isSafeInteger(T.minDomainSegments)&&T.minDomainSegments>0,"minDomainSegments must be a positive integer"),u(T.maxDomainSegments===void 0||Number.isSafeInteger(T.maxDomainSegments)&&T.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),T.tlds===!1)return T;if(T.tlds===!0||T.tlds===void 0)return u(R.tlds,"Built-in TLD list disabled"),Object.assign({},T,R.tlds);u(typeof T.tlds=="object","tlds must be true, false, or an object");const A=T.tlds.deny;if(A)return Array.isArray(A)&&(T=Object.assign({},T,{tlds:{deny:new Set(A)}})),u(T.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),u(!T.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),R.validateTlds(T.tlds.deny,"tlds.deny"),T;const x=T.tlds.allow;return x?x===!0?(u(R.tlds,"Built-in TLD list disabled"),Object.assign({},T,R.tlds)):(Array.isArray(x)&&(T=Object.assign({},T,{tlds:{allow:new Set(x)}})),u(T.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),R.validateTlds(T.tlds.allow,"tlds.allow"),T):T},R.validateTlds=function(T,A){for(const x of T)u(h.isValid(x,{minDomainSegments:1,maxDomainSegments:1}),`${A} must contain valid top level domain names`)},R.isoDate=function(T){if(!E.isIsoDate(T))return null;/.*T.*[+-]\d\d$/.test(T)&&(T+="00");const A=new Date(T);return isNaN(A.getTime())?null:A.toISOString()},R.length=function(T,A,x,I,N){return u(!N||!1,"Invalid encoding:",N),T.$_addRule({name:A,method:"length",args:{limit:x,encoding:N},operator:I})}},8826:(a,l,c)=>{const u=c(375),h=c(8068),m={};m.Map=class extends Map{slice(){return new m.Map(this)}},a.exports=h.extend({type:"symbol",terms:{map:{init:new m.Map}},coerce:{method(g,{schema:d,error:y}){const _=d.$_terms.map.get(g);return _&&(g=_),d._flags.only&&typeof g!="symbol"?{value:g,errors:y("symbol.map",{map:d.$_terms.map})}:{value:g}}},validate(g,{error:d}){if(typeof g!="symbol")return{value:g,errors:d("symbol.base")}},rules:{map:{method(g){g&&!g[Symbol.iterator]&&typeof g=="object"&&(g=Object.entries(g)),u(g&&g[Symbol.iterator],"Iterable must be an iterable or object");const d=this.clone(),y=[];for(const _ of g){u(_&&_[Symbol.iterator],"Entry must be an iterable");const[b,E]=_;u(typeof b!="object"&&typeof b!="function"&&typeof b!="symbol","Key must not be of type object, function, or Symbol"),u(typeof E=="symbol","Value must be a Symbol"),d.$_terms.map.set(b,E),y.push(E)}return d.valid(...y)}}},manifest:{build:(g,d)=>(d.map&&(g=g.map(d.map)),g)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(a,l,c)=>{const u=c(375),h=c(8571),m=c(738),g=c(9621),d=c(8160),y=c(6354),_=c(493),b={result:Symbol("result")};l.entry=function(E,R,T){let A=d.defaults;T&&(u(T.warnings===void 0,"Cannot override warnings preference in synchronous validation"),u(T.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),A=d.preferences(d.defaults,T));const x=b.entry(E,R,A);u(!x.mainstay.externals.length,"Schema with external rules must use validateAsync()");const I={value:x.value};return x.error&&(I.error=x.error),x.mainstay.warnings.length&&(I.warning=y.details(x.mainstay.warnings)),x.mainstay.debug&&(I.debug=x.mainstay.debug),x.mainstay.artifacts&&(I.artifacts=x.mainstay.artifacts),I},l.entryAsync=async function(E,R,T){let A=d.defaults;T&&(A=d.preferences(d.defaults,T));const x=b.entry(E,R,A),I=x.mainstay;if(x.error)throw I.debug&&(x.error.debug=I.debug),x.error;if(I.externals.length){let L=x.value;const O=[];for(const S of I.externals){const C=S.state.path,M=S.schema.type==="link"?I.links.get(S.schema):null;let k,$,U=L;const he=C.length?[L]:[],ge=C.length?g(E,C):E;if(C.length){k=C[C.length-1];let K=L;for(const se of C.slice(0,-1))K=K[se],he.unshift(K);$=he[0],U=$[k]}try{const K=(pe,Se)=>(M||S.schema).$_createError(pe,U,Se,S.state,A),se=await S.method(U,{schema:S.schema,linked:M,state:S.state,prefs:T,original:ge,error:K,errorsArray:b.errorsArray,warn:(pe,Se)=>I.warnings.push((M||S.schema).$_createError(pe,U,Se,S.state,A)),message:(pe,Se)=>(M||S.schema).$_createError("external",U,Se,S.state,A,{messages:pe})});if(se===void 0||se===U)continue;if(se instanceof y.Report){if(I.tracer.log(S.schema,S.state,"rule","external","error"),O.push(se),A.abortEarly)break;continue}if(Array.isArray(se)&&se[d.symbols.errors]){if(I.tracer.log(S.schema,S.state,"rule","external","error"),O.push(...se),A.abortEarly)break;continue}$?(I.tracer.value(S.state,"rule",U,se,"external"),$[k]=se):(I.tracer.value(S.state,"rule",L,se,"external"),L=se)}catch(K){throw A.errors.label&&(K.message+=` (${S.label})`),K}}if(x.value=L,O.length)throw x.error=y.process(O,E,A),I.debug&&(x.error.debug=I.debug),x.error}if(!A.warnings&&!A.debug&&!A.artifacts)return x.value;const N={value:x.value};return I.warnings.length&&(N.warning=y.details(I.warnings)),I.debug&&(N.debug=I.debug),I.artifacts&&(N.artifacts=I.artifacts),N},b.Mainstay=class{constructor(E,R,T){this.externals=[],this.warnings=[],this.tracer=E,this.debug=R,this.links=T,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const E=this._snapshots.pop();this.externals=E.externals,this.warnings=E.warnings}commit(){this._snapshots.pop()}},b.entry=function(E,R,T){const{tracer:A,cleanup:x}=b.tracer(R,T),I=T.debug?[]:null,N=R._ids._schemaChain?new Map:null,L=new b.Mainstay(A,I,N),O=R._ids._schemaChain?[{schema:R}]:null,S=new _([],[],{mainstay:L,schemas:O}),C=l.validate(E,R,S,T);x&&R.$_root.untrace();const M=y.process(C.errors,E,T);return{value:C.value,error:M,mainstay:L}},b.tracer=function(E,R){return E.$_root._tracer?{tracer:E.$_root._tracer._register(E)}:R.debug?(u(E.$_root.trace,"Debug mode not supported"),{tracer:E.$_root.trace()._register(E),cleanup:!0}):{tracer:b.ignore}},l.validate=function(E,R,T,A,x={}){if(R.$_terms.whens&&(R=R._generate(E,T,A).schema),R._preferences&&(A=b.prefs(R,A)),R._cache&&A.cache){const M=R._cache.get(E);if(T.mainstay.tracer.debug(T,"validate","cached",!!M),M)return M}const I=(M,k,$)=>R.$_createError(M,E,k,$||T,A),N={original:E,prefs:A,schema:R,state:T,error:I,errorsArray:b.errorsArray,warn:(M,k,$)=>T.mainstay.warnings.push(I(M,k,$)),message:(M,k)=>R.$_createError("custom",E,k,T,A,{messages:M})};T.mainstay.tracer.entry(R,T);const L=R._definition;if(L.prepare&&E!==void 0&&A.convert){const M=L.prepare(E,N);if(M){if(T.mainstay.tracer.value(T,"prepare",E,M.value),M.errors)return b.finalize(M.value,[].concat(M.errors),N);E=M.value}}if(L.coerce&&E!==void 0&&A.convert&&(!L.coerce.from||L.coerce.from.includes(typeof E))){const M=L.coerce.method(E,N);if(M){if(T.mainstay.tracer.value(T,"coerced",E,M.value),M.errors)return b.finalize(M.value,[].concat(M.errors),N);E=M.value}}const O=R._flags.empty;O&&O.$_match(b.trim(E,R),T.nest(O),d.defaults)&&(T.mainstay.tracer.value(T,"empty",E,void 0),E=void 0);const S=x.presence||R._flags.presence||(R._flags._endedSwitch?null:A.presence);if(E===void 0){if(S==="forbidden")return b.finalize(E,null,N);if(S==="required")return b.finalize(E,[R.$_createError("any.required",E,null,T,A)],N);if(S==="optional"){if(R._flags.default!==d.symbols.deepDefault)return b.finalize(E,null,N);T.mainstay.tracer.value(T,"default",E,{}),E={}}}else if(S==="forbidden")return b.finalize(E,[R.$_createError("any.unknown",E,null,T,A)],N);const C=[];if(R._valids){const M=R._valids.get(E,T,A,R._flags.insensitive);if(M)return A.convert&&(T.mainstay.tracer.value(T,"valids",E,M.value),E=M.value),T.mainstay.tracer.filter(R,T,"valid",M),b.finalize(E,null,N);if(R._flags.only){const k=R.$_createError("any.only",E,{valids:R._valids.values({display:!0})},T,A);if(A.abortEarly)return b.finalize(E,[k],N);C.push(k)}}if(R._invalids){const M=R._invalids.get(E,T,A,R._flags.insensitive);if(M){T.mainstay.tracer.filter(R,T,"invalid",M);const k=R.$_createError("any.invalid",E,{invalids:R._invalids.values({display:!0})},T,A);if(A.abortEarly)return b.finalize(E,[k],N);C.push(k)}}if(L.validate){const M=L.validate(E,N);if(M&&(T.mainstay.tracer.value(T,"base",E,M.value),E=M.value,M.errors)){if(!Array.isArray(M.errors))return C.push(M.errors),b.finalize(E,C,N);if(M.errors.length)return C.push(...M.errors),b.finalize(E,C,N)}}return R._rules.length?b.rules(E,C,N):b.finalize(E,C,N)},b.rules=function(E,R,T){const{schema:A,state:x,prefs:I}=T;for(const N of A._rules){const L=A._definition.rules[N.method];if(L.convert&&I.convert){x.mainstay.tracer.log(A,x,"rule",N.name,"full");continue}let O,S=N.args;if(N._resolve.length){S=Object.assign({},S);for(const M of N._resolve){const k=L.argsByName.get(M),$=S[M].resolve(E,x,I),U=k.normalize?k.normalize($):$,he=d.validateArg(U,null,k);if(he){O=A.$_createError("any.ref",$,{arg:M,ref:S[M],reason:he},x,I);break}S[M]=U}}O=O||L.validate(E,T,S,N);const C=b.rule(O,N);if(C.errors){if(x.mainstay.tracer.log(A,x,"rule",N.name,"error"),N.warn){x.mainstay.warnings.push(...C.errors);continue}if(I.abortEarly)return b.finalize(E,C.errors,T);R.push(...C.errors)}else x.mainstay.tracer.log(A,x,"rule",N.name,"pass"),x.mainstay.tracer.value(x,"rule",E,C.value,N.name),E=C.value}return b.finalize(E,R,T)},b.rule=function(E,R){return E instanceof y.Report?(b.error(E,R),{errors:[E],value:null}):Array.isArray(E)&&E[d.symbols.errors]?(E.forEach(T=>b.error(T,R)),{errors:E,value:null}):{errors:null,value:E}},b.error=function(E,R){return R.message&&E._setTemplate(R.message),E},b.finalize=function(E,R,T){R=R||[];const{schema:A,state:x,prefs:I}=T;if(R.length){const L=b.default("failover",void 0,R,T);L!==void 0&&(x.mainstay.tracer.value(x,"failover",E,L),E=L,R=[])}if(R.length&&A._flags.error)if(typeof A._flags.error=="function"){R=A._flags.error(R),Array.isArray(R)||(R=[R]);for(const L of R)u(L instanceof Error||L instanceof y.Report,"error() must return an Error object")}else R=[A._flags.error];if(E===void 0){const L=b.default("default",E,R,T);x.mainstay.tracer.value(x,"default",E,L),E=L}if(A._flags.cast&&E!==void 0){const L=A._definition.cast[A._flags.cast];if(L.from(E)){const O=L.to(E,T);x.mainstay.tracer.value(x,"cast",E,O,A._flags.cast),E=O}}if(A.$_terms.externals&&I.externals&&I._externals!==!1)for(const{method:L}of A.$_terms.externals)x.mainstay.externals.push({method:L,schema:A,state:x,label:y.label(A._flags,x,I)});const N={value:E,errors:R.length?R:null};return A._flags.result&&(N.value=A._flags.result==="strip"?void 0:T.original,x.mainstay.tracer.value(x,A._flags.result,E,N.value),x.shadow(E,A._flags.result)),A._cache&&I.cache!==!1&&!A._refs.length&&A._cache.set(T.original,N),E===void 0||N.errors||A._flags.artifact===void 0||(x.mainstay.artifacts=x.mainstay.artifacts||new Map,x.mainstay.artifacts.has(A._flags.artifact)||x.mainstay.artifacts.set(A._flags.artifact,[]),x.mainstay.artifacts.get(A._flags.artifact).push(x.path)),N},b.prefs=function(E,R){const T=R===d.defaults;return T&&E._preferences[d.symbols.prefs]?E._preferences[d.symbols.prefs]:(R=d.preferences(R,E._preferences),T&&(E._preferences[d.symbols.prefs]=R),R)},b.default=function(E,R,T,A){const{schema:x,state:I,prefs:N}=A,L=x._flags[E];if(N.noDefaults||L===void 0)return R;if(I.mainstay.tracer.log(x,I,"rule",E,"full"),!L)return L;if(typeof L=="function"){const O=L.length?[h(I.ancestors[0]),A]:[];try{return L(...O)}catch(S){return void T.push(x.$_createError(`any.${E}`,null,{error:S},I,N))}}return typeof L!="object"?L:L[d.symbols.literal]?L.literal:d.isResolvable(L)?L.resolve(R,I,N):h(L)},b.trim=function(E,R){if(typeof E!="string")return E;const T=R.$_getRule("trim");return T&&T.args.enabled?E.trim():E},b.ignore={active:!1,debug:m,entry:m,filter:m,log:m,resolve:m,value:m},b.errorsArray=function(){const E=[];return E[d.symbols.errors]=!0,E}},2036:(a,l,c)=>{const u=c(375),h=c(9474),m=c(8160),g={};a.exports=g.Values=class{constructor(d,y){this._values=new Set(d),this._refs=new Set(y),this._lowercase=g.lowercases(d),this._override=!1}get length(){return this._values.size+this._refs.size}add(d,y){m.isResolvable(d)?this._refs.has(d)||(this._refs.add(d),y&&y.register(d)):this.has(d,null,null,!1)||(this._values.add(d),typeof d=="string"&&this._lowercase.set(d.toLowerCase(),d))}static merge(d,y,_){if(d=d||new g.Values,y){if(y._override)return y.clone();for(const b of[...y._values,...y._refs])d.add(b)}if(_)for(const b of[..._._values,..._._refs])d.remove(b);return d.length?d:null}remove(d){m.isResolvable(d)?this._refs.delete(d):(this._values.delete(d),typeof d=="string"&&this._lowercase.delete(d.toLowerCase()))}has(d,y,_,b){return!!this.get(d,y,_,b)}get(d,y,_,b){if(!this.length)return!1;if(this._values.has(d))return{value:d};if(typeof d=="string"&&d&&b){const E=this._lowercase.get(d.toLowerCase());if(E)return{value:E}}if(!this._refs.size&&typeof d!="object")return!1;if(typeof d=="object"){for(const E of this._values)if(h(E,d))return{value:E}}if(y)for(const E of this._refs){const R=E.resolve(d,y,_,null,{in:!0});if(R===void 0)continue;const T=E.in&&typeof R=="object"?Array.isArray(R)?R:Object.keys(R):[R];for(const A of T)if(typeof A==typeof d){if(b&&d&&typeof d=="string"){if(A.toLowerCase()===d.toLowerCase())return{value:A,ref:E}}else if(h(A,d))return{value:A,ref:E}}}return!1}override(){this._override=!0}values(d){if(d&&d.display){const y=[];for(const _ of[...this._values,...this._refs])_!==void 0&&y.push(_);return y}return Array.from([...this._values,...this._refs])}clone(){const d=new g.Values(this._values,this._refs);return d._override=this._override,d}concat(d){u(!d._override,"Cannot concat override set of values");const y=new g.Values([...this._values,...d._values],[...this._refs,...d._refs]);return y._override=this._override,y}describe(){const d=[];this._override&&d.push({override:!0});for(const y of this._values.values())d.push(y&&typeof y=="object"?{value:y}:y);for(const y of this._refs.values())d.push(y.describe());return d}},g.Values.prototype[m.symbols.values]=!0,g.Values.prototype.slice=g.Values.prototype.clone,g.lowercases=function(d){const y=new Map;if(d)for(const _ of d)typeof _=="string"&&y.set(_.toLowerCase(),_);return y}},978:(a,l,c)=>{const u=c(375),h=c(8571),m=c(1687),g=c(9621),d={};a.exports=function(y,_,b={}){if(u(y&&typeof y=="object","Invalid defaults value: must be an object"),u(!_||_===!0||typeof _=="object","Invalid source value: must be true, falsy or an object"),u(typeof b=="object","Invalid options: must be an object"),!_)return null;if(b.shallow)return d.applyToDefaultsWithShallow(y,_,b);const E=h(y);if(_===!0)return E;const R=b.nullOverride!==void 0&&b.nullOverride;return m(E,_,{nullOverride:R,mergeArrays:!1})},d.applyToDefaultsWithShallow=function(y,_,b){const E=b.shallow;u(Array.isArray(E),"Invalid keys");const R=new Map,T=_===!0?null:new Set;for(let I of E){I=Array.isArray(I)?I:I.split(".");const N=g(y,I);N&&typeof N=="object"?R.set(N,T&&g(_,I)||N):T&&T.add(I)}const A=h(y,{},R);if(!T)return A;for(const I of T)d.reachCopy(A,_,I);const x=b.nullOverride!==void 0&&b.nullOverride;return m(A,_,{nullOverride:x,mergeArrays:!1})},d.reachCopy=function(y,_,b){for(const T of b){if(!(T in _))return;const A=_[T];if(typeof A!="object"||A===null)return;_=A}const E=_;let R=y;for(let T=0;T<b.length-1;++T){const A=b[T];typeof R[A]!="object"&&(R[A]={}),R=R[A]}R[b[b.length-1]]=E}},375:(a,l,c)=>{const u=c(7916);a.exports=function(h,...m){if(!h)throw m.length===1&&m[0]instanceof Error?m[0]:new u(m)}},8571:(a,l,c)=>{const u=c(9621),h=c(4277),m=c(7043),g={needsProtoHack:new Set([h.set,h.map,h.weakSet,h.weakMap])};a.exports=g.clone=function(d,y={},_=null){if(typeof d!="object"||d===null)return d;let b=g.clone,E=_;if(y.shallow){if(y.shallow!==!0)return g.cloneWithShallow(d,y);b=x=>x}else if(E){const x=E.get(d);if(x)return x}else E=new Map;const R=h.getInternalProto(d);if(R===h.buffer)return!1;if(R===h.date)return new Date(d.getTime());if(R===h.regex)return new RegExp(d);const T=g.base(d,R,y);if(T===d)return d;if(E&&E.set(d,T),R===h.set)for(const x of d)T.add(b(x,y,E));else if(R===h.map)for(const[x,I]of d)T.set(x,b(I,y,E));const A=m.keys(d,y);for(const x of A){if(x==="__proto__")continue;if(R===h.array&&x==="length"){T.length=d.length;continue}const I=Object.getOwnPropertyDescriptor(d,x);I?I.get||I.set?Object.defineProperty(T,x,I):I.enumerable?T[x]=b(d[x],y,E):Object.defineProperty(T,x,{enumerable:!1,writable:!0,configurable:!0,value:b(d[x],y,E)}):Object.defineProperty(T,x,{enumerable:!0,writable:!0,configurable:!0,value:b(d[x],y,E)})}return T},g.cloneWithShallow=function(d,y){const _=y.shallow;(y=Object.assign({},y)).shallow=!1;const b=new Map;for(const E of _){const R=u(d,E);typeof R!="object"&&typeof R!="function"||b.set(R,R)}return g.clone(d,y,b)},g.base=function(d,y,_){if(_.prototype===!1)return g.needsProtoHack.has(y)?new y.constructor:y===h.array?[]:{};const b=Object.getPrototypeOf(d);if(b&&b.isImmutable)return d;if(y===h.array){const E=[];return b!==y&&Object.setPrototypeOf(E,b),E}if(g.needsProtoHack.has(y)){const E=new b.constructor;return b!==y&&Object.setPrototypeOf(E,b),E}return Object.create(b)}},9474:(a,l,c)=>{const u=c(4277),h={mismatched:null};a.exports=function(m,g,d){return d=Object.assign({prototype:!0},d),!!h.isDeepEqual(m,g,d,[])},h.isDeepEqual=function(m,g,d,y){if(m===g)return m!==0||1/m==1/g;const _=typeof m;if(_!==typeof g||m===null||g===null)return!1;if(_==="function"){if(!d.deepFunction||m.toString()!==g.toString())return!1}else if(_!=="object")return m!=m&&g!=g;const b=h.getSharedType(m,g,!!d.prototype);switch(b){case u.buffer:return!1;case u.promise:return m===g;case u.regex:return m.toString()===g.toString();case h.mismatched:return!1}for(let E=y.length-1;E>=0;--E)if(y[E].isSame(m,g))return!0;y.push(new h.SeenEntry(m,g));try{return!!h.isDeepEqualObj(b,m,g,d,y)}finally{y.pop()}},h.getSharedType=function(m,g,d){if(d)return Object.getPrototypeOf(m)!==Object.getPrototypeOf(g)?h.mismatched:u.getInternalProto(m);const y=u.getInternalProto(m);return y!==u.getInternalProto(g)?h.mismatched:y},h.valueOf=function(m){const g=m.valueOf;if(g===void 0)return m;try{return g.call(m)}catch(d){return d}},h.hasOwnEnumerableProperty=function(m,g){return Object.prototype.propertyIsEnumerable.call(m,g)},h.isSetSimpleEqual=function(m,g){for(const d of Set.prototype.values.call(m))if(!Set.prototype.has.call(g,d))return!1;return!0},h.isDeepEqualObj=function(m,g,d,y,_){const{isDeepEqual:b,valueOf:E,hasOwnEnumerableProperty:R}=h,{keys:T,getOwnPropertySymbols:A}=Object;if(m===u.array){if(!y.part){if(g.length!==d.length)return!1;for(let O=0;O<g.length;++O)if(!b(g[O],d[O],y,_))return!1;return!0}for(const O of g)for(const S of d)if(b(O,S,y,_))return!0}else if(m===u.set){if(g.size!==d.size)return!1;if(!h.isSetSimpleEqual(g,d)){const O=new Set(Set.prototype.values.call(d));for(const S of Set.prototype.values.call(g)){if(O.delete(S))continue;let C=!1;for(const M of O)if(b(S,M,y,_)){O.delete(M),C=!0;break}if(!C)return!1}}}else if(m===u.map){if(g.size!==d.size)return!1;for(const[O,S]of Map.prototype.entries.call(g))if(S===void 0&&!Map.prototype.has.call(d,O)||!b(S,Map.prototype.get.call(d,O),y,_))return!1}else if(m===u.error&&(g.name!==d.name||g.message!==d.message))return!1;const x=E(g),I=E(d);if((g!==x||d!==I)&&!b(x,I,y,_))return!1;const N=T(g);if(!y.part&&N.length!==T(d).length&&!y.skip)return!1;let L=0;for(const O of N)if(y.skip&&y.skip.includes(O))d[O]===void 0&&++L;else if(!R(d,O)||!b(g[O],d[O],y,_))return!1;if(!y.part&&N.length-L!==T(d).length)return!1;if(y.symbols!==!1){const O=A(g),S=new Set(A(d));for(const C of O){if(!y.skip||!y.skip.includes(C)){if(R(g,C)){if(!R(d,C)||!b(g[C],d[C],y,_))return!1}else if(R(d,C))return!1}S.delete(C)}for(const C of S)if(R(d,C))return!1}return!0},h.SeenEntry=class{constructor(m,g){this.obj=m,this.ref=g}isSame(m,g){return this.obj===m&&this.ref===g}}},7916:(a,l,c)=>{const u=c(8761);a.exports=class extends Error{constructor(h){super(h.filter(m=>m!=="").map(m=>typeof m=="string"?m:m instanceof Error?m.message:u(m)).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,l.assert)}}},5277:a=>{const l={};a.exports=function(c){if(!c)return"";let u="";for(let h=0;h<c.length;++h){const m=c.charCodeAt(h);l.isSafe(m)?u+=c[h]:u+=l.escapeHtmlChar(m)}return u},l.escapeHtmlChar=function(c){return l.namedHtml.get(c)||(c>=256?"&#"+c+";":`&#x${c.toString(16).padStart(2,"0")};`)},l.isSafe=function(c){return l.safeCharCodes.has(c)},l.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),l.safeCharCodes=function(){const c=new Set;for(let u=32;u<123;++u)(u>=97||u>=65&&u<=90||u>=48&&u<=57||u===32||u===46||u===44||u===45||u===58||u===95)&&c.add(u);return c}()},6064:a=>{a.exports=function(l){return l.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:a=>{a.exports=function(){}},1687:(a,l,c)=>{const u=c(375),h=c(8571),m=c(7043),g={};a.exports=g.merge=function(d,y,_){if(u(d&&typeof d=="object","Invalid target value: must be an object"),u(y==null||typeof y=="object","Invalid source value: must be null, undefined, or an object"),!y)return d;if(_=Object.assign({nullOverride:!0,mergeArrays:!0},_),Array.isArray(y)){u(Array.isArray(d),"Cannot merge array onto an object"),_.mergeArrays||(d.length=0);for(let E=0;E<y.length;++E)d.push(h(y[E],{symbols:_.symbols}));return d}const b=m.keys(y,_);for(let E=0;E<b.length;++E){const R=b[E];if(R==="__proto__"||!Object.prototype.propertyIsEnumerable.call(y,R))continue;const T=y[R];if(T&&typeof T=="object"){if(d[R]===T)continue;!d[R]||typeof d[R]!="object"||Array.isArray(d[R])!==Array.isArray(T)||T instanceof Date||T instanceof RegExp?d[R]=h(T,{symbols:_.symbols}):g.merge(d[R],T,_)}else(T!=null||_.nullOverride)&&(d[R]=T)}return d}},9621:(a,l,c)=>{const u=c(375),h={};a.exports=function(m,g,d){if(g===!1||g==null)return m;typeof(d=d||{})=="string"&&(d={separator:d});const y=Array.isArray(g);u(!y||!d.separator,"Separator option is not valid for array-based chain");const _=y?g:g.split(d.separator||".");let b=m;for(let E=0;E<_.length;++E){let R=_[E];const T=d.iterables&&h.iterables(b);if(Array.isArray(b)||T==="set"){const A=Number(R);Number.isInteger(A)&&(R=A<0?b.length+A:A)}if(!b||typeof b=="function"&&d.functions===!1||!T&&b[R]===void 0){u(!d.strict||E+1===_.length,"Missing segment",R,"in reach path ",g),u(typeof b=="object"||d.functions===!0||typeof b!="function","Invalid segment",R,"in reach path ",g),b=d.default;break}b=T?T==="set"?[...b][R]:b.get(R):b[R]}return b},h.iterables=function(m){return m instanceof Set?"set":m instanceof Map?"map":void 0}},8761:a=>{a.exports=function(...l){try{return JSON.stringify(...l)}catch(c){return"[Cannot display object: "+c.message+"]"}}},4277:(a,l)=>{const c={};l=a.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},c.typeMap=new Map([["[object Error]",l.error],["[object Map]",l.map],["[object Promise]",l.promise],["[object Set]",l.set],["[object WeakMap]",l.weakMap],["[object WeakSet]",l.weakSet]]),l.getInternalProto=function(u){if(Array.isArray(u))return l.array;if(u instanceof Date)return l.date;if(u instanceof RegExp)return l.regex;if(u instanceof Error)return l.error;const h=Object.prototype.toString.call(u);return c.typeMap.get(h)||l.generic}},7043:(a,l)=>{l.keys=function(c,u={}){return u.symbols!==!1?Reflect.ownKeys(c):Object.getOwnPropertyNames(c)}},3652:(a,l,c)=>{const u=c(375),h={};l.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(m,g){const d=[].concat((g=g||{}).before||[]),y=[].concat(g.after||[]),_=g.group||"?",b=g.sort||0;u(!d.includes(_),`Item cannot come before itself: ${_}`),u(!d.includes("?"),"Item cannot come before unassociated items"),u(!y.includes(_),`Item cannot come after itself: ${_}`),u(!y.includes("?"),"Item cannot come after unassociated items"),Array.isArray(m)||(m=[m]);for(const E of m){const R={seq:this._items.length,sort:b,before:d,after:y,group:_,node:E};this._items.push(R)}if(!g.manual){const E=this._sort();u(E,"item",_!=="?"?`added into group ${_}`:"","created a dependencies error")}return this.nodes}merge(m){Array.isArray(m)||(m=[m]);for(const d of m)if(d)for(const y of d._items)this._items.push(Object.assign({},y));this._items.sort(h.mergeSort);for(let d=0;d<this._items.length;++d)this._items[d].seq=d;const g=this._sort();return u(g,"merge created a dependencies error"),this.nodes}sort(){const m=this._sort();return u(m,"sort created a dependencies error"),this.nodes}_sort(){const m={},g=Object.create(null),d=Object.create(null);for(const R of this._items){const T=R.seq,A=R.group;d[A]=d[A]||[],d[A].push(T),m[T]=R.before;for(const x of R.after)g[x]=g[x]||[],g[x].push(T)}for(const R in m){const T=[];for(const A in m[R]){const x=m[R][A];d[x]=d[x]||[],T.push(...d[x])}m[R]=T}for(const R in g)if(d[R])for(const T of d[R])m[T].push(...g[R]);const y={};for(const R in m){const T=m[R];for(const A of T)y[A]=y[A]||[],y[A].push(R)}const _={},b=[];for(let R=0;R<this._items.length;++R){let T=R;if(y[R]){T=null;for(let A=0;A<this._items.length;++A){if(_[A]===!0)continue;y[A]||(y[A]=[]);const x=y[A].length;let I=0;for(let N=0;N<x;++N)_[y[A][N]]&&++I;if(I===x){T=A;break}}}T!==null&&(_[T]=!0,b.push(T))}if(b.length!==this._items.length)return!1;const E={};for(const R of this._items)E[R.seq]=R;this._items=[],this.nodes=[];for(const R of b){const T=E[R];this.nodes.push(T.node),this._items.push(T)}return!0}},h.mergeSort=(m,g)=>m.sort===g.sort?0:m.sort<g.sort?-1:1},5380:(a,l,c)=>{const u=c(443),h=c(2178),m={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:u.URL||URL};l.analyze=function(g,d={}){if(!g)return h.code("DOMAIN_NON_EMPTY_STRING");if(typeof g!="string")throw new Error("Invalid input: domain must be a string");if(g.length>256)return h.code("DOMAIN_TOO_LONG");if(m.nonAsciiRx.test(g)){if(d.allowUnicode===!1)return h.code("DOMAIN_INVALID_UNICODE_CHARS");g=g.normalize("NFC")}if(m.domainControlRx.test(g))return h.code("DOMAIN_INVALID_CHARS");g=m.punycode(g),d.allowFullyQualified&&g[g.length-1]==="."&&(g=g.slice(0,-1));const y=d.minDomainSegments||m.minDomainSegments,_=g.split(".");if(_.length<y)return h.code("DOMAIN_SEGMENTS_COUNT");if(d.maxDomainSegments&&_.length>d.maxDomainSegments)return h.code("DOMAIN_SEGMENTS_COUNT_MAX");const b=d.tlds;if(b){const E=_[_.length-1].toLowerCase();if(b.deny&&b.deny.has(E)||b.allow&&!b.allow.has(E))return h.code("DOMAIN_FORBIDDEN_TLDS")}for(let E=0;E<_.length;++E){const R=_[E];if(!R.length)return h.code("DOMAIN_EMPTY_SEGMENT");if(R.length>63)return h.code("DOMAIN_LONG_SEGMENT");if(E<_.length-1){if(!m.domainSegmentRx.test(R))return h.code("DOMAIN_INVALID_CHARS")}else if(!m.tldSegmentRx.test(R))return h.code("DOMAIN_INVALID_TLDS_CHARS")}return null},l.isValid=function(g,d){return!l.analyze(g,d)},m.punycode=function(g){g.includes("%")&&(g=g.replace(/%/g,"%25"));try{return new m.URL(`http://${g}`).host}catch{return g}}},1745:(a,l,c)=>{const u=c(9848),h=c(5380),m=c(2178),g={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(u.TextEncoder||TextEncoder)};l.analyze=function(d,y){return g.email(d,y)},l.isValid=function(d,y){return!g.email(d,y)},g.email=function(d,y={}){if(typeof d!="string")throw new Error("Invalid input: email must be a string");if(!d)return m.code("EMPTY_STRING");const _=!g.nonAsciiRx.test(d);if(!_){if(y.allowUnicode===!1)return m.code("FORBIDDEN_UNICODE");d=d.normalize("NFC")}const b=d.split("@");if(b.length!==2)return b.length>2?m.code("MULTIPLE_AT_CHAR"):m.code("MISSING_AT_CHAR");const[E,R]=b;if(!E)return m.code("EMPTY_LOCAL");if(!y.ignoreLength){if(d.length>254)return m.code("ADDRESS_TOO_LONG");if(g.encoder.encode(E).length>64)return m.code("LOCAL_TOO_LONG")}return g.local(E,_)||h.analyze(R,y)},g.local=function(d,y){const _=d.split(".");for(const b of _){if(!b.length)return m.code("EMPTY_LOCAL_SEGMENT");if(y){if(!g.atextRx.test(b))return m.code("INVALID_LOCAL_CHARS")}else for(const E of b){if(g.atextRx.test(E))continue;const R=g.binary(E);if(!g.atomRx.test(R))return m.code("INVALID_LOCAL_CHARS")}}},g.binary=function(d){return Array.from(g.encoder.encode(d)).map(y=>String.fromCharCode(y)).join("")},g.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,g.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(a,l)=>{l.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},l.code=function(c){return{code:c,error:l.codes[c]}}},9959:(a,l,c)=>{const u=c(375),h=c(5752);l.regex=function(m={}){u(m.cidr===void 0||typeof m.cidr=="string","options.cidr must be a string");const g=m.cidr?m.cidr.toLowerCase():"optional";u(["required","optional","forbidden"].includes(g),"options.cidr must be one of required, optional, forbidden"),u(m.version===void 0||typeof m.version=="string"||Array.isArray(m.version),"options.version must be a string or an array of string");let d=m.version||["ipv4","ipv6","ipvfuture"];Array.isArray(d)||(d=[d]),u(d.length>=1,"options.version must have at least 1 version specified");for(let b=0;b<d.length;++b)u(typeof d[b]=="string","options.version must only contain strings"),d[b]=d[b].toLowerCase(),u(["ipv4","ipv6","ipvfuture"].includes(d[b]),"options.version contains unknown version "+d[b]+" - must be one of ipv4, ipv6, ipvfuture");d=Array.from(new Set(d));const y=`(?:${d.map(b=>{if(g==="forbidden")return h.ip[b];const E=`\\/${b==="ipv4"?h.ip.v4Cidr:h.ip.v6Cidr}`;return g==="required"?`${h.ip[b]}${E}`:`${h.ip[b]}(?:${E})?`}).join("|")})`,_=new RegExp(`^${y}$`);return{cidr:g,versions:d,regex:_,raw:y}}},5752:(a,l,c)=>{const u=c(375),h=c(6064),m={generate:function(){const g={},d="\\dA-Fa-f",y="["+d+"]",_="\\w-\\.~",b="!\\$&'\\(\\)\\*\\+,;=",E="%"+d,R=_+E+b+":@",T="["+R+"]",A="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";g.ipv4address="(?:"+A+"\\.){3}"+A;const x=y+"{1,4}",I="(?:"+x+":"+x+"|"+g.ipv4address+")",N="(?:"+x+":){6}"+I,L="::(?:"+x+":){5}"+I,O="(?:"+x+")?::(?:"+x+":){4}"+I,S="(?:(?:"+x+":){0,1}"+x+")?::(?:"+x+":){3}"+I,C="(?:(?:"+x+":){0,2}"+x+")?::(?:"+x+":){2}"+I,M="(?:(?:"+x+":){0,3}"+x+")?::"+x+":"+I,k="(?:(?:"+x+":){0,4}"+x+")?::"+I,$="(?:(?:"+x+":){0,5}"+x+")?::"+x,U="(?:(?:"+x+":){0,6}"+x+")?::";g.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",g.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",g.ipv6address="(?:"+N+"|"+L+"|"+O+"|"+S+"|"+C+"|"+M+"|"+k+"|"+$+"|"+U+")",g.ipvFuture="v"+y+"+\\.["+_+b+":]+",g.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",g.schemeRegex=new RegExp(g.scheme);const he="["+_+E+b+":]*",ge="["+_+E+b+"]{1,255}",K="(?:\\[(?:"+g.ipv6address+"|"+g.ipvFuture+")\\]|"+g.ipv4address+"|"+ge+")",se="(?:"+he+"@)?"+K+"(?::\\d*)?",pe="(?:"+he+"@)?("+K+")(?::\\d*)?",Se=T+"*",B=T+"+",re="(?:\\/"+Se+")*",me="\\/(?:"+B+re+")?",ce=B+re,_e="["+_+E+b+"@]+"+re,ke="(?:\\/\\/\\/"+Se+re+")";return g.hierPart="(?:(?:\\/\\/"+se+re+")|"+me+"|"+ce+"|"+ke+")",g.hierPartCapture="(?:(?:\\/\\/"+pe+re+")|"+me+"|"+ce+")",g.relativeRef="(?:(?:\\/\\/"+se+re+")|"+me+"|"+_e+"|)",g.relativeRefCapture="(?:(?:\\/\\/"+pe+re+")|"+me+"|"+_e+"|)",g.query="["+R+"\\/\\?]*(?=#|$)",g.queryWithSquareBrackets="["+R+"\\[\\]\\/\\?]*(?=#|$)",g.fragment="["+R+"\\/\\?]*",g}};m.rfc3986=m.generate(),l.ip={v4Cidr:m.rfc3986.ipv4Cidr,v6Cidr:m.rfc3986.ipv6Cidr,ipv4:m.rfc3986.ipv4address,ipv6:m.rfc3986.ipv6address,ipvfuture:m.rfc3986.ipvFuture},m.createRegex=function(g){const d=m.rfc3986,y="(?:\\?"+(g.allowQuerySquareBrackets?d.queryWithSquareBrackets:d.query)+")?(?:#"+d.fragment+")?",_=g.domain?d.relativeRefCapture:d.relativeRef;if(g.relativeOnly)return m.wrap(_+y);let b="";if(g.scheme){u(g.scheme instanceof RegExp||typeof g.scheme=="string"||Array.isArray(g.scheme),"scheme must be a RegExp, String, or Array");const T=[].concat(g.scheme);u(T.length>=1,"scheme must have at least 1 scheme specified");const A=[];for(let x=0;x<T.length;++x){const I=T[x];u(I instanceof RegExp||typeof I=="string","scheme at position "+x+" must be a RegExp or String"),I instanceof RegExp?A.push(I.source.toString()):(u(d.schemeRegex.test(I),"scheme at position "+x+" must be a valid scheme"),A.push(h(I)))}b=A.join("|")}const E="(?:"+(b?"(?:"+b+")":d.scheme)+":"+(g.domain?d.hierPartCapture:d.hierPart)+")",R=g.allowRelative?"(?:"+E+"|"+_+")":E;return m.wrap(R+y,b)},m.wrap=function(g,d){return{raw:g=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${g}`,regex:new RegExp(`^${g}$`),scheme:d}},m.uriRegex=m.createRegex({}),l.regex=function(g={}){return g.scheme||g.allowRelative||g.relativeOnly||g.allowQuerySquareBrackets||g.domain?m.createRegex(g):m.uriRegex}},1447:(a,l)=>{const c={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};l.Parser=class{constructor(u,h={}){if(!h[c.settings]&&h.constants)for(const m in h.constants){const g=h.constants[m];if(g!==null&&!["boolean","number","string"].includes(typeof g))throw new Error(`Formula constant ${m} contains invalid ${typeof g} value type`)}this.settings=h[c.settings]?h:Object.assign({[c.settings]:!0,constants:{},functions:{}},h),this.single=null,this._parts=null,this._parse(u)}_parse(u){let h=[],m="",g=0,d=!1;const y=b=>{if(g)throw new Error("Formula missing closing parenthesis");const E=h.length?h[h.length-1]:null;if(d||m||b){if(E&&E.type==="reference"&&b===")")return E.type="function",E.value=this._subFormula(m,E.value),void(m="");if(b===")"){const R=new l.Parser(m,this.settings);h.push({type:"segment",value:R})}else if(d){if(d==="]")return h.push({type:"reference",value:m}),void(m="");h.push({type:"literal",value:m})}else if(c.operatorCharacters.includes(m))E&&E.type==="operator"&&c.operators.includes(E.value+m)?E.value+=m:h.push({type:"operator",value:m});else if(m.match(c.numberRx))h.push({type:"constant",value:parseFloat(m)});else if(this.settings.constants[m]!==void 0)h.push({type:"constant",value:this.settings.constants[m]});else{if(!m.match(c.tokenRx))throw new Error(`Formula contains invalid token: ${m}`);h.push({type:"reference",value:m})}m=""}};for(const b of u)d?b===d?(y(),d=!1):m+=b:g?b==="("?(m+=b,++g):b===")"?(--g,g?m+=b:y(b)):m+=b:b in c.literals?d=c.literals[b]:b==="("?(y(),++g):c.operatorCharacters.includes(b)?(y(),m=b,y()):b!==" "?m+=b:y();y(),h=h.map((b,E)=>b.type!=="operator"||b.value!=="-"||E&&h[E-1].type!=="operator"?b:{type:"operator",value:"n"});let _=!1;for(const b of h){if(b.type==="operator"){if(c.operatorsPrefix.includes(b.value))continue;if(!_)throw new Error("Formula contains an operator in invalid position");if(!c.operators.includes(b.value))throw new Error(`Formula contains an unknown operator ${b.value}`)}else if(_)throw new Error("Formula missing expected operator");_=!_}if(!_)throw new Error("Formula contains invalid trailing operator");h.length===1&&["reference","literal","constant"].includes(h[0].type)&&(this.single={type:h[0].type==="reference"?"reference":"value",value:h[0].value}),this._parts=h.map(b=>{if(b.type==="operator")return c.operatorsPrefix.includes(b.value)?b:b.value;if(b.type!=="reference")return b.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(b.value))throw new Error(`Formula contains invalid reference ${b.value}`);return this.settings.reference?this.settings.reference(b.value):c.reference(b.value)})}_subFormula(u,h){const m=this.settings.functions[h];if(typeof m!="function")throw new Error(`Formula contains unknown function ${h}`);let g=[];if(u){let d="",y=0,_=!1;const b=()=>{if(!d)throw new Error(`Formula contains function ${h} with invalid arguments ${u}`);g.push(d),d=""};for(let E=0;E<u.length;++E){const R=u[E];_?(d+=R,R===_&&(_=!1)):R in c.literals&&!y?(d+=R,_=c.literals[R]):R!==","||y?(d+=R,R==="("?++y:R===")"&&--y):b()}b()}return g=g.map(d=>new l.Parser(d,this.settings)),function(d){const y=[];for(const _ of g)y.push(_.evaluate(d));return m.call(d,...y)}}evaluate(u){const h=this._parts.slice();for(let m=h.length-2;m>=0;--m){const g=h[m];if(g&&g.type==="operator"){const d=h[m+1];h.splice(m+1,1);const y=c.evaluate(d,u);h[m]=c.single(g.value,y)}}return c.operatorsOrder.forEach(m=>{for(let g=1;g<h.length-1;)if(m.includes(h[g])){const d=h[g],y=c.evaluate(h[g-1],u),_=c.evaluate(h[g+1],u);h.splice(g,2);const b=c.calculate(d,y,_);h[g-1]=b===0?0:b}else g+=2}),c.evaluate(h[0],u)}},l.Parser.prototype[c.symbol]=!0,c.reference=function(u){return function(h){return h&&h[u]!==void 0?h[u]:null}},c.evaluate=function(u,h){return u===null?null:typeof u=="function"?u(h):u[c.symbol]?u.evaluate(h):u},c.single=function(u,h){if(u==="!")return!h;const m=-h;return m===0?0:m},c.calculate=function(u,h,m){if(u==="??")return c.exists(h)?h:m;if(typeof h=="string"||typeof m=="string"){if(u==="+")return(h=c.exists(h)?h:"")+(c.exists(m)?m:"")}else switch(u){case"^":return Math.pow(h,m);case"*":return h*m;case"/":return h/m;case"%":return h%m;case"+":return h+m;case"-":return h-m}switch(u){case"<":return h<m;case"<=":return h<=m;case">":return h>m;case">=":return h>=m;case"==":return h===m;case"!=":return h!==m;case"&&":return h&&m;case"||":return h||m}return null},c.exists=function(u){return u!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:a=>{a.exports=JSON.parse('{"version":"17.13.3"}')}},s={},function a(l){var c=s[l];if(c!==void 0)return c.exports;var u=s[l]={exports:{}};return n[l](u,u.exports,a),u.exports}(5107);var n,s})}(lp)),lp.exports}var A6=S6();const bo=zT(A6),ng=bo.object({title:bo.string().required().messages({"string.empty":"You need to give the product a title"}),description:bo.string().required().max(160).messages({"string.empty":"A description is reqired","string.max":"Description can't be longer than 160 charachters"}),category:bo.string().max(20).pattern(/^(?:[A-ZÅÄÖ][a-zåäö]*\s?)*$/).required().messages({"string.empty":"A category is required","string.max":"Category can't be more than 20 characters","string.pattern.base":"Each word must start with an uppercase letter"}),price:bo.number().greater(0).messages({"number.base":"Price must be a number","number.greater":"The price can't be less then 1","any.reqired":"A price is required"}),img:bo.string().pattern(/^https?:\/\/.+/i).pattern(/\.(jpeg|jpg|gif|png|webp|svg)$/i).required().messages({"string.empty":"An image link is required","string.pattern.base":"The link has to start with http eller https and lead to an image file(jpg, png, gif, etc)."})}),R6=({item:t,onEdit:e,onRemove:n})=>{const[s,a]=H.useState(!1),[l,c]=H.useState(!1),[u,h]=H.useState(t),[m,g]=H.useState({}),[d,y]=H.useState(!1),[_,b]=H.useState(null),E=()=>{a(!0),c(!0),y(!1)},R=()=>{a(!1),h(t),g({}),setTimeout(()=>{c(!1)},300)},T=()=>{const{id:I,...N}=u,{error:L}=ng.validate(N,{abortEarly:!1});if(L){console.log(L);const O={};L.details.forEach(S=>{O[S.path[0]]=S.message}),g(O);return}e(u),g({}),a(!1),setTimeout(()=>{c(!1)},300)},A=I=>{const{name:N,value:L}=I.target;h({...u,[N]:L})},x=()=>{if(d)n(t.id),clearTimeout(_);else{y(!0);const I=setTimeout(()=>{y(!1)},3e3);b(I)}};return Y.jsx("div",{className:`admin-item ${s?"editing":""}`,children:l?Y.jsxs("div",{className:`edit-form ${s?"open":"close"}`,children:[Y.jsx("label",{htmlFor:"title",children:"Title"}),Y.jsx("input",{id:"title",type:"text",name:"title",value:u.title,onChange:A}),Y.jsx("div",{className:"error-message",children:m.title&&Y.jsx("p",{className:"error",children:m.title})}),Y.jsx("label",{htmlFor:"description",children:"Description"}),Y.jsx("textarea",{id:"description",name:"description",value:u.description,onChange:A}),Y.jsx("div",{className:"error-message",children:m.description&&Y.jsx("p",{className:"error",children:m.description})}),Y.jsx("label",{htmlFor:"category",children:"Category"}),Y.jsx("textarea",{id:"category",name:"category",value:u.category,onChange:A}),Y.jsx("div",{className:"error-message",children:m.category&&Y.jsx("p",{className:"error",children:m.category})}),Y.jsx("label",{htmlFor:"price",children:"Price"}),Y.jsx("input",{id:"price",type:"number",name:"price",value:u.price,onChange:A}),Y.jsx("div",{className:"error-message",children:m.price&&Y.jsx("p",{className:"error",children:m.price})}),Y.jsx("label",{htmlFor:"img",children:"Image link"}),Y.jsx("input",{id:"img",type:"text",name:"img",value:u.img,onChange:A}),Y.jsx("div",{className:"error-message",children:m.img&&Y.jsx("p",{children:m.img})}),Y.jsxs("div",{className:"admin-actions",children:[Y.jsx("button",{className:"save-btn",onClick:T,children:"Save"}),Y.jsx("button",{className:"cancel-btn",onClick:R,children:"Cancel"})]})]}):Y.jsxs(Y.Fragment,{children:[Y.jsx("div",{className:"admin-item-img-container",children:Y.jsx("img",{className:"admin-item-img",src:t.img,alt:t.title})}),Y.jsxs("div",{className:"admin-item-info",children:[Y.jsx("p",{children:t.title}),Y.jsxs("p",{children:[t.price," $"]}),Y.jsx("p",{children:t.category})]}),Y.jsxs("div",{className:"admin-actions",children:[Y.jsx("button",{onClick:E,children:"Edit"}),Y.jsx("button",{className:d?"confirm-remove":"",onClick:x,children:d?"Are you sure?":"Remove"})]})]})})},x6=()=>{const[t,e]=H.useState(!1),[n,s]=H.useState({}),[a,l]=H.useState(!1),[c,u]=H.useState(!1),[h,m]=H.useState({title:"",description:"",category:"",price:"",img:""}),g=ki(T=>T.addProduct),d=ki(T=>T.loading),y=T=>{const{name:A,value:x}=T.target,I={...h,[A]:x};if(m(I),c){const{error:N}=ng.validate(I,{abortEarly:!1}),L={};N&&N.details.forEach(O=>{L[O.path[0]]=O.message}),s(L)}else{const N={...n};delete N[A],s(N)}},_=()=>{l(!0)},b=()=>{const{error:T}=ng.validate(h,{abortEarly:!1});if(!T)return null;const A={};return T.details.forEach(x=>{A[x.path[0]]=x.message}),s(A),A},E=async T=>{T.preventDefault();const A=b();if(A){s(A),console.log("failed to add item",A),u(!0);return}s({}),u(!1);try{await g(h),m({title:"",description:"",category:"",price:"",img:""}),s({}),e(!0),l(!1)}catch(x){console.error("Failed to add item:",x)}},R=()=>{m({title:"",description:"",category:"",price:"",img:""}),s({}),l(!1),u(!1)};return Y.jsx("section",{className:"add-item",children:t?Y.jsxs("div",{className:"show-confirm",children:[Y.jsx("h2",{children:"Item added!"}),Y.jsx("button",{onClick:()=>e(!1),className:"add-more-button",children:"Add another item"})]}):Y.jsxs("div",{className:"show-form",children:[Y.jsx("h2",{children:"New item"}),Y.jsxs("form",{onSubmit:E,children:[Y.jsxs("label",{htmlFor:"title",children:["Title",Y.jsx("input",{id:"title",type:"text",name:"title",value:h.title,onChange:y,onFocus:_}),Y.jsx("div",{className:"error-message",children:n.title&&Y.jsx("p",{className:"error",children:n.title})})]}),Y.jsxs("label",{htmlFor:"description",children:["Description",Y.jsx("textarea",{id:"description",name:"description",value:h.description,onChange:y,onFocus:_}),Y.jsx("div",{className:"error-message",children:n.description&&Y.jsx("p",{className:"error",children:n.description})})]}),Y.jsxs("label",{htmlFor:"category",children:["Category",Y.jsx("input",{type:"text",id:"category",name:"category",value:h.category,onChange:y,onFocus:_}),Y.jsx("div",{className:"error-message",children:n.category&&Y.jsx("p",{className:"error",children:n.category})})]}),Y.jsxs("label",{htmlFor:"price",children:["Price",Y.jsx("input",{id:"price",type:"number",name:"price",value:h.price,onChange:y,onFocus:_}),Y.jsx("div",{className:"error-message",children:n.price&&Y.jsx("p",{className:"error",children:n.price})})]}),Y.jsxs("label",{htmlFor:"img",children:["Image link",Y.jsx("input",{id:"img",type:"text",name:"img",value:h.img,onChange:y,onFocus:_}),Y.jsx("div",{className:"error-message",children:n.img&&Y.jsx("p",{children:n.img})})]}),Y.jsxs("div",{className:"form-actions",children:[Y.jsx("button",{className:"cancel-button",type:"button",onClick:R,disabled:!a,children:"Clear form"}),Y.jsx("button",{className:"submit-button",type:"submit",disabled:!a,children:d?"Loading...":"Add item"})]})]})]})})},C6=()=>{const t=ah(m=>m.isLoggedIn),e=ch(),{filteredProducts:n,updateProduct:s,removeProduct:a,loading:l}=ki(),c=async m=>{try{await W1(m),s(m)}catch(g){console.error("Error updating product:",g)}},u=async m=>{try{await J1(m),a(m)}catch(g){console.error("Error removing product:",g)}},h=()=>{ah.setState({isLoggedIn:!1}),e("/login")};return t?Y.jsxs("section",{className:"admin-section",children:[Y.jsxs("div",{className:"admin-items-container",children:[Y.jsx("h2",{children:"Edit or remove items"}),Y.jsx(C2,{}),l?Y.jsx("h2",{className:"no-products",children:"Loading..."}):n.length===0?Y.jsx("h2",{className:"no-products",children:"No products found"}):n.map(m=>Y.jsx(R6,{item:m,onEdit:c,onRemove:u},m.id))]}),Y.jsxs("div",{className:"admin-form-container",children:[Y.jsx(x6,{}),Y.jsx("div",{className:"logout-container",children:Y.jsx("button",{className:"logout-btn",onClick:h,children:"Logout"})})]})]}):Y.jsx("section",{children:Y.jsxs("div",{className:"not-logged-in-container",children:[Y.jsx("h2",{className:"not-logged-in",children:"Please log in to access the admin panel"}),Y.jsxs(ju,{className:"back-btn",to:"/login",children:["Back to Log in page"," "]})]})})},D6=iC([{path:"/",Component:v6,children:[{index:!0,Component:b6},{path:"cart",Component:T6},{path:"login",Component:w6},{path:"admin",Component:C6}]}]);lR.createRoot(document.getElementById("root")).render(Y.jsx(H.StrictMode,{children:Y.jsx(Dx,{router:D6})}));
